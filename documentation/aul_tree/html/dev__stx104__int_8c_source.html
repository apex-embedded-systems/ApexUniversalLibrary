<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Apex Universal Library: /home/mike/aes_eclipse/aul_tree/devices/stx104/dev_stx104_int.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apex Universal Library
   </div>
   <div id="projectbrief">AUL Library and Driver APIs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dev__stx104__int_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dev_stx104_int.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dev__stx104__int_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/********************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">_____________________________________________________________________________  </span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Description:</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">Purpose:</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">Remark:</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">Example:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">Copyright Notice:</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">        COPYRIGHT NOTICE Copyright (c) 2014 by Apex Embedded Systems. All rights </span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">        reserved. This document is the confidential property of Apex Embedded </span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">        Systems Any reproduction or dissemination is prohibited unless specifically </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">        authorized in writing.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">License:</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">_____________________________________________________________________________</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">TODO:</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">1. Must verify interupt timing based on source selected (at least for analog inputs).</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">        if timing exceeds 5KHz, it should error out and request that these values be fixed.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        read aift and aibt and compute potential sample rate.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">                STX104_INT_EXCEEDS_5KHZ</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">*********************************************************************************/</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dev__stx104_8h.html">dev_stx104.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;../../shared/status.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;../../shared/mem.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;../../shared/error.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;../../shared/compiler.h&quot;</span>  <span class="comment">/* inline */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;../../shared/callconv.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;../../aul/aul_shared.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;../../io/io.h&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dev__stx104__index_8h.html">dev_stx104_index.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">enum</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">   52</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">STX104_INTR_XFR_STATUS_TRANSFER</a> = 0,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480">   53</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480">STX104_INTR_XFR_CLEAR</a>                           = 1,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871">   54</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871">STX104_INTR_XFR_FIFO_STATUS_MSB</a> = 2,</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be">   55</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be">STX104_INTR_XFR_FIFO_STATUS_LSB</a> = 3,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;};</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9">   57</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="dev__stx104__int_8c.html#a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9">STX104_INTR_XFR_COUNT</a> = 4 };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">enum</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e">   61</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e">STX104_INTR_MASK_NONE</a>   = 0x00,</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6">   62</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6">STX104_INTR_MASK_SRC_A</a>  = 0x01,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf">   63</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf">STX104_INTR_MASK_SRC_B</a>  = 0x02,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463">   64</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463">STX104_INTR_MASK_SRC_C</a>  = 0x04,</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea9b66b9560a7393f4a633373539d8f213">   65</a></span>&#160;        <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea9b66b9560a7393f4a633373539d8f213">STX104_INTR_MASK_SRC_D</a>  = 0x08</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/*******************************************************************/</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a75ba73bdd51f9d1db99d7b93fcb6e455">   70</a></span>&#160;<span class="preprocessor">#define STX104_INTR_MODULE_REV &quot;$Date: 2014-05-17 00:20:44 -0500 (Sat, 17 May 2014) $&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">/********************************************************************************************************/</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#ad0d63def7246e53e0b37016e8c5d6dda">   72</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="dev__stx104__int_8c.html#ad0d63def7246e53e0b37016e8c5d6dda">STX104_Intr_SVN_Time_Stamp</a>( <span class="keywordtype">void</span> ) { <span class="keywordflow">return</span> <a class="code" href="dev__stx104__int_8c.html#a75ba73bdd51f9d1db99d7b93fcb6e455">STX104_INTR_MODULE_REV</a>; }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/*******************************************************************/</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#if(0)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keywordtype">void</span> STX104_Int_Enhanced_Registers_Set( <span class="keywordtype">int</span> board, BOOL enable )</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordtype">int</span>                                                     error_code;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                            device;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        uint16_t                                                reg_value;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *   ds;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        device = <a class="code" href="aul_8c.html#aa16443801f2104c3aff17cbf9bef5b3a">AUL_Device_Get</a>( board );</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        ds     = (<a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *) device-&gt;<a class="code" href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#a3996f051686d51075f7ca35a1e8c8a03">STX104_Index_Read_U16</a>( board, STX104_INTERRUPT_CONFIGURATION, &amp;reg_value );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">if</span> ( enable == <span class="keyword">false</span> )</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                reg_value &amp;= 0x7FFF; <span class="comment">/* ICFG.EIS     = 0 */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                reg_value &amp;= 0xBFFF; <span class="comment">/* ICFG.ISSBE   = 0 */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                reg_value &amp;= 0xDFFF; <span class="comment">/* ICFG.nINT_FF = 0 */</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="comment">//device_allocation[board].reg_store[STX104_REG_STORE_INT_ENHANCE].byte[0] = 0;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                ds-&gt;intr_enhance = 0;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                reg_value |= 0x8000; <span class="comment">/* ICFG.EIS     = 1 */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                reg_value |= 0x4000; <span class="comment">/* ICFG.ISSBE   = 1 */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                reg_value |= 0x2000; <span class="comment">/* ICFG.nINT_FF = 1 */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="comment">//device_allocation[board].reg_store[STX104_REG_STORE_INT_ENHANCE].byte[0] = 1;</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                ds-&gt;intr_enhance = 1;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#ac5955d5cf8b4570a982ce219c40e2a2f">STX104_Index_Write_U16</a>( board, STX104_INTERRUPT_CONFIGURATION, reg_value );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">static BOOL STX104_Int_IsEnabled(WDC_DEVICE_HANDLE hDev)</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">    if ( !IsValidDevice((PWDC_DEVICE)hDev, &quot;STX104_Int_IsEnabled&quot;) )</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">        return FALSE;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">    return WDC_IntIsEnabled(hDev);</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">}*/</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#if defined( _WIN32 )</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __stdcall STX104_Int_Handler( <span class="keywordtype">void</span> * private_data )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a> STX104_Int_Handler( <span class="keywordtype">void</span> * private_data )</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*      int                                                             error_code;*/</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                                    device;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="structstx104__intr__params.html">stx104_intr_params_type</a> *       ds;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        uint8_t                                                 status;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="structio__xfr.html">io_xfr_type</a>     *                                       xfr;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordtype">size_t</span>                                                  counter; <span class="comment">/* fail-safe exit strategy */</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="structstx104__intr__dataset.html">STX104_INT_RESULT_TYPE</a>          task_dataset;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        ds     = (<a class="code" href="structstx104__intr__params.html">stx104_intr_params_type</a> *) private_data;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        device = ds-&gt;<a class="code" href="structstx104__intr__params.html#adffc102fe8a9e46ebe36e3cb545eda3b">device</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        xfr    = ds-&gt;<a class="code" href="structstx104__intr__params.html#abfa38d188f9690611265bd0944c157cd">list_status</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        status = xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">STX104_INTR_XFR_STATUS_TRANSFER</a>].<a class="code" href="structio__xfr.html#a68d0c4cc448ee6c0a48ec0e3a6913f05">data</a>.<a class="code" href="structio__xfr.html#a0084c9e8c5778849f41d9de5df9c0f85">u8</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment">/* mask any interrupts not active/enabled */</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        status = status &amp; ds-&gt;<a class="code" href="structstx104__intr__params.html#af76d98805109a0884ca7a152d5adede2">interrupt_list_active</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        counter = 3;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">while</span> ( status ) <span class="comment">/* status can only be those interrupts that are indeed active! */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">if</span>      ( status &amp; <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6">STX104_INTR_MASK_SRC_A</a> ) <span class="comment">/* ISSA */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( &amp;task_dataset, 0, <span class="keyword">sizeof</span>( task_dataset ) );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a0eab1ea14b5d1ee2009714f14b18a91a">user_defined_dataset</a> = ds-&gt;<a class="code" href="structstx104__intr__params.html#a8392ba21040325e3114aa921e42da091">interrupt_dataset_a</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>                                       = ds-&gt;<a class="code" href="structstx104__intr__params.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        ( * ds-&gt;<a class="code" href="structstx104__intr__params.html#ae7f91cfc278d1555cdc4999ccee5122e">interrupt_handler_a</a> )( &amp;task_dataset );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        status &amp;= ~STX104_INTR_MASK_SRC_A; <span class="comment">/* mark as done */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( status &amp; <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf">STX104_INTR_MASK_SRC_B</a> ) <span class="comment">/* ISSB */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( &amp;task_dataset, 0, <span class="keyword">sizeof</span>( task_dataset ) );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a0eab1ea14b5d1ee2009714f14b18a91a">user_defined_dataset</a> = ds-&gt;<a class="code" href="structstx104__intr__params.html#a67f3cd80d398b6dea240ec418654bd9c">interrupt_dataset_b</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>                                       = ds-&gt;<a class="code" href="structstx104__intr__params.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        ( * ds-&gt;<a class="code" href="structstx104__intr__params.html#ad95d765d40c12c889b2f3ceb85a0b3a8">interrupt_handler_b</a> )( &amp;task_dataset );</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        status &amp;= ~STX104_INTR_MASK_SRC_B; <span class="comment">/* mark as done */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( status &amp; <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463">STX104_INTR_MASK_SRC_C</a> ) <span class="comment">/* FIFO */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( &amp;task_dataset, 0, <span class="keyword">sizeof</span>( task_dataset ) );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a0eab1ea14b5d1ee2009714f14b18a91a">user_defined_dataset</a> = ds-&gt;<a class="code" href="structstx104__intr__params.html#a877f80072aa0ddeff66dcfebd0471446">interrupt_dataset_c</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        task_dataset.<a class="code" href="structstx104__intr__dataset.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>                                       = ds-&gt;<a class="code" href="structstx104__intr__params.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        ( * ds-&gt;<a class="code" href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">interrupt_handler_c</a> )( &amp;task_dataset );</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        status &amp;= ~STX104_INTR_MASK_SRC_C; <span class="comment">/* mark as done */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="comment">/* fail-safe exit strategy */</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                counter--;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                <span class="keywordflow">if</span> ( 0 == counter ) status = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> STX104_Int_Enable( <span class="keywordtype">int</span> board )</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordtype">int</span>                                                     error_code;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                            device;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *   ds;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordtype">size_t</span>                                          interrupt_list_active;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordtype">size_t</span>                                          xfr_count;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="structio__xfr.html">io_xfr_type</a>                                     xfr[<a class="code" href="dev__stx104__int_8c.html#a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9">STX104_INTR_XFR_COUNT</a>];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        device = <a class="code" href="aul_8c.html#aa16443801f2104c3aff17cbf9bef5b3a">AUL_Device_Get</a>( board );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> ( device-&gt;<a class="code" href="structdevmgr__device.html#a25e0bc52a9dff0cd758ad258dfc4d459">io_irq_active</a> ) </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {       error_code = <a class="code" href="aul__status__enum_8h.html#ac45daf932bb032df266b1854415d5914ae2c34092247ba937bd0e20dfa7c26617">EC_STX104_CFG_INTERRUPT_ACTIVE</a>;            <span class="keywordflow">goto</span> STX104_Int_Enable_Error;   }       </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        ds               = (<a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *) device-&gt;<a class="code" href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        interrupt_list_active = <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e">STX104_INTR_MASK_NONE</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        if ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ae7f91cfc278d1555cdc4999ccee5122e">interrupt_handler_a</a> ) interrupt_list_active |= <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6">STX104_INTR_MASK_SRC_A</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ad95d765d40c12c889b2f3ceb85a0b3a8">interrupt_handler_b</a> ) interrupt_list_active |= <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf">STX104_INTR_MASK_SRC_B</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">interrupt_handler_c</a> ) interrupt_list_active |= <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463">STX104_INTR_MASK_SRC_C</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a31fc21946be9dca6e745272f4362d7c1">interrupt_handler_d</a> ) interrupt_list_active |= <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea9b66b9560a7393f4a633373539d8f213">STX104_INTR_MASK_SRC_D</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="comment">/* build transfer list that will be used by the interrupt handler */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( xfr, 0, <span class="keyword">sizeof</span>( <a class="code" href="structio__xfr.html">io_xfr_type</a> ) * <a class="code" href="dev__stx104__int_8c.html#a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9">STX104_INTR_XFR_COUNT</a> );</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">STX104_INTR_XFR_STATUS_TRANSFER</a>].<a class="code" href="structio__xfr.html#a8933cdd83efbe50952053f61d71fe57d">command</a> = <a class="code" href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50ba19639c2b53206bcd8540229b59e9859c">IO_XFR_READ_U8</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">STX104_INTR_XFR_STATUS_TRANSFER</a>].<a class="code" href="structio__xfr.html#aadb6d6eb83e646653a1402032e45dcab">offset</a>  = STX104_ADC_STATUS + device-&gt;<a class="code" href="structdevmgr__device.html#ac87a4a56710bf75574db36ba09b99a4b">io_region_offset</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480">STX104_INTR_XFR_CLEAR</a>].<a class="code" href="structio__xfr.html#a8933cdd83efbe50952053f61d71fe57d">command</a>                       = <a class="code" href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50baa0c6ef90eb7eec4c74862015bada77d3">IO_XFR_WRITE_U8</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480">STX104_INTR_XFR_CLEAR</a>].<a class="code" href="structio__xfr.html#aadb6d6eb83e646653a1402032e45dcab">offset</a>                        = STX104_CLEAR_INTERRUPTS + device-&gt;<a class="code" href="structdevmgr__device.html#ac87a4a56710bf75574db36ba09b99a4b">io_region_offset</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        xfr_count = 2;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">interrupt_handler_c</a> )  <span class="comment">/* FIFO */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871">STX104_INTR_XFR_FIFO_STATUS_MSB</a>].<a class="code" href="structio__xfr.html#a8933cdd83efbe50952053f61d71fe57d">command</a> = <a class="code" href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50ba19639c2b53206bcd8540229b59e9859c">IO_XFR_READ_U8</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871">STX104_INTR_XFR_FIFO_STATUS_MSB</a>].<a class="code" href="structio__xfr.html#aadb6d6eb83e646653a1402032e45dcab">offset</a>  = STX104_FIFO_FLAGS + device-&gt;<a class="code" href="structdevmgr__device.html#ac87a4a56710bf75574db36ba09b99a4b">io_region_offset</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be">STX104_INTR_XFR_FIFO_STATUS_LSB</a>].<a class="code" href="structio__xfr.html#a8933cdd83efbe50952053f61d71fe57d">command</a> = <a class="code" href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50ba19639c2b53206bcd8540229b59e9859c">IO_XFR_READ_U8</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                xfr[<a class="code" href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be">STX104_INTR_XFR_FIFO_STATUS_LSB</a>].<a class="code" href="structio__xfr.html#aadb6d6eb83e646653a1402032e45dcab">offset</a>  = STX104_FIFO_DATA_STATUS + device-&gt;<a class="code" href="structdevmgr__device.html#ac87a4a56710bf75574db36ba09b99a4b">io_region_offset</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                xfr_count = 4;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/*TODO: pass xfr down to interrupt enable.  Need to pass:  xfr_count, xfr*/</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">/* make this a single atomic operation, just in case we need to move this to after interrupt enable */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#af76d98805109a0884ca7a152d5adede2">interrupt_list_active</a> = interrupt_list_active;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        error_code = <a class="code" href="io_8c.html#a987d2a4e9ab95d0c211e113455302bcb">IO_Interrupt_Enable</a>(       device-&gt;<a class="code" href="structdevmgr__device.html#a41c55b0af4fc2ee048aed49ea5511728">io_device</a>, </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">/*TODO:*/</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                                                                                        <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a>, <span class="comment">/* interrupt handler */</span> </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                                                                                                        <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a>  <span class="comment">/* private data */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                                                                          );</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;STX104_Int_Enable_Error:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> ( error_code &lt; 0 ) error_code = -error_code;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a>( <a class="code" href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a>, __func__, __LINE__, error_code );</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">return</span> -error_code;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#if(0)</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        DWORD dw_status;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordtype">int</span> error_code;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    PWDC_DEVICE device_pointer;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        WDC_DEVICE_HANDLE device_handle;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    AUL_DEVICE_CONTEXT_PTR device_context_pointer;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        WD_TRANSFER* trans_ptr;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        DWORD trans_count;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        WDC_ADDR_DESC* address_desc_ptr;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        uint8_t adc_control_register;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        AUL_Trace_Log(<span class="stringliteral">&quot;STX104_Int_Enable entered. Device handle: %d\n&quot;</span>, board );</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        device_handle  = device_allocation[board].device_handle;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        device_pointer = (PWDC_DEVICE) device_handle;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> ( device_allocation[board].interrupt_active ) </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">return</span>( STX104_EC_DEVICE_CFG_UNAVAILABLE_INTERRUPT_ACTIVE );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        error_code = <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span> ( (board &gt;= 0) &amp;&amp; (board &lt;= AUL_DEVICE_ALLOCATION_QUANTITY) &amp;&amp; (device_handle != <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a>) )</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        {               </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="comment">/* test validity of board pointers, just to be sure */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="keywordflow">if</span> ( !IsValidDevice(device_pointer, <span class="stringliteral">&quot;STX104_Int_Enable&quot;</span>) )</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_BOARD_NOT_FOUND );</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="comment">/* test to see that we have a valid IRQ that we can actually enable interrupts */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">/*TEMP          if ( device_allocation[board].device_info.Item[2].I.Int.dwInterrupt == AUL_IRQ_NONE )*/</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">if</span> ( device_allocation[board].device_info.Item[0].I.Int.dwInterrupt == <a class="code" href="aul__hwdef_8c.html#a90cad683a66457d7f5f23dffd036ab90a372664e6e93bb79ea209257b5bd8d105">AUL_IRQ_NONE</a> )</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        AUL_Error_Log( <span class="stringliteral">&quot;Int_Enable: Error - IRQ is zero or invalid, see hardware configuration file.\n&quot;</span> );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_INT_IRQ_SET_TO_NONE );        </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="comment">/* Check if interrupts are already enabled - kernel perspective */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="keywordflow">if</span> ( WDC_IntIsEnabled(device_handle) )</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_INT_INTERRUPTS_ALREADY_ENABLED );</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                device_context_pointer = (AUL_DEVICE_CONTEXT_PTR) WDC_GetDevContext( device_pointer );</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">if</span> ( device_context_pointer-&gt;interrupt_handler_c != <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> ) <span class="comment">/* fifo flag */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                        trans_count = 4;        </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        trans_count = 2;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                trans_ptr = (WD_TRANSFER*) calloc( trans_count, <span class="keyword">sizeof</span>(WD_TRANSFER) );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/*trans_ptr = (WD_TRANSFER*) calloc( 5, sizeof(WD_TRANSFER) );*/</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                <span class="keywordflow">if</span> ( !trans_ptr )</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        AUL_Error_Log( <span class="stringliteral">&quot;Int_Enable: Error - Cannot allocate memory.\n&quot;</span> );</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_INT_MEMORY_ERROR );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CHANNEL, device_allocation[board].reg_store[STX104_REG_STORE_AI_CHANNEL_REG].byte[0] );</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">2013            WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, &amp;adc_control_register );</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">2013            adc_control_register &amp;= 0x0F;</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">2013            adc_control_register |= ( (device_allocation[board].device_info.Item[0].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, 0 );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;{</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;uint8_t scratch;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;WDC_ReadAddr8(device_allocation[board].device_handle, 0, STX104_ADC_STATUS, &amp;scratch );</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;printf(<span class="stringliteral">&quot;a: STX104_ADC_STATUS =0x%02X\n&quot;</span>,  scratch );</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;WDC_ReadAddr8(device_allocation[board].device_handle, 0, STX104_ADC_CONTROL, &amp;scratch );</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;printf(<span class="stringliteral">&quot;a: STX104_ADC_CONTROL=0x%02X\n&quot;</span>, scratch );</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                trans_count = 0;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="comment">/* read ADC status */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                address_desc_ptr                = &amp;device_pointer-&gt;pAddrDesc[0 <span class="comment">/* BAR0 */</span>];</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="comment">/* STX104_INT_STATUS_TRANSFER = 0 */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                trans_ptr[trans_count].dwPort   = address_desc_ptr-&gt;kptAddr + STX104_ADC_STATUS;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                trans_ptr[trans_count].cmdTrans = WDC_ADDR_IS_MEM(address_desc_ptr) ? RM_BYTE : RP_BYTE;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                trans_count++;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="comment">/* read fifo status if we need to */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <span class="keywordflow">if</span> ( device_context_pointer-&gt;interrupt_handler_c != <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> ) <span class="comment">/* fifo flag */</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        address_desc_ptr                = &amp;device_pointer-&gt;pAddrDesc[STX104_BAR <span class="comment">/* BAR0 */</span>];</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                        <span class="comment">/* STX104_INT_FIFO_STATUS_MSB_TRANSFER = 1 */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                        trans_ptr[trans_count].dwPort   = address_desc_ptr-&gt;kptAddr + STX104_FIFO_FLAGS;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        trans_ptr[trans_count].cmdTrans = WDC_ADDR_IS_MEM(address_desc_ptr) ? RM_BYTE : RP_BYTE;                </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        trans_count++;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                        </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                        <span class="comment">/* STX104_INT_FIFO_STATUS_LSB_TRANSFER = 2 */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                        address_desc_ptr                = &amp;device_pointer-&gt;pAddrDesc[STX104_BAR <span class="comment">/* BAR0 */</span>];</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        trans_ptr[trans_count].dwPort   = address_desc_ptr-&gt;kptAddr + STX104_FIFO_DATA_STATUS;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        trans_ptr[trans_count].cmdTrans = WDC_ADDR_IS_MEM(address_desc_ptr) ? RM_BYTE : RP_BYTE;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        trans_count++;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="comment">/* write to the interrupt clear register */</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                address_desc_ptr = &amp;device_pointer-&gt;pAddrDesc[STX104_BAR <span class="comment">/* BAR0 */</span>];</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                trans_ptr[trans_count].dwPort = address_desc_ptr-&gt;kptAddr + STX104_CLEAR_INTERRUPTS;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                trans_ptr[trans_count].cmdTrans = WDC_ADDR_IS_MEM(address_desc_ptr) ? WM_BYTE : WP_BYTE;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                trans_ptr[trans_count].Data.Byte = 0x00;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                trans_count++;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/*TEMP:</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_STATUS, &amp;asr );</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">printf(&quot;b: asr=0x%02X\n&quot;, asr );*/</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;printf(<span class="stringliteral">&quot; 0: dwPort=0x%04X, cmdTrans=%d\n&quot;</span>, trans_ptr[0].dwPort, trans_ptr[0].cmdTrans );</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;printf(<span class="stringliteral">&quot; 1: dwPort=0x%04X, cmdTrans=%d\n&quot;</span>, trans_ptr[1].dwPort, trans_ptr[1].cmdTrans );</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;printf(<span class="stringliteral">&quot;    trans_count = %d\n&quot;</span>, trans_count );</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;printf(<span class="stringliteral">&quot;    WDC_IS_KP(device_handle) = %d\n&quot;</span>, WDC_IS_KP(device_handle) );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <span class="comment">/* Store the interrupt transfer commands in the device context */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                device_context_pointer-&gt;int_xfer_commands = trans_ptr;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">/*2013NOV26*/</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, &amp;adc_control_register );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;adc_control_register &amp;= 0x0F;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;adc_control_register |= ( (device_allocation[board].device_info.Item[2].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;printf(<span class="stringliteral">&quot; 2: adc_control_register=0x%02X\n&quot;</span>, (<span class="keywordtype">int</span>) adc_control_register );</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">temp    -- really need a way to see whether or not interrupt is active or not!  */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="comment">/* Enable the interrupts */</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">                dw_status = WDC_IntEnable(device_handle, trans_ptr, trans_count, INTERRUPT_CMD_COPY,</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">                                              STX104_Int_Handler, (PVOID)device_pointer, WDC_IS_KP(device_handle));</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;dw_status  = WD_STATUS_SUCCESS;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <span class="keywordflow">if</span> ( WD_STATUS_SUCCESS != dw_status )</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                        AUL_Error_Log(<span class="stringliteral">&quot;Failed enabling interrupts. Error 0x%lx - %s\n&quot;</span>, dw_status, Stat2Str(dw_status) );</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        free( trans_ptr );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_INT_FAILED_TO_ENABLE_INTERRUPT );</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">TEMP:</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">STX104_Index_Write_U8( board, STX104_INTERRUPT_SOURCE_SELECT, 0x02 );</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, &amp;adc_control_register );</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">adc_control_register &amp;= 0x0F;</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">adc_control_register |= ( (device_allocation[board].device_info.Item[0].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">2013            WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, &amp;adc_control_register );</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">2013            adc_control_register &amp;= 0x0F;</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">2013            adc_control_register |= ( (device_allocation[board].device_info.Item[0].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CHANNEL, device_allocation[board].reg_store[STX104_REG_STORE_AI_CHANNEL_REG].byte[0] );</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">2013            WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_CLEAR_INTERRUPTS, 0x00 );</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">TEMP            adc_control_register |= ( (device_allocation[board].device_info.Item[2].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">adc_control_register |= ( (device_allocation[board].device_info.Item[0].I.Int.dwInterrupt &amp; 0x0F) &lt;&lt; 4 );</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">TEMP:</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_STATUS, &amp;asr );</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">printf(&quot;c: asr=0x%02X\n&quot;, asr );</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">TEMP:</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">printf(&quot;STX104_Int_Enable: adc_control_register=0x%02X\n&quot;, adc_control_register );*/</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;uint8_t x;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;uint16_t y;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<a class="code" href="dev__stx104__index_8c.html#a09ebde236fcf54a86aa35617fcec05c0">STX104_Index_Read_U8</a>( board, STX104_INTERRUPT_SOURCE_SELECT, &amp;x );</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;printf(<span class="stringliteral">&quot;STX104_Int_Enable: STX104_INTERRUPT_SOURCE_SELECT=0x%02X\n&quot;</span>, x );</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">/*STX104_Index_Write_U8( board, STX104_INTERRUPT_SOURCE_SELECT, 0 );*/</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<a class="code" href="dev__stx104__index_8c.html#a3996f051686d51075f7ca35a1e8c8a03">STX104_Index_Read_U16</a>( board, STX104_INTERRUPT_CONFIGURATION, &amp;y );</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;printf(<span class="stringliteral">&quot;STX104_Int_Enable: STX104_INTERRUPT_CONFIGURATION=0x%04X\n&quot;</span>, y );</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">                WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_STATUS, &amp;asr );</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">printf(&quot;d: asr=0x%02X\n&quot;, asr );</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">WDC_Sleep( 500000, WDC_SLEEP_BUSY  );  //WDC_SLEEP_NON_BUSY</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">TEMP:</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_STATUS, &amp;asr );</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">printf(&quot;d: asr=0x%02X\n&quot;, asr );</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                device_allocation[board].interrupt_active = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                AUL_Trace_Log(<span class="stringliteral">&quot;STX104_Int_Enable: interrupts enabled successfully\n&quot;</span> );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">/*TEMP:*/</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;printf(<span class="stringliteral">&quot;STX104_Int_Enable: interrupts enabled successfully\n&quot;</span> );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                error_code = STX104_EC_BOARD_NOT_FOUND;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span>( error_code );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;}</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> STX104_Int_Disable( <span class="keywordtype">int</span> board )</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordtype">int</span>                                             error_code;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                    device;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *   ds;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        device = <a class="code" href="aul_8c.html#aa16443801f2104c3aff17cbf9bef5b3a">AUL_Device_Get</a>( board );</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        ds               = (<a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *) device-&gt;<a class="code" href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#af76d98805109a0884ca7a152d5adede2">interrupt_list_active</a> = <a class="code" href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e">STX104_INTR_MASK_NONE</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        error_code = <a class="code" href="io_8c.html#a9f5fc64ff108f172a4db909269fe53bc">IO_Interrupt_Disable</a>( device-&gt;<a class="code" href="structdevmgr__device.html#a41c55b0af4fc2ee048aed49ea5511728">io_device</a> );</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#if(0)</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        DWORD dw_status;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordtype">int</span> error_code;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        uint8_t adc_control_register;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    PWDC_DEVICE device_pointer;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        WDC_DEVICE_HANDLE device_handle;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        AUL_DEVICE_CONTEXT_PTR device_context_pointer;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    AUL_Trace_Log(<span class="stringliteral">&quot;STX104_Int_Disable entered. Device handle: %d\n&quot;</span>, board );</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        device_handle  = device_allocation[board].device_handle;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        device_pointer = (PWDC_DEVICE) device_handle;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> != ( error_code = <a class="code" href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a>( board, &amp;device ) ) ) <span class="keywordflow">goto</span> STX104_Int_Enable_Set_Error;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="comment">/* test validity of board pointers, just to be sure */</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">if</span> ( !IsValidDevice(device_pointer, <span class="stringliteral">&quot;STX104_Int_Disable&quot;</span>) )</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_BOARD_NOT_FOUND );</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                device_context_pointer = (AUL_DEVICE_CONTEXT_PTR) WDC_GetDevContext( device_pointer );</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="keywordflow">if</span> ( !WDC_IntIsEnabled(device_handle) )</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        <span class="keywordflow">return</span>( STX104_EC_INT_INTERRUPTS_ALREADY_DISABLED );</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                WDC_ReadAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, &amp;adc_control_register );</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                adc_control_register = adc_control_register &amp; 0x0F; <span class="comment">/* mask off the interrupts effectively disabling */</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                WDC_WriteAddr8(device_allocation[board].device_handle, STX104_BAR, STX104_ADC_CONTROL, adc_control_register );</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="comment">/* Disable the interrupts */</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                dw_status = WDC_IntDisable( device_handle );</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">if</span> ( WD_STATUS_SUCCESS != dw_status )</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        AUL_Error_Log(<span class="stringliteral">&quot;Failed disabling interrupts. Error 0x%lx - %s\n&quot;</span>,dw_status, Stat2Str(dw_status));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="comment">/* Free the memory allocated for the interrupt transfer commands */</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">if</span> ( device_context_pointer-&gt;int_xfer_commands )</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        free( device_context_pointer-&gt;int_xfer_commands );</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        device_context_pointer-&gt;int_xfer_commands = <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                device_allocation[board].interrupt_active = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">return</span>( error_code );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">/**********************************************************************************************************/</span><span class="comment">/**</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">@ingroup stx104_events</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">\brief</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) configuration. </span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">\param[in] board The descriptor obtained from the function ::AUL_Device_Open. </span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">\param[out] cfg A pointer to the ::STX104_INT_CFG_TYPE structure that will be used to retrieve the event (interrupt) configuration information. </span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">\return An error code of type int is returned. If successful, returns 0 (SUCCESS), otherwise it returns a non-zero error code. Please refer to ::AUL_STATUS_ENUM for all the possible error codes.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="group__stx104__events.html#gadd81683a8efc161514496903d21d43a1">  540</a></span>&#160;<a class="code" href="callconv_8h.html#a1f2b063e3f098ffc4ebf64a777c76843">AUL_DLL_API</a> <span class="keywordtype">int</span> <a class="code" href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a> <a class="code" href="group__stx104__events.html#gadd81683a8efc161514496903d21d43a1">STX104_Int_CFG_Get</a>( <span class="keywordtype">int</span> board, <a class="code" href="structstx104__intr__cfg.html">STX104_INT_CFG_TYPE</a> * cfg )</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordtype">int</span>                                                     error_code;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                            device;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *   ds;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        uint8_t                                         interrupt_sources;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        uint16_t                                                interrupt_cfg;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> != ( error_code = <a class="code" href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a>( board, &amp;device ) ) ) <span class="keywordflow">goto</span> STX104_Int_CFG_Get_Error;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        ds = (<a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *) device-&gt;<a class="code" href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( cfg, 0, <span class="keyword">sizeof</span>( <a class="code" href="structstx104__intr__cfg.html">STX104_INT_CFG_TYPE</a> ) );</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#a9a18ae67ccd6b49249ed76a925733a85">STX104_Index_Read_U32</a>( board, STX104_INTERRUPT_THRESHOLD,   &amp;cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#aa63db45b7c328128e07cd4d0f86f59df">threshold</a> );</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#a09ebde236fcf54a86aa35617fcec05c0">STX104_Index_Read_U8</a>(  board, STX104_INTERRUPT_SOURCE_SELECT, &amp;interrupt_sources );</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a3c8eac6451a36f6551e442e58130d4b7">source_a</a> = (<a class="code" href="dev__stx104_8h.html#a2e41d9bbbad5625d8b5f9a41a7f11265">STX104_INT_SRCA_ENUM</a>)( interrupt_sources &amp; 0x0F );</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a7577a9d4ae2e1cf1deb6bf04961cac6a">source_b</a> = (<a class="code" href="dev__stx104_8h.html#a3eab1ca555fed4a8627bc0a3cd4445e3">STX104_INT_SRCB_ENUM</a>)( interrupt_sources &gt;&gt; 4   );</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#a3996f051686d51075f7ca35a1e8c8a03">STX104_Index_Read_U16</a>( board, STX104_INTERRUPT_CONFIGURATION, &amp;interrupt_cfg );</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> ( (interrupt_cfg &amp; 0x1000) != 0 ) cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a2f656107e7d428d7b8e9a7f90d077f3e">threshold_sync_to_triggering</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ae447564bde583996660f0f8b33f38f69">threshold_source</a>     = (<a class="code" href="dev__stx104_8h.html#a83b472f80a937c2305e5e6ab0cd2fc21">STX104_INT_THRESHOLD_SRC_ENUM</a>)( (interrupt_cfg &gt;&gt; 8) &amp; 0x000F );</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ac5d78d594b36f5c6ca9bee4f57165cd3">blocks_per_interrupt</a> = (<a class="code" href="dev__stx104_8h.html#a5127624611fed611f81a366c5126a21a">STX104_INT_BLOCKS_PER_ENUM</a>)( interrupt_cfg &amp; 0x000F );</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a959b625b4d193fa0223c85dee04786bd">callback_source_a</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ae7f91cfc278d1555cdc4999ccee5122e">interrupt_handler_a</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a87c9db86fcd02c0a7dcbf74fb7180eb6">callback_source_b</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ad95d765d40c12c889b2f3ceb85a0b3a8">interrupt_handler_b</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ad24cb3dba1c358b3de025cba84d7cb1d">callback_fifo_blk</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">interrupt_handler_c</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a76b2b5d9da85fe588084eadcd177e019">callback_source_a_user_dataset</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a8392ba21040325e3114aa921e42da091">interrupt_dataset_a</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ae54c667bef41e800fd5682b017e4e1da">callback_source_b_user_dataset</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a67f3cd80d398b6dea240ec418654bd9c">interrupt_dataset_b</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#aea214813e90ad58f6e38e03f0d799f9c">callback_fifo_blk_user_dataset</a> = ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a877f80072aa0ddeff66dcfebd0471446">interrupt_dataset_c</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;STX104_Int_CFG_Get_Error:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">if</span> ( error_code &lt; 0 ) error_code = -error_code;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a>( <a class="code" href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a>, __func__, __LINE__, error_code );</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">return</span> -error_code;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/**********************************************************************************************************/</span><span class="comment">/**</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">@ingroup stx104_events</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">\brief</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) configuration. </span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">\param[in] board The descriptor obtained from the function ::AUL_Device_Open. </span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">\param[in] cfg A pointer to the ::STX104_INT_CFG_TYPE structure that will be used to set the event (interrupt) configuration information. </span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">\return An error code of type int is returned. If successful, returns 0 (SUCCESS), otherwise it returns a non-zero error code. Please refer to ::AUL_STATUS_ENUM for all the possible error codes.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="group__stx104__events.html#ga45718ead77bf564645f3079d5ad4e149">  586</a></span>&#160;<a class="code" href="callconv_8h.html#a1f2b063e3f098ffc4ebf64a777c76843">AUL_DLL_API</a> <span class="keywordtype">int</span> <a class="code" href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a> <a class="code" href="group__stx104__events.html#ga45718ead77bf564645f3079d5ad4e149">STX104_Int_CFG_Set</a>( <span class="keywordtype">int</span> board, <a class="code" href="structstx104__intr__cfg.html">STX104_INT_CFG_TYPE</a> * cfg )</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordtype">int</span>                                                     error_code;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *                            device;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *   ds;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        uint8_t                                         interrupt_sources;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        uint16_t                                                interrupt_cfg;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> != ( error_code = <a class="code" href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a>( board, &amp;device ) ) ) <span class="keywordflow">goto</span> STX104_Int_CFG_Set_Error;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        ds = (<a class="code" href="structstx104__dataset.html">stx104_dataset_type</a> *) device-&gt;<a class="code" href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">private_data</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        if ( device-&gt;<a class="code" href="structdevmgr__device.html#a25e0bc52a9dff0cd758ad258dfc4d459">io_irq_active</a> ) </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        {       </div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                error_code = <a class="code" href="aul__status__enum_8h.html#ac45daf932bb032df266b1854415d5914ae2c34092247ba937bd0e20dfa7c26617">EC_STX104_CFG_INTERRUPT_ACTIVE</a>;                    </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">goto</span> STX104_Int_CFG_Set_Error;  </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <a class="code" href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a>( &amp;(ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>), 0, <span class="keyword">sizeof</span>( <a class="code" href="structstx104__intr__params.html">stx104_intr_params_type</a> ) );</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        interrupt_sources = 0;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="comment">/* test for callback-A */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a959b625b4d193fa0223c85dee04786bd">callback_source_a</a> ) </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                interrupt_sources  = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a3c8eac6451a36f6551e442e58130d4b7">source_a</a> &amp; 0x0F;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ae7f91cfc278d1555cdc4999ccee5122e">interrupt_handler_a</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a959b625b4d193fa0223c85dee04786bd">callback_source_a</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a8392ba21040325e3114aa921e42da091">interrupt_dataset_a</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a76b2b5d9da85fe588084eadcd177e019">callback_source_a_user_dataset</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">/*              ds-&gt;intr_params.interrupt_callback_a_active = true;</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">                ds-&gt;intr_params.interrupt_list_active |= STX104_INTR_MASK_SRC_A; */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                interrupt_sources  = <a class="code" href="dev__stx104_8h.html#a2e41d9bbbad5625d8b5f9a41a7f11265a05db8faa874a135ae06655df2f23d0a8">ISA_NONE</a> &amp; 0x0F;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="comment">/* test for callback-B */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a> != cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a87c9db86fcd02c0a7dcbf74fb7180eb6">callback_source_b</a> ) </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                interrupt_sources |= ( (cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a7577a9d4ae2e1cf1deb6bf04961cac6a">source_b</a> &amp; 0x0F) &lt;&lt; 4 );</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#ad95d765d40c12c889b2f3ceb85a0b3a8">interrupt_handler_b</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a87c9db86fcd02c0a7dcbf74fb7180eb6">callback_source_b</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a67f3cd80d398b6dea240ec418654bd9c">interrupt_dataset_b</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a76b2b5d9da85fe588084eadcd177e019">callback_source_a_user_dataset</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">/*              ds-&gt;intr_params.interrupt_callback_b_active = true;</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">                ds-&gt;intr_params.interrupt_list_active |= STX104_INTR_MASK_SRC_B; */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                interrupt_sources |= ( (<a class="code" href="dev__stx104_8h.html#a3eab1ca555fed4a8627bc0a3cd4445e3ad2c3f7d062af4f3db752775d0b58883a">ISB_NONE</a> &amp; 0x0F) &lt;&lt; 4 );</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">/* test for fifo block callback */</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordflow">if</span> ( cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ad24cb3dba1c358b3de025cba84d7cb1d">callback_fifo_blk</a> )</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">interrupt_handler_c</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ad24cb3dba1c358b3de025cba84d7cb1d">callback_fifo_blk</a>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a877f80072aa0ddeff66dcfebd0471446">interrupt_dataset_c</a> = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#aea214813e90ad58f6e38e03f0d799f9c">callback_fifo_blk_user_dataset</a>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">/*              ds-&gt;intr_params.interrupt_callback_c_active = true;</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">                ds-&gt;intr_params.interrupt_list_active |= STX104_INTR_MASK_SRC_C; */</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">/* determine interrupt configuration register */</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        interrupt_cfg  = 0xE000; <span class="comment">/* EIS=&#39;1&#39;, ISSBE=&#39;1&#39;, nINT_FF=&#39;1&#39; */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">if</span> ( cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a2f656107e7d428d7b8e9a7f90d077f3e">threshold_sync_to_triggering</a> ) interrupt_cfg |= 0x1000;                                             </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        interrupt_cfg |= ( (cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ae447564bde583996660f0f8b33f38f69">threshold_source</a> &amp; 0x0F) &lt;&lt; 8 );</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        interrupt_cfg |= ( cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#ac5d78d594b36f5c6ca9bee4f57165cd3">blocks_per_interrupt</a> &amp; 0x0F );</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">/* write to hardware registers */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#ac83644d7df9235481b8542606befed8b">STX104_Index_Write_U32</a>( board, STX104_INTERRUPT_THRESHOLD,   cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#aa63db45b7c328128e07cd4d0f86f59df">threshold</a> );</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#a1f11f790ff5ae638e636210e4d56bfd2">STX104_Index_Write_U8</a>( board, STX104_INTERRUPT_SOURCE_SELECT, interrupt_sources );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <a class="code" href="dev__stx104__index_8c.html#ac5955d5cf8b4570a982ce219c40e2a2f">STX104_Index_Write_U16</a>( board, STX104_INTERRUPT_CONFIGURATION, interrupt_cfg  );</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#a2e3f5254967cadb9a41167c6fbf6743e">board</a>               = board;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#adffc102fe8a9e46ebe36e3cb545eda3b">device</a>                          = device;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#acc0d4e4de206453068fec7dfacc34c35">message_a</a>           = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a3c8eac6451a36f6551e442e58130d4b7">source_a</a> &amp; 0x0F;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        ds-&gt;<a class="code" href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">intr_params</a>.<a class="code" href="structstx104__intr__params.html#aed2232aeb02bf2739317823e2ebde5a1">message_b</a>           = cfg-&gt;<a class="code" href="structstx104__intr__cfg.html#a7577a9d4ae2e1cf1deb6bf04961cac6a">source_b</a> &amp; 0x0F;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;STX104_Int_CFG_Set_Error:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">if</span> ( error_code &lt; 0 ) error_code = -error_code;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <a class="code" href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a>( <a class="code" href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a>, __func__, __LINE__, error_code );</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">return</span> -error_code;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">/**********************************************************************************************************/</span><span class="comment">/**</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">@ingroup stx104_events</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">\brief</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) enable state. </span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">\param[in] board The descriptor obtained from the function ::AUL_Device_Open. </span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">\param[out] enable  Pointer to the variable that will receive the event (interrupt) enable state.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">\return An error code of type int is returned. If successful, returns 0 (SUCCESS), otherwise it returns a non-zero error code. Please refer to ::AUL_STATUS_ENUM for all the possible error codes.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="group__stx104__events.html#gaad45cdff199d7ca4b25006d08f32d425">  669</a></span>&#160;<a class="code" href="callconv_8h.html#a1f2b063e3f098ffc4ebf64a777c76843">AUL_DLL_API</a> <span class="keywordtype">int</span> <a class="code" href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a> <a class="code" href="group__stx104__events.html#gaad45cdff199d7ca4b25006d08f32d425">STX104_Int_Enable_Get</a>( <span class="keywordtype">int</span> board, BOOL * enable )</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;{</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordtype">int</span>                             error_code;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *    device;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> != ( error_code = <a class="code" href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a>( board, &amp;device ) ) ) <span class="keywordflow">goto</span> STX104_Int_Enable_Get_Error;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">if</span> ( device-&gt;<a class="code" href="structdevmgr__device.html#a25e0bc52a9dff0cd758ad258dfc4d459">io_irq_active</a> ) *enable = TRUE;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">else</span>                         *enable = FALSE;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;STX104_Int_Enable_Get_Error:</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">if</span> ( error_code &lt; 0 ) error_code = -error_code;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a>( <a class="code" href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a>, __func__, __LINE__, error_code );</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="keywordflow">return</span> -error_code;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">/**********************************************************************************************************/</span><span class="comment">/**</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">@ingroup stx104_events</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">\brief</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">Apex Univeral Library STX104 specific function that sets the event (interrupt) enable state. </span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">\param[in] board The descriptor obtained from the function ::AUL_Device_Open. </span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">\param[in] enable Value that sets the event (interrupt) enable state. if set to true, then interrupts are enabled; otherwise, interrupts are disabled. </span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">\return An error code of type int is returned. If successful, returns 0 (SUCCESS), otherwise it returns a non-zero error code. Please refer to ::AUL_STATUS_ENUM for all the possible error codes.</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="group__stx104__events.html#ga56fb74a6e76fc5e26c1f3ebfccb2587a">  692</a></span>&#160;<a class="code" href="callconv_8h.html#a1f2b063e3f098ffc4ebf64a777c76843">AUL_DLL_API</a> <span class="keywordtype">int</span> <a class="code" href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a> <a class="code" href="group__stx104__events.html#ga56fb74a6e76fc5e26c1f3ebfccb2587a">STX104_Int_Enable_Set</a>( <span class="keywordtype">int</span> board, BOOL enable )</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordtype">int</span>                             error_code;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <a class="code" href="structdevmgr__device.html">devmgr_device_type</a> *    device;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a> != ( error_code = <a class="code" href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a>( board, &amp;device ) ) ) <span class="keywordflow">goto</span> STX104_Int_Enable_Set_Error;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="comment">/* enable/disable interrupt */</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">if</span> ( enable != 0 ) </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                error_code = STX104_Int_Enable( board );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                error_code = STX104_Int_Disable( board );</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        }       </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <span class="keywordflow">return</span> error_code;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;STX104_Int_Enable_Set_Error:</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">if</span> ( error_code &lt; 0 ) error_code = -error_code;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a>( <a class="code" href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a>, __func__, __LINE__, error_code );</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> -error_code;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a910ec99c329aea81010d8c21ad9cfb82">  717</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dev__stx104__int_8c.html#a910ec99c329aea81010d8c21ad9cfb82">STX104_Int_Termination</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;{</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/**********************************************************************************************************</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="dev__stx104__int_8c.html#a9c00ebb54652b303b57e239fed484f89">  723</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="dev__stx104__int_8c.html#a9c00ebb54652b303b57e239fed484f89">STX104_Int_Initialization</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="ttc" id="dev__stx104__int_8c_html_a910ec99c329aea81010d8c21ad9cfb82"><div class="ttname"><a href="dev__stx104__int_8c.html#a910ec99c329aea81010d8c21ad9cfb82">STX104_Int_Termination</a></div><div class="ttdeci">int STX104_Int_Termination(void)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00717">dev_stx104_int.c:717</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_a3996f051686d51075f7ca35a1e8c8a03"><div class="ttname"><a href="dev__stx104__index_8c.html#a3996f051686d51075f7ca35a1e8c8a03">STX104_Index_Read_U16</a></div><div class="ttdeci">void STX104_Index_Read_U16(int board, uint8_t index, uint16_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00170">dev_stx104_index.c:170</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_ae447564bde583996660f0f8b33f38f69"><div class="ttname"><a href="structstx104__intr__cfg.html#ae447564bde583996660f0f8b33f38f69">stx104_intr_cfg::threshold_source</a></div><div class="ttdeci">STX104_INT_THRESHOLD_SRC_ENUM threshold_source</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00710">dev_stx104.h:710</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_aed2232aeb02bf2739317823e2ebde5a1"><div class="ttname"><a href="structstx104__intr__params.html#aed2232aeb02bf2739317823e2ebde5a1">stx104_intr_params::message_b</a></div><div class="ttdeci">uint16_t message_b</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01042">dev_stx104.h:1042</a></div></div>
<div class="ttc" id="aul__status__enum_8h_html_a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="aul__status__enum_8h.html#a99fb83031ce9923c84392b4e92f956b5ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="aul__status__enum_8h_source.html#l00008">aul_status_enum.h:8</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9"><div class="ttname"><a href="dev__stx104__int_8c.html#a4caf8d8f829279fba122163d961608a4af4706431c4619c41aea5d45bac2cafe9">STX104_INTR_XFR_COUNT</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00057">dev_stx104_int.c:57</a></div></div>
<div class="ttc" id="structio__xfr_html_a8933cdd83efbe50952053f61d71fe57d"><div class="ttname"><a href="structio__xfr.html#a8933cdd83efbe50952053f61d71fe57d">io_xfr::command</a></div><div class="ttdeci">enum io_xfr_command command</div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00191">io_shared.h:191</a></div></div>
<div class="ttc" id="structio__xfr_html"><div class="ttname"><a href="structio__xfr.html">io_xfr</a></div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00189">io_shared.h:189</a></div></div>
<div class="ttc" id="structdevmgr__device_html"><div class="ttname"><a href="structdevmgr__device.html">devmgr_device</a></div><div class="ttdef"><b>Definition:</b> <a href="devmgr_8h_source.html#l00096">devmgr.h:96</a></div></div>
<div class="ttc" id="structstx104__intr__params_html"><div class="ttname"><a href="structstx104__intr__params.html">stx104_intr_params</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01020">dev_stx104.h:1020</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_aa63db45b7c328128e07cd4d0f86f59df"><div class="ttname"><a href="structstx104__intr__cfg.html#aa63db45b7c328128e07cd4d0f86f59df">stx104_intr_cfg::threshold</a></div><div class="ttdeci">uint32_t threshold</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00709">dev_stx104.h:709</a></div></div>
<div class="ttc" id="structdevmgr__device_html_ad517770dac2061381b2008850ff12e6c"><div class="ttname"><a href="structdevmgr__device.html#ad517770dac2061381b2008850ff12e6c">devmgr_device::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdef"><b>Definition:</b> <a href="devmgr_8h_source.html#l00113">devmgr.h:113</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a31fc21946be9dca6e745272f4362d7c1"><div class="ttname"><a href="structstx104__intr__params.html#a31fc21946be9dca6e745272f4362d7c1">stx104_intr_params::interrupt_handler_d</a></div><div class="ttdeci">AUL_INT_CALLBACK interrupt_handler_d</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01032">dev_stx104.h:1032</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_ad95d765d40c12c889b2f3ceb85a0b3a8"><div class="ttname"><a href="structstx104__intr__params.html#ad95d765d40c12c889b2f3ceb85a0b3a8">stx104_intr_params::interrupt_handler_b</a></div><div class="ttdeci">AUL_INT_CALLBACK interrupt_handler_b</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01030">dev_stx104.h:1030</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a2f656107e7d428d7b8e9a7f90d077f3e"><div class="ttname"><a href="structstx104__intr__cfg.html#a2f656107e7d428d7b8e9a7f90d077f3e">stx104_intr_cfg::threshold_sync_to_triggering</a></div><div class="ttdeci">BOOL threshold_sync_to_triggering</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00720">dev_stx104.h:720</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a9c00ebb54652b303b57e239fed484f89"><div class="ttname"><a href="dev__stx104__int_8c.html#a9c00ebb54652b303b57e239fed484f89">STX104_Int_Initialization</a></div><div class="ttdeci">int STX104_Int_Initialization(void)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00723">dev_stx104_int.c:723</a></div></div>
<div class="ttc" id="structstx104__intr__dataset_html"><div class="ttname"><a href="structstx104__intr__dataset.html">stx104_intr_dataset</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00728">dev_stx104.h:728</a></div></div>
<div class="ttc" id="io__shared_8h_html_a9365658621f94d12ab3857b295c3a50baa0c6ef90eb7eec4c74862015bada77d3"><div class="ttname"><a href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50baa0c6ef90eb7eec4c74862015bada77d3">IO_XFR_WRITE_U8</a></div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00166">io_shared.h:166</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a959b625b4d193fa0223c85dee04786bd"><div class="ttname"><a href="structstx104__intr__cfg.html#a959b625b4d193fa0223c85dee04786bd">stx104_intr_cfg::callback_source_a</a></div><div class="ttdeci">AUL_INT_CALLBACK callback_source_a</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00714">dev_stx104.h:714</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a76b2b5d9da85fe588084eadcd177e019"><div class="ttname"><a href="structstx104__intr__cfg.html#a76b2b5d9da85fe588084eadcd177e019">stx104_intr_cfg::callback_source_a_user_dataset</a></div><div class="ttdeci">void * callback_source_a_user_dataset</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00717">dev_stx104.h:717</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_ae54c667bef41e800fd5682b017e4e1da"><div class="ttname"><a href="structstx104__intr__cfg.html#ae54c667bef41e800fd5682b017e4e1da">stx104_intr_cfg::callback_source_b_user_dataset</a></div><div class="ttdeci">void * callback_source_b_user_dataset</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00718">dev_stx104.h:718</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_ad0d63def7246e53e0b37016e8c5d6dda"><div class="ttname"><a href="dev__stx104__int_8c.html#ad0d63def7246e53e0b37016e8c5d6dda">STX104_Intr_SVN_Time_Stamp</a></div><div class="ttdeci">const char * STX104_Intr_SVN_Time_Stamp(void)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00072">dev_stx104_int.c:72</a></div></div>
<div class="ttc" id="structio__xfr_html_a0084c9e8c5778849f41d9de5df9c0f85"><div class="ttname"><a href="structio__xfr.html#a0084c9e8c5778849f41d9de5df9c0f85">io_xfr::u8</a></div><div class="ttdeci">uint8_t u8</div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00199">io_shared.h:199</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871"><div class="ttname"><a href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a9afba54a366b5dc006bf5a3b51898871">STX104_INTR_XFR_FIFO_STATUS_MSB</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00054">dev_stx104_int.c:54</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e"><div class="ttname"><a href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea62074c211655735c8c73056d627ef23e">STX104_INTR_MASK_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00061">dev_stx104_int.c:61</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_ad24cb3dba1c358b3de025cba84d7cb1d"><div class="ttname"><a href="structstx104__intr__cfg.html#ad24cb3dba1c358b3de025cba84d7cb1d">stx104_intr_cfg::callback_fifo_blk</a></div><div class="ttdeci">AUL_INT_CALLBACK callback_fifo_blk</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00716">dev_stx104.h:716</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be"><div class="ttname"><a href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a93e379c3a5a3b9a2512af0b6064322be">STX104_INTR_XFR_FIFO_STATUS_LSB</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00055">dev_stx104_int.c:55</a></div></div>
<div class="ttc" id="structdevmgr__device_html_a25e0bc52a9dff0cd758ad258dfc4d459"><div class="ttname"><a href="structdevmgr__device.html#a25e0bc52a9dff0cd758ad258dfc4d459">devmgr_device::io_irq_active</a></div><div class="ttdeci">size_t io_irq_active</div><div class="ttdef"><b>Definition:</b> <a href="devmgr_8h_source.html#l00138">devmgr.h:138</a></div></div>
<div class="ttc" id="dev__stx104__index_8h_html"><div class="ttname"><a href="dev__stx104__index_8h.html">dev_stx104_index.h</a></div></div>
<div class="ttc" id="aul_8c_html_af8e9fd36526f3c41cb7616a9b9c28f9e"><div class="ttname"><a href="aul_8c.html#af8e9fd36526f3c41cb7616a9b9c28f9e">AUL_Board</a></div><div class="ttdeci">int AUL_Board(int board, devmgr_device_type **device)</div><div class="ttdef"><b>Definition:</b> <a href="aul_8c_source.html#l00123">aul.c:123</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480"><div class="ttname"><a href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a40d83159ea392adb50b3ff4706393480">STX104_INTR_XFR_CLEAR</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00053">dev_stx104_int.c:53</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_adffc102fe8a9e46ebe36e3cb545eda3b"><div class="ttname"><a href="structstx104__intr__params.html#adffc102fe8a9e46ebe36e3cb545eda3b">stx104_intr_params::device</a></div><div class="ttdeci">devmgr_device_type * device</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01023">dev_stx104.h:1023</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_abfa38d188f9690611265bd0944c157cd"><div class="ttname"><a href="structstx104__intr__params.html#abfa38d188f9690611265bd0944c157cd">stx104_intr_params::list_status</a></div><div class="ttdeci">io_xfr_type * list_status</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01028">dev_stx104.h:1028</a></div></div>
<div class="ttc" id="structstx104__dataset_html_a1d762ba972c5158ada809ebfecdf01f4"><div class="ttname"><a href="structstx104__dataset.html#a1d762ba972c5158ada809ebfecdf01f4">stx104_dataset::intr_params</a></div><div class="ttdeci">stx104_intr_params_type intr_params</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01072">dev_stx104.h:1072</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_a1f11f790ff5ae638e636210e4d56bfd2"><div class="ttname"><a href="dev__stx104__index_8c.html#a1f11f790ff5ae638e636210e4d56bfd2">STX104_Index_Write_U8</a></div><div class="ttdeci">void STX104_Index_Write_U8(int board, uint8_t index, uint8_t value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00105">dev_stx104_index.c:105</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html"><div class="ttname"><a href="structstx104__intr__cfg.html">stx104_intr_cfg</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00707">dev_stx104.h:707</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf"><div class="ttname"><a href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eab2e40a20f085dc9aa80248a845ab7ebf">STX104_INTR_MASK_SRC_B</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00063">dev_stx104_int.c:63</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_ac5d78d594b36f5c6ca9bee4f57165cd3"><div class="ttname"><a href="structstx104__intr__cfg.html#ac5d78d594b36f5c6ca9bee4f57165cd3">stx104_intr_cfg::blocks_per_interrupt</a></div><div class="ttdeci">STX104_INT_BLOCKS_PER_ENUM blocks_per_interrupt</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00711">dev_stx104.h:711</a></div></div>
<div class="ttc" id="structdevmgr__device_html_a41c55b0af4fc2ee048aed49ea5511728"><div class="ttname"><a href="structdevmgr__device.html#a41c55b0af4fc2ee048aed49ea5511728">devmgr_device::io_device</a></div><div class="ttdeci">int io_device</div><div class="ttdef"><b>Definition:</b> <a href="devmgr_8h_source.html#l00140">devmgr.h:140</a></div></div>
<div class="ttc" id="structio__xfr_html_a68d0c4cc448ee6c0a48ec0e3a6913f05"><div class="ttname"><a href="structio__xfr.html#a68d0c4cc448ee6c0a48ec0e3a6913f05">io_xfr::data</a></div><div class="ttdeci">union io_xfr::@48 data</div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a87c9db86fcd02c0a7dcbf74fb7180eb6"><div class="ttname"><a href="structstx104__intr__cfg.html#a87c9db86fcd02c0a7dcbf74fb7180eb6">stx104_intr_cfg::callback_source_b</a></div><div class="ttdeci">AUL_INT_CALLBACK callback_source_b</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00715">dev_stx104.h:715</a></div></div>
<div class="ttc" id="structdevmgr__device_html_ac87a4a56710bf75574db36ba09b99a4b"><div class="ttname"><a href="structdevmgr__device.html#ac87a4a56710bf75574db36ba09b99a4b">devmgr_device::io_region_offset</a></div><div class="ttdeci">size_t io_region_offset</div><div class="ttdef"><b>Definition:</b> <a href="devmgr_8h_source.html#l00131">devmgr.h:131</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a75ba73bdd51f9d1db99d7b93fcb6e455"><div class="ttname"><a href="dev__stx104__int_8c.html#a75ba73bdd51f9d1db99d7b93fcb6e455">STX104_INTR_MODULE_REV</a></div><div class="ttdeci">#define STX104_INTR_MODULE_REV</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00070">dev_stx104_int.c:70</a></div></div>
<div class="ttc" id="structio__xfr_html_aadb6d6eb83e646653a1402032e45dcab"><div class="ttname"><a href="structio__xfr.html#aadb6d6eb83e646653a1402032e45dcab">io_xfr::offset</a></div><div class="ttdeci">size_t offset</div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00193">io_shared.h:193</a></div></div>
<div class="ttc" id="aul_8c_html_aa16443801f2104c3aff17cbf9bef5b3a"><div class="ttname"><a href="aul_8c.html#aa16443801f2104c3aff17cbf9bef5b3a">AUL_Device_Get</a></div><div class="ttdeci">devmgr_device_type * AUL_Device_Get(int board)</div><div class="ttdef"><b>Definition:</b> <a href="aul_8c_source.html#l00146">aul.c:146</a></div></div>
<div class="ttc" id="io_8c_html_a9f5fc64ff108f172a4db909269fe53bc"><div class="ttname"><a href="io_8c.html#a9f5fc64ff108f172a4db909269fe53bc">IO_Interrupt_Disable</a></div><div class="ttdeci">int IO_Interrupt_Disable(int iod)</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00549">io.c:549</a></div></div>
<div class="ttc" id="io__shared_8h_html_a9365658621f94d12ab3857b295c3a50ba19639c2b53206bcd8540229b59e9859c"><div class="ttname"><a href="io__shared_8h.html#a9365658621f94d12ab3857b295c3a50ba19639c2b53206bcd8540229b59e9859c">IO_XFR_READ_U8</a></div><div class="ttdef"><b>Definition:</b> <a href="io__shared_8h_source.html#l00169">io_shared.h:169</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0"><div class="ttname"><a href="dev__stx104__int_8c.html#a4790f45dcc812c1b00184a2edccdddf5a87df87a43b39a1e35fb8e895b9eb18e0">STX104_INTR_XFR_STATUS_TRANSFER</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00052">dev_stx104_int.c:52</a></div></div>
<div class="ttc" id="dev__stx104_8h_html"><div class="ttname"><a href="dev__stx104_8h.html">dev_stx104.h</a></div></div>
<div class="ttc" id="group__stx104__events_html_gaad45cdff199d7ca4b25006d08f32d425"><div class="ttname"><a href="group__stx104__events.html#gaad45cdff199d7ca4b25006d08f32d425">STX104_Int_Enable_Get</a></div><div class="ttdeci">AUL_DLL_API int AULCALLCONV STX104_Int_Enable_Get(int board, BOOL *enable)</div><div class="ttdoc">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) enable state...</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00669">dev_stx104_int.c:669</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a7a1a9f3542d15a4ea47b8fe45fc82a60"><div class="ttname"><a href="structstx104__intr__params.html#a7a1a9f3542d15a4ea47b8fe45fc82a60">stx104_intr_params::interrupt_handler_c</a></div><div class="ttdeci">AUL_INT_CALLBACK interrupt_handler_c</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01031">dev_stx104.h:1031</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a8392ba21040325e3114aa921e42da091"><div class="ttname"><a href="structstx104__intr__params.html#a8392ba21040325e3114aa921e42da091">stx104_intr_params::interrupt_dataset_a</a></div><div class="ttdeci">void * interrupt_dataset_a</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01037">dev_stx104.h:1037</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a3c8eac6451a36f6551e442e58130d4b7"><div class="ttname"><a href="structstx104__intr__cfg.html#a3c8eac6451a36f6551e442e58130d4b7">stx104_intr_cfg::source_a</a></div><div class="ttdeci">STX104_INT_SRCA_ENUM source_a</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00712">dev_stx104.h:712</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a2e3f5254967cadb9a41167c6fbf6743e"><div class="ttname"><a href="structstx104__intr__params.html#a2e3f5254967cadb9a41167c6fbf6743e">stx104_intr_params::board</a></div><div class="ttdeci">int board</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01022">dev_stx104.h:1022</a></div></div>
<div class="ttc" id="callconv_8h_html_a1f2b063e3f098ffc4ebf64a777c76843"><div class="ttname"><a href="callconv_8h.html#a1f2b063e3f098ffc4ebf64a777c76843">AUL_DLL_API</a></div><div class="ttdeci">#define AUL_DLL_API</div><div class="ttdef"><b>Definition:</b> <a href="callconv_8h_source.html#l00076">callconv.h:76</a></div></div>
<div class="ttc" id="aul__hwdef_8c_html_a90cad683a66457d7f5f23dffd036ab90a372664e6e93bb79ea209257b5bd8d105"><div class="ttname"><a href="aul__hwdef_8c.html#a90cad683a66457d7f5f23dffd036ab90a372664e6e93bb79ea209257b5bd8d105">AUL_IRQ_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="aul__hwdef_8c_source.html#l00089">aul_hwdef.c:89</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a877f80072aa0ddeff66dcfebd0471446"><div class="ttname"><a href="structstx104__intr__params.html#a877f80072aa0ddeff66dcfebd0471446">stx104_intr_params::interrupt_dataset_c</a></div><div class="ttdeci">void * interrupt_dataset_c</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01039">dev_stx104.h:1039</a></div></div>
<div class="ttc" id="error_8c_html_a1982669e1c73773f3412a213aedd0e20"><div class="ttname"><a href="error_8c.html#a1982669e1c73773f3412a213aedd0e20">Error_Log</a></div><div class="ttdeci">void Error_Log(const char *module, const char *function, int line, int error_code)</div><div class="ttdef"><b>Definition:</b> <a href="error_8c_source.html#l00058">error.c:58</a></div></div>
<div class="ttc" id="structstx104__dataset_html"><div class="ttname"><a href="structstx104__dataset.html">stx104_dataset</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01058">dev_stx104.h:1058</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a83b472f80a937c2305e5e6ab0cd2fc21"><div class="ttname"><a href="dev__stx104_8h.html#a83b472f80a937c2305e5e6ab0cd2fc21">STX104_INT_THRESHOLD_SRC_ENUM</a></div><div class="ttdeci">STX104_INT_THRESHOLD_SRC_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00659">dev_stx104.h:659</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_a09ebde236fcf54a86aa35617fcec05c0"><div class="ttname"><a href="dev__stx104__index_8c.html#a09ebde236fcf54a86aa35617fcec05c0">STX104_Index_Read_U8</a></div><div class="ttdeci">void STX104_Index_Read_U8(int board, uint8_t index, uint8_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00154">dev_stx104_index.c:154</a></div></div>
<div class="ttc" id="structstx104__intr__dataset_html_a2e3f5254967cadb9a41167c6fbf6743e"><div class="ttname"><a href="structstx104__intr__dataset.html#a2e3f5254967cadb9a41167c6fbf6743e">stx104_intr_dataset::board</a></div><div class="ttdeci">int board</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00756">dev_stx104.h:756</a></div></div>
<div class="ttc" id="group__stx104__events_html_ga45718ead77bf564645f3079d5ad4e149"><div class="ttname"><a href="group__stx104__events.html#ga45718ead77bf564645f3079d5ad4e149">STX104_Int_CFG_Set</a></div><div class="ttdeci">AUL_DLL_API int AULCALLCONV STX104_Int_CFG_Set(int board, STX104_INT_CFG_TYPE *cfg)</div><div class="ttdoc">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) configuration...</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00586">dev_stx104_int.c:586</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a96a58e29e8dbf2b5bdeb775cba46556ea9b66b9560a7393f4a633373539d8f213"><div class="ttname"><a href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ea9b66b9560a7393f4a633373539d8f213">STX104_INTR_MASK_SRC_D</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00065">dev_stx104_int.c:65</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_a67f3cd80d398b6dea240ec418654bd9c"><div class="ttname"><a href="structstx104__intr__params.html#a67f3cd80d398b6dea240ec418654bd9c">stx104_intr_params::interrupt_dataset_b</a></div><div class="ttdeci">void * interrupt_dataset_b</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01038">dev_stx104.h:1038</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a2e41d9bbbad5625d8b5f9a41a7f11265"><div class="ttname"><a href="dev__stx104_8h.html#a2e41d9bbbad5625d8b5f9a41a7f11265">STX104_INT_SRCA_ENUM</a></div><div class="ttdeci">STX104_INT_SRCA_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00640">dev_stx104.h:640</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_a9a18ae67ccd6b49249ed76a925733a85"><div class="ttname"><a href="dev__stx104__index_8c.html#a9a18ae67ccd6b49249ed76a925733a85">STX104_Index_Read_U32</a></div><div class="ttdeci">void STX104_Index_Read_U32(int board, uint8_t index, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00189">dev_stx104_index.c:189</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a3eab1ca555fed4a8627bc0a3cd4445e3ad2c3f7d062af4f3db752775d0b58883a"><div class="ttname"><a href="dev__stx104_8h.html#a3eab1ca555fed4a8627bc0a3cd4445e3ad2c3f7d062af4f3db752775d0b58883a">ISB_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00623">dev_stx104.h:623</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a3eab1ca555fed4a8627bc0a3cd4445e3"><div class="ttname"><a href="dev__stx104_8h.html#a3eab1ca555fed4a8627bc0a3cd4445e3">STX104_INT_SRCB_ENUM</a></div><div class="ttdeci">STX104_INT_SRCB_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00621">dev_stx104.h:621</a></div></div>
<div class="ttc" id="group__stx104__events_html_ga56fb74a6e76fc5e26c1f3ebfccb2587a"><div class="ttname"><a href="group__stx104__events.html#ga56fb74a6e76fc5e26c1f3ebfccb2587a">STX104_Int_Enable_Set</a></div><div class="ttdeci">AUL_DLL_API int AULCALLCONV STX104_Int_Enable_Set(int board, BOOL enable)</div><div class="ttdoc">Apex Univeral Library STX104 specific function that sets the event (interrupt) enable state...</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00692">dev_stx104_int.c:692</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a8368cb3a30699c3047fa477d488831ae"><div class="ttname"><a href="dev__stx104_8h.html#a8368cb3a30699c3047fa477d488831ae">DEVICE_STX104_NAME</a></div><div class="ttdeci">#define DEVICE_STX104_NAME</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00003">dev_stx104.h:3</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_aea214813e90ad58f6e38e03f0d799f9c"><div class="ttname"><a href="structstx104__intr__cfg.html#aea214813e90ad58f6e38e03f0d799f9c">stx104_intr_cfg::callback_fifo_blk_user_dataset</a></div><div class="ttdeci">void * callback_fifo_blk_user_dataset</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00719">dev_stx104.h:719</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_ae7f91cfc278d1555cdc4999ccee5122e"><div class="ttname"><a href="structstx104__intr__params.html#ae7f91cfc278d1555cdc4999ccee5122e">stx104_intr_params::interrupt_handler_a</a></div><div class="ttdeci">AUL_INT_CALLBACK interrupt_handler_a</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01029">dev_stx104.h:1029</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6"><div class="ttname"><a href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556ead2add5e5a67bde865d3098de1d0bf9f6">STX104_INTR_MASK_SRC_A</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00062">dev_stx104_int.c:62</a></div></div>
<div class="ttc" id="structstx104__intr__cfg_html_a7577a9d4ae2e1cf1deb6bf04961cac6a"><div class="ttname"><a href="structstx104__intr__cfg.html#a7577a9d4ae2e1cf1deb6bf04961cac6a">stx104_intr_cfg::source_b</a></div><div class="ttdeci">STX104_INT_SRCB_ENUM source_b</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00713">dev_stx104.h:713</a></div></div>
<div class="ttc" id="group__stx104__events_html_gadd81683a8efc161514496903d21d43a1"><div class="ttname"><a href="group__stx104__events.html#gadd81683a8efc161514496903d21d43a1">STX104_Int_CFG_Get</a></div><div class="ttdeci">AUL_DLL_API int AULCALLCONV STX104_Int_CFG_Get(int board, STX104_INT_CFG_TYPE *cfg)</div><div class="ttdoc">Apex Univeral Library STX104 specific function that retrieves the event (interrupt) configuration...</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00540">dev_stx104_int.c:540</a></div></div>
<div class="ttc" id="cmp__i8255m0__readme_8txt_html_a074d4d493edb0d5ac9bb8c5156c079db"><div class="ttname"><a href="cmp__i8255m0__readme_8txt.html#a074d4d493edb0d5ac9bb8c5156c079db">NULL</a></div><div class="ttdeci">I8255M0 Intel Mode implementation Why the cmp_ prefix This keeps files nicely organized within a project or solution keeping all the components together in the list file definitions cmp_i8255m0 c main core functions cmp_i8255m0 h cmp_i8255m0_status h All error and warning codes This will aggregate with all other project status codes cmp_i8255m0_regc Register set definition This will be absorbed into cmp_i8255m0 c file above cmp_i8255m0_reg h cmp_i8255m0_cmd h IOCTL commands related to this component This will aggregate with all other project command codes jump table required The jump table ought to be for things that occur regularly Things that are infrequent ought to revert to some sort of setup config function with a command The setup config function with command will require a packet to be built rather than simple flat approach Restart command for purposes of simultaneous updates Power down command Not currently used Power up command Not currently used Config Set Send a configuration data structure It can either be queued up awaiting a restart for the config to be committed or it can be committed directly Config Get Read Data flow read Read data out of a buffer or hardware and return the buffer Write Data flow write Write data from buffer to hardware or FIFO IO_INDIRECT private_data If NULL</div><div class="ttdef"><b>Definition:</b> <a href="cmp__i8255m0__readme_8txt_source.html#l00006">cmp_i8255m0_readme.txt:6</a></div></div>
<div class="ttc" id="io_8c_html_a987d2a4e9ab95d0c211e113455302bcb"><div class="ttname"><a href="io_8c.html#a987d2a4e9ab95d0c211e113455302bcb">IO_Interrupt_Enable</a></div><div class="ttdeci">int IO_Interrupt_Enable(int iod, io_int_handler handler, void *private_data)</div><div class="ttdef"><b>Definition:</b> <a href="io_8c_source.html#l00604">io.c:604</a></div></div>
<div class="ttc" id="aul__status__enum_8h_html_ac45daf932bb032df266b1854415d5914ae2c34092247ba937bd0e20dfa7c26617"><div class="ttname"><a href="aul__status__enum_8h.html#ac45daf932bb032df266b1854415d5914ae2c34092247ba937bd0e20dfa7c26617">EC_STX104_CFG_INTERRUPT_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="aul__status__enum_8h_source.html#l00119">aul_status_enum.h:119</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_ac5955d5cf8b4570a982ce219c40e2a2f"><div class="ttname"><a href="dev__stx104__index_8c.html#ac5955d5cf8b4570a982ce219c40e2a2f">STX104_Index_Write_U16</a></div><div class="ttdeci">void STX104_Index_Write_U16(int board, uint8_t index, uint16_t value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00121">dev_stx104_index.c:121</a></div></div>
<div class="ttc" id="structstx104__intr__dataset_html_a0eab1ea14b5d1ee2009714f14b18a91a"><div class="ttname"><a href="structstx104__intr__dataset.html#a0eab1ea14b5d1ee2009714f14b18a91a">stx104_intr_dataset::user_defined_dataset</a></div><div class="ttdeci">void * user_defined_dataset</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00762">dev_stx104.h:762</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_af76d98805109a0884ca7a152d5adede2"><div class="ttname"><a href="structstx104__intr__params.html#af76d98805109a0884ca7a152d5adede2">stx104_intr_params::interrupt_list_active</a></div><div class="ttdeci">size_t interrupt_list_active</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01027">dev_stx104.h:1027</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a2e41d9bbbad5625d8b5f9a41a7f11265a05db8faa874a135ae06655df2f23d0a8"><div class="ttname"><a href="dev__stx104_8h.html#a2e41d9bbbad5625d8b5f9a41a7f11265a05db8faa874a135ae06655df2f23d0a8">ISA_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00642">dev_stx104.h:642</a></div></div>
<div class="ttc" id="mem_8c_html_ad87a18d072f1e0baa80eb2de9b6852e6"><div class="ttname"><a href="mem_8c.html#ad87a18d072f1e0baa80eb2de9b6852e6">Mem_Set</a></div><div class="ttdeci">void * Mem_Set(void *dst, uint8_t value, size_t dst_count)</div><div class="ttdef"><b>Definition:</b> <a href="mem_8c_source.html#l00088">mem.c:88</a></div></div>
<div class="ttc" id="callconv_8h_html_ab86054f7a6ff3a2238edc182b26b603e"><div class="ttname"><a href="callconv_8h.html#ab86054f7a6ff3a2238edc182b26b603e">AULCALLCONV</a></div><div class="ttdeci">#define AULCALLCONV</div><div class="ttdef"><b>Definition:</b> <a href="callconv_8h_source.html#l00077">callconv.h:77</a></div></div>
<div class="ttc" id="dev__stx104__int_8c_html_a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463"><div class="ttname"><a href="dev__stx104__int_8c.html#a96a58e29e8dbf2b5bdeb775cba46556eaaf88c0dbb9c514323e53cf63f6e8d463">STX104_INTR_MASK_SRC_C</a></div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__int_8c_source.html#l00064">dev_stx104_int.c:64</a></div></div>
<div class="ttc" id="dev__stx104__index_8c_html_ac83644d7df9235481b8542606befed8b"><div class="ttname"><a href="dev__stx104__index_8c.html#ac83644d7df9235481b8542606befed8b">STX104_Index_Write_U32</a></div><div class="ttdeci">void STX104_Index_Write_U32(int board, uint8_t index, uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104__index_8c_source.html#l00138">dev_stx104_index.c:138</a></div></div>
<div class="ttc" id="dev__stx104_8h_html_a5127624611fed611f81a366c5126a21a"><div class="ttname"><a href="dev__stx104_8h.html#a5127624611fed611f81a366c5126a21a">STX104_INT_BLOCKS_PER_ENUM</a></div><div class="ttdeci">STX104_INT_BLOCKS_PER_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l00680">dev_stx104.h:680</a></div></div>
<div class="ttc" id="structstx104__intr__params_html_acc0d4e4de206453068fec7dfacc34c35"><div class="ttname"><a href="structstx104__intr__params.html#acc0d4e4de206453068fec7dfacc34c35">stx104_intr_params::message_a</a></div><div class="ttdeci">uint16_t message_a</div><div class="ttdef"><b>Definition:</b> <a href="dev__stx104_8h_source.html#l01041">dev_stx104.h:1041</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_07b86ffc266b39efa5bbdc0e9fdb330a.html">devices</a></li><li class="navelem"><a class="el" href="dir_ad7c1145b5d75d6047358e5a5834eda4.html">stx104</a></li><li class="navelem"><a class="el" href="dev__stx104__int_8c.html">dev_stx104_int.c</a></li>
    <li class="footer">Generated on Mon Jan 19 2015 14:53:04 for Apex Universal Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
