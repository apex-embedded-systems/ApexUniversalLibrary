\hypertarget{idi_8c}{\section{src/idi.c File Reference}
\label{idi_8c}\index{src/idi.\+c@{src/idi.\+c}}
}
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structec__human__readable}{ec\+\_\+human\+\_\+readable}
\item 
struct \hyperlink{structreg__definition}{reg\+\_\+definition}
\item 
struct \hyperlink{structspi__cfg}{spi\+\_\+cfg}
\item 
struct \hyperlink{structspi__status}{spi\+\_\+status}
\item 
struct \hyperlink{structdin__cfg}{din\+\_\+cfg}
\item 
struct \hyperlink{structidi__dataset}{idi\+\_\+dataset}
\item 
struct \hyperlink{structcommand__line}{command\+\_\+line}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}~strcasecmp
\item 
\#define \hyperlink{idi_8c_ac80cd7b02810a77973bd938d9c2871ad}{I\+D\+I\+\_\+\+R\+E\+V}~\char`\"{}\$Date\+: 2015-\/03-\/05 08\+:48\+:57 -\/0600 (Thu, 05 Mar 2015) \$\char`\"{}
\begin{DoxyCompactList}\small\item\em The Subversion (S\+V\+N) time/date marker which is updated during commit of the source file to the repository. \end{DoxyCompactList}\item 
\#define \hyperlink{idi_8c_a65e9886d74aaee76545e83dd09011727}{false}~0
\item 
\#define \hyperlink{idi_8c_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{true}~1
\item 
\#define \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C}~20.\+0e-\/9
\begin{DoxyCompactList}\small\item\em Board clock period as defined by the on-\/board oscillator which is 50\+M\+Hz. \end{DoxyCompactList}\item 
\#define \hyperlink{idi_8c_aaf473d06aba7bd500cb5f20a2b64e200}{I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D}~1
\item 
\#define \hyperlink{idi_8c_a016eb7133cd5c37fc3dda165251b102c}{I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S}(\+\_\+)
\begin{DoxyCompactList}\small\item\em An organized error code listing. This macro is used to build the complete error code enumeration list. \end{DoxyCompactList}\item 
\#define \hyperlink{idi_8c_a35c55d31a7248223e061a0a57c5fa9c3}{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}(symbol, code, message)~symbol = code,
\item 
\#define \hyperlink{idi_8c_aae5ed8bffd35508eca131f4d030f8516}{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E}(symbol, code, message)~\{ code, message \},
\item 
\#define \hyperlink{idi_8c_aca7b959740043bcdc341579d1de3b587}{E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E}~\{ 0, N\+U\+L\+L \}
\item 
\#define \hyperlink{idi_8c_a48b3568347bc557b3c8d24064ce40880}{I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}(\+\_\+)
\begin{DoxyCompactList}\small\item\em Organized list of registers and associate attributes of each of the registers. This macro does not consume any memory of in itself, and is only 'consumed' or used to automatically build enumerations and pre-\/built data structures. \end{DoxyCompactList}\item 
\#define \hyperlink{idi_8c_a26e6d0bb7953f29dd0c919f3be8a5bdc}{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}(bank)~( bank   $<$$<$   8 )
\item 
\#define \hyperlink{idi_8c_a42386da30c700867b129b9f1fc45fdc0}{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}(offset)~( offset \& 0xff )
\item 
\#define \hyperlink{idi_8c_a1f8d0d21d4d226982f2ad9a4916a0f3d}{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T}(location)~( ( location $>$$>$ 8 ) \& 0x\+F\+F )
\item 
\#define \hyperlink{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T}(location)~( location \& 0xff )
\item 
\#define \hyperlink{idi_8c_af76545581dcf26dc754c173d871c8ae3}{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}(symbol, index, offset, register\+\_\+bytes, aperture\+\_\+bytes, read\+\_\+write, name, bank)~symbol = ( \hyperlink{idi_8c_a26e6d0bb7953f29dd0c919f3be8a5bdc}{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}(bank) $\vert$ \hyperlink{idi_8c_a42386da30c700867b129b9f1fc45fdc0}{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}(offset) ),
\item 
\#define \hyperlink{idi_8c_adb4cfa517096778a767098b1bc2ebc86}{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}(symbol, index, offset, register\+\_\+bytes, aperture\+\_\+bytes, read\+\_\+write, name, bank)~\{ ( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}) (\hyperlink{idi_8c_a26e6d0bb7953f29dd0c919f3be8a5bdc}{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}(bank) $\vert$ \hyperlink{idi_8c_a42386da30c700867b129b9f1fc45fdc0}{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}(offset)) ), read\+\_\+write, bank, offset, \#symbol, name \},
\item 
\#define \hyperlink{idi_8c_a3176ade75a5108d4b5e4f61ca2c1e842}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E}~8
\item 
\#define \hyperlink{idi_8c_a1672fbebd0a87ba0ad4abbaaf4d7cb56}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T}~3
\item 
\#define \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y}~6
\item 
\#define \hyperlink{idi_8c_ac0b401f4d27a710797a76887edbc77da}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y}~( \hyperlink{idi_8c_a3176ade75a5108d4b5e4f61ca2c1e842}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E} $\ast$ \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y} )
\item 
\#define \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}~256
\item 
\#define \hyperlink{idi_8c_a46af412eb7225c2d98d4816555cd3da6}{I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E}~256
\item 
\#define \hyperlink{idi_8c_a2b82f3c0a4c5c1a46da4c23f43fe1832}{S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}~256
\item 
\#define \hyperlink{idi_8c_a89aafcecb31ea285f00ff64a436d570d}{I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T}~1
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L}
\begin{DoxyCompactList}\small\item\em The C89 compiler is typically void of these definitions, so we include them here. Defines specific data width information. The idea is to make this target independent. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa1e095cc966dbecf6a0d8aad75348d1a}{F\+A\+L\+S\+E} = 0, 
\hyperlink{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa82764c3079aea4e60c80e45befbb839}{T\+R\+U\+E} = 1
 \}
\item 
enum \{ \hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}{I\+D\+\_\+\+D\+I\+N} = 0x8012, 
\hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}{I\+D\+\_\+\+S\+P\+I} = 0x8013
 \}
\begin{DoxyCompactList}\small\item\em These are the unique I\+Ds assigned to the hardware components. If there is a firmware revision within any of these components within the board, a new I\+D will be assigned. The philosophy behind the I\+D scheme is that it embodies both a unique I\+D and revision information in a purely arbitrary scheme. It assumes that all components defined within the system will never have the same I\+D numbers. We maintain a unique list of those I\+D numbers. We will provide a list to customers as required. \end{DoxyCompactList}\item 
enum \hyperlink{idi_8c_a16689154c729ce352ec6d746b8ab663e}{E\+C\+\_\+\+E\+N\+U\+M} 
\item 
enum \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M} \{ \\*
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0} = 0x00, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1} = 0x40, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2} = 0x80, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3} = 0x\+C0, 
\\*
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4} = 0x20, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5} = 0x60, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6} = 0x\+A0, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7} = 0x\+E0, 
\\*
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E} = 0x\+F\+E, 
\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D} = 0x\+F\+F
 \}
\begin{DoxyCompactList}\small\item\em The bank register mapping. This mapping is upwardly compatible with the legacy hardware banking register. It also allows for future expansion utilizing the lower bits which are currently unused. \end{DoxyCompactList}\item 
enum \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M} \{ \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E} = 0x00, 
\hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D} = 0x01, 
\hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E} = 0x02, 
\hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5adb0d7022466918b7b7481154bbce753a}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E} = 0x03
 \}
\item 
enum \hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} 
\item 
enum \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M} \{ \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E} = 0, 
\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R} = 1, 
\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8} = 2, 
\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16} = 3
 \}
\item 
enum \{ \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E} = 16
 \}
\item 
enum \{ \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E} = 16
 \}
\begin{DoxyCompactList}\small\item\em Dumps a hexadecimal and A\+S\+C\+I\+I equivalent string to the desired output. The format, illustrated below is a classic memory dump format. \end{DoxyCompactList}\item 
enum \{ \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S} = 8192
 \}
\begin{DoxyCompactList}\small\item\em F\+R\+A\+M Density current in use. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static const char $\ast$ \hyperlink{idi_8c_ace0b0cdb3b5ab2c5c7bcf9a02b8a4f33}{I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank} (\hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M} bank)
\begin{DoxyCompactList}\small\item\em Outputs a human readable C\+S\+V to the desired output file or stdout. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a07717d410edbdf91e98db3fdb526a0cc}{I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V} (const struct \hyperlink{structreg__definition}{reg\+\_\+definition} $\ast$table, F\+I\+L\+E $\ast$out)
\begin{DoxyCompactList}\small\item\em Outputs a human readable C\+S\+V to the desired output file or stdout. \end{DoxyCompactList}\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\+\_\+\+To\+\_\+\+Bool} (const char $\ast$str)
\begin{DoxyCompactList}\small\item\em General function used to convert a string into a boolean equivalent value. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\+\_\+\+Dump\+\_\+\+Line} (uint16\+\_\+t address, size\+\_\+t count, uint8\+\_\+t $\ast$buffer, F\+I\+L\+E $\ast$out)
\item 
const char $\ast$ \hyperlink{idi_8c_a898d8519b441ee16e816759982951490}{E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable} (\hyperlink{idi_8c_a16689154c729ce352ec6d746b8ab663e}{E\+C\+\_\+\+E\+N\+U\+M} error\+\_\+code)
\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_ae02625dd3f93cc87fdab4b6e2c15ed6c}{Character\+\_\+\+Get} (int $\ast$character)
\begin{DoxyCompactList}\small\item\em Obtains a key from the keyboard in a non-\/blocking way. This is exerpetted from A\+E\+S Universal Library/\+Driver. \end{DoxyCompactList}\item 
static char $\ast$ \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location)
\begin{DoxyCompactList}\small\item\em Translates a register enumerated symbol into a string that is the same as the enumerated symbol used throughout this code base. \end{DoxyCompactList}\item 
static \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_aa2a17a1eaf6d0b512863fffd9f03c571}{I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M} direction)
\begin{DoxyCompactList}\small\item\em Looks up in the register definitions list for the ports possible read/write directions. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{I\+O\+\_\+\+Write\+\_\+\+U8} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint8\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Writes uint8\+\_\+t to I/\+O port. Macros are used to guide the target implementation. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{I\+O\+\_\+\+Read\+\_\+\+U8} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint8\+\_\+t $\ast$value)
\begin{DoxyCompactList}\small\item\em Reads uint8\+\_\+t from I/\+O port. Macros are used to guide the target implementation. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a5369340b886768c5898ee924ac8c4a7e}{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint16\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Writes uint16\+\_\+t to I/\+O ports in a uint8\+\_\+t succession incrementing the offset address. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a75115c9cbc48b9ccd8c73dc4d69128cd}{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint16\+\_\+t $\ast$value)
\begin{DoxyCompactList}\small\item\em Reads uint16\+\_\+t from I/\+O ports in a uint8\+\_\+t succession incrementing the offset address. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a1b725a3b4e3895892e9cb3e41abc9218}{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint16\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Writes uint16\+\_\+t to I/\+O ports in a uint8\+\_\+t succession to the same address location. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a34fb89e26c5f0f9ae01c0d1c779397bf}{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed} (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M} location, uint16\+\_\+t $\ast$value)
\begin{DoxyCompactList}\small\item\em Reads uint16\+\_\+t from I/\+O ports in a uint8\+\_\+t succession to the same address location. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_add0101e04ad7058fb979ef395febe68e}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get} (uint16\+\_\+t $\ast$id)
\begin{DoxyCompactList}\small\item\em Obtains the D\+I\+N component (or board I\+D in this case) I\+D number. \end{DoxyCompactList}\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_aad52cf9d5215e8c1e3387967b91c02fd}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present} (void)
\begin{DoxyCompactList}\small\item\em Determines if the D\+I\+N component and/or board is present. Returns true if not present (i.\+e. error). \end{DoxyCompactList}\item 
static int \hyperlink{idi_8c_abbe4aec5ed66dae530dd2a8c8c6c1c92}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get} (size\+\_\+t channel, \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} $\ast$value)
\begin{DoxyCompactList}\small\item\em Obtains and reports a single digital input channel. \end{DoxyCompactList}\item 
static int \hyperlink{idi_8c_ad96039e3c434110fc30781b9e82f735f}{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get} (size\+\_\+t group, uint8\+\_\+t $\ast$value)
\begin{DoxyCompactList}\small\item\em Reads the selected digital input port (8-\/bits). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a880aef745d1398d7deb49b45e988ad84}{S\+P\+I\+\_\+\+I\+D\+\_\+\+Get} (uint16\+\_\+t $\ast$id)
\begin{DoxyCompactList}\small\item\em Retrieves the S\+P\+I I\+D register value. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{S\+P\+I\+\_\+\+Is\+Not\+Present} (void)
\begin{DoxyCompactList}\small\item\em Reports if the S\+P\+I component is available within the register space by matching a known I\+D. The S\+P\+I register map is only enabled within the hardware if the hardware mode is not zero (i.\+e. M1 and M0 jumpers on the board provide a nonzero value). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a5a1a4138a3312745363773553003149d}{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock} (double half\+\_\+clock\+\_\+request\+\_\+sec, double $\ast$half\+\_\+clock\+\_\+actual\+\_\+sec, double $\ast$error, uint16\+\_\+t $\ast$hci)
\begin{DoxyCompactList}\small\item\em Computes the half clock register value given a requested time interval. It will also produce a 'report' indicating the actual value (due to integer resolution) as well as a computed error between requested and actual. The error can be used to determine whether timing constraints are met. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_ad86d10585f6c367cfc4490a5366f1d25}{S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock} (double clock\+\_\+request\+\_\+hz, double $\ast$clock\+\_\+actual\+\_\+hz, double $\ast$error, uint16\+\_\+t $\ast$hci)
\begin{DoxyCompactList}\small\item\em Computes the S\+P\+I clock half clock register value given a requested S\+P\+I clock frequency. It will also produce a 'report' indicating the actual value (due to integer resolution) as well as a computed error between requested and actual. The eror can be used to determine whether timing constraints are met. \end{DoxyCompactList}\item 
double \hyperlink{idi_8c_a8130129973acaff19c9b1cfd5955d12d}{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec} (uint16\+\_\+t half\+\_\+clock\+\_\+interval)
\begin{DoxyCompactList}\small\item\em Computes the half clock interval in seconds given the value from the half clock interval register. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a50b862cbcc29146e70e7543208ca7e81}{S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay} (double spi\+\_\+half\+\_\+clock\+\_\+interval\+\_\+sec, double delay\+\_\+request\+\_\+sec, double $\ast$delay\+\_\+actual\+\_\+sec, double $\ast$error, uint8\+\_\+t $\ast$ecd)
\begin{DoxyCompactList}\small\item\em Computes the time delay at the end of each byte transmitted. It will only output the parameters whose pointers are not N\+U\+L\+L. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a7fcdc0355d1d9273d7ac18bd6e8a6763}{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get} (\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M} $\ast$chip\+\_\+select\+\_\+behavior)
\begin{DoxyCompactList}\small\item\em Extracts the chip select behavior from the S\+P\+I configuration register. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set} (\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M} chip\+\_\+select\+\_\+behavior)
\begin{DoxyCompactList}\small\item\em Sets the chip select behavior to the S\+P\+I configuration register. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{S\+P\+I\+\_\+\+Configuration\+\_\+\+Set} (struct \hyperlink{structspi__cfg}{spi\+\_\+cfg} $\ast$cfg)
\begin{DoxyCompactList}\small\item\em Commits the configuration data structure to the hardware. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{S\+P\+I\+\_\+\+Configuration\+\_\+\+Get} (struct \hyperlink{structspi__cfg}{spi\+\_\+cfg} $\ast$cfg)
\begin{DoxyCompactList}\small\item\em Obtains the S\+P\+I configuration from the hardware. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a9f519b04b7593c82d4037ead8f0e6623}{S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text} (struct \hyperlink{structspi__cfg}{spi\+\_\+cfg} $\ast$cfg, F\+I\+L\+E $\ast$out)
\begin{DoxyCompactList}\small\item\em Creates a human readable report of the S\+P\+I configuration data structure. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_af783ed809568388ad1d1e0b990458811}{S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text} (struct \hyperlink{structspi__status}{spi\+\_\+status} $\ast$status, F\+I\+L\+E $\ast$out)
\begin{DoxyCompactList}\small\item\em Produces a human readable report of the S\+P\+I status data structure. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a3e3475d2cc10efb49b125c2abb27ca09}{S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize} (struct \hyperlink{structspi__cfg}{spi\+\_\+cfg} $\ast$cfg)
\begin{DoxyCompactList}\small\item\em Initializes the S\+P\+I configuration data structure. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}{S\+P\+I\+\_\+\+Status\+\_\+\+Write} (struct \hyperlink{structspi__status}{spi\+\_\+status} $\ast$status)
\begin{DoxyCompactList}\small\item\em Builds a detailed status data structure of the transmit/write outgoing S\+P\+I data F\+I\+F\+O. Reports the quantity of bytes currently in the transmit F\+I\+F\+O, full flag, empty flag, the total size of the F\+I\+F\+O in bytes, and sets tx\+\_\+status to true indicating that this is status specific to the transmit F\+I\+F\+O. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status} (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} $\ast$full, \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} $\ast$empty, size\+\_\+t $\ast$bytes\+\_\+in\+\_\+fifo)
\begin{DoxyCompactList}\small\item\em Returns the complete write/transmit F\+I\+F\+O status. \end{DoxyCompactList}\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_aa1471598d3657b31cd7ef4f354011212}{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full} (void)
\begin{DoxyCompactList}\small\item\em Returns the transmit/write F\+I\+F\+O full status flag. It is preferable to use the \hyperlink{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}{S\+P\+I\+\_\+\+Status\+\_\+\+Write()} or \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status()} because all status is retrieved at one time. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_a4f457883748297218a1a747a01671790}{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status} (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} $\ast$empty, size\+\_\+t $\ast$bytes\+\_\+available)
\begin{DoxyCompactList}\small\item\em Returns the complete read/receive F\+I\+F\+O status. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a0d405a6006a6ef14c53c330e618bc1df}{S\+P\+I\+\_\+\+Status\+\_\+\+Read} (struct \hyperlink{structspi__status}{spi\+\_\+status} $\ast$status)
\begin{DoxyCompactList}\small\item\em Builds a detailed status data structure of the receive/read incoming S\+P\+I data F\+I\+F\+O. Reports the quantity of bytes currently in the receive F\+I\+F\+O, full flag, empty flag, the total size of the F\+I\+F\+O in bytes, and sets tx\+\_\+status to false indicating that this is status specific to the receive F\+I\+F\+O. \end{DoxyCompactList}\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty} (void)
\begin{DoxyCompactList}\small\item\em Returns the transmit/write F\+I\+F\+O empty status flag. This function is typically used to wait for the transmit/write F\+I\+F\+O to become empty. \end{DoxyCompactList}\item 
\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} \hyperlink{idi_8c_a9f8f3754c67705b230c1f04d390a5900}{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty} (void)
\begin{DoxyCompactList}\small\item\em Returns the receive/read F\+I\+F\+O empty status flag. This function is typically used to determine if the F\+I\+F\+O is empty. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{S\+P\+I\+\_\+\+Commit} (uint8\+\_\+t chip\+\_\+select)
\begin{DoxyCompactList}\small\item\em Sets/\+Clears the chip select or used to commit the transmit/write F\+I\+F\+O to the spi interface. The mode of operation is dependent on the chip\+\_\+select\+\_\+behavior. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a674bbccb1f788936c394607cd75c59f7}{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write} (const void $\ast$buffer, size\+\_\+t size, size\+\_\+t count, F\+I\+L\+E $\ast$fd\+\_\+log)
\begin{DoxyCompactList}\small\item\em Writes specifically to the S\+P\+I transmit/write data F\+I\+F\+O. It does not attempt to correlate the number of transmit bytes with receive bytes. Its purpose is more for low level hardware testing. Note that this function has a signature identical to the fwrite() function (i.\+e. make use of function pointers to guide destination of data). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_acc51bf8337741aa0f73036c6707efc84}{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read} (const void $\ast$buffer, size\+\_\+t size, size\+\_\+t count, F\+I\+L\+E $\ast$fd\+\_\+log)
\begin{DoxyCompactList}\small\item\em Reads from the S\+P\+I receive/read data F\+I\+F\+O. It does not attempt to correlate the number of transmit bytes with receive bytes. Its purpose is more for low level hardware testing. Note that this function has a signature identical to the fread() function (i.\+e. make use of function pointers to guide sourcing of data). \end{DoxyCompactList}\item 
static int \hyperlink{idi_8c_a3bbc3691f100386d03819418bd7f7a59}{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper} (size\+\_\+t size, size\+\_\+t tx\+\_\+count, const void $\ast$tx\+\_\+buffer, size\+\_\+t rx\+\_\+size, const void $\ast$rx\+\_\+buffer, \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} active\+\_\+tx, \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{B\+O\+O\+L} active\+\_\+rx, \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M} csb)
\item 
int \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read} (size\+\_\+t size, size\+\_\+t tx\+\_\+count, const void $\ast$tx\+\_\+buffer, size\+\_\+t rx\+\_\+size, const void $\ast$rx\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em This function will write/read virtually any kind of data with almost any kind of chips select wrapping surrounding the data. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a7e1e8c7428f97d95c1048515aa248ab0}{S\+P\+I\+\_\+\+Data\+\_\+\+Write} (const void $\ast$tx\+\_\+buffer, size\+\_\+t size, size\+\_\+t tx\+\_\+count, F\+I\+L\+E $\ast$fd\+\_\+log)
\begin{DoxyCompactList}\small\item\em Special case of Write/\+Read that has a function signature same as fread() or fwrite(). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a0dc0c4180557014ec4c687dcc8d326e7}{S\+P\+I\+\_\+\+Data\+\_\+\+Read} (const void $\ast$rx\+\_\+buffer, size\+\_\+t size, size\+\_\+t rx\+\_\+size, F\+I\+L\+E $\ast$fd\+\_\+log)
\begin{DoxyCompactList}\small\item\em Special case of Write/\+Read that has a function signature same as fread() or fwrite(). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a478c7200a60ec93c9195e44fc2b294f7}{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set} (void)
\begin{DoxyCompactList}\small\item\em F\+R\+A\+M Write Enable Latch Set command (W\+R\+E\+N) \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a82f93449bb944b1e52db87e360bb620c}{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable} (void)
\begin{DoxyCompactList}\small\item\em F\+R\+A\+M Write Latch disable (or clear) command (W\+R\+D\+I). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_ae5af3fdd5b69319183d08077dbf622f4}{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register} (uint8\+\_\+t $\ast$status)
\begin{DoxyCompactList}\small\item\em Read the F\+R\+A\+M status register and output the value. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a9a0f7ac60fdc2ff32c1cf9cfb7bfdad3}{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register} (uint8\+\_\+t status)
\begin{DoxyCompactList}\small\item\em Write to the F\+R\+A\+M status register. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read} (uint16\+\_\+t address, size\+\_\+t count, uint8\+\_\+t $\ast$buffer)
\begin{DoxyCompactList}\small\item\em Reads data from F\+R\+A\+M memory to the output buffer. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write} (uint16\+\_\+t address, size\+\_\+t count, uint8\+\_\+t $\ast$buffer)
\begin{DoxyCompactList}\small\item\em Writes data from buffer to F\+R\+A\+M memory. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a7e74342366750cf212bced8dcccb433d}{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D} (uint32\+\_\+t $\ast$id)
\item 
int \hyperlink{idi_8c_a9486d70eec81c27defc04c1e0ebbcf71}{F\+R\+A\+M\+\_\+\+Set} (size\+\_\+t count, uint8\+\_\+t $\ast$buffer)
\begin{DoxyCompactList}\small\item\em This function will be used when creating a memory pool so that as blocks are allocated one can determine if we have an issue outside of any allocated space (i.\+e. overflows and so on). \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_abea0d9db987eaf2b5f6a6696bbed5993}{F\+R\+A\+M\+\_\+\+Report} (uint16\+\_\+t address, size\+\_\+t length, F\+I\+L\+E $\ast$out)
\item 
int \hyperlink{idi_8c_ae0b87251c6439330b9287fc12cc306dd}{F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File} (uint16\+\_\+t address, size\+\_\+t length, F\+I\+L\+E $\ast$binary)
\item 
int \hyperlink{idi_8c_acfdd9db9e4fd5406b6024cf5ac492b95}{F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory} (uint16\+\_\+t address, size\+\_\+t length, F\+I\+L\+E $\ast$binary)
\item 
static int \hyperlink{idi_8c_a668e4784c156d76f27de8e047391007e}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_af8816b167342609f62dea85684c8668b}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a99f6186befa8e74608716454a91c44bd}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a8e322fdc87a9fc7da0cebe8d074693e2}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a356455eaafd272310dac8a96d94b179d}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em C\+P\+O\+L C\+P\+H\+A M\+O\+D\+E 0 0 0 1 0 1 2 1 0 3 1 1. \end{DoxyCompactList}\item 
static int \hyperlink{idi_8c_a0d601686f8bd8cf38104226abd0ae0e5}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a50de516119a8ca534f4aada4f825d443}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ac3529e3914f0c1f8e335a3843bed9744}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ae8a4c4d867aba3d602dc4e74226b7587}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a87f0e514a60de8610820fd7a83703e1c}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_aeca81fe3de2af7764b438c3914b01b18}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a5c3569de8003fff3301140897d842d79}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a4fa9a82ae726923baa736477d50d2589}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_ab3d8b6fa8b84e23203bb0f2ee9b7654c}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a1e853e6dd18470682ece747ece78f6cf}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a11970f9c47b6ab73a9b61c5fddc97ffc}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ad08156aad04f93c2cd826c90b9b91566}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a148e18c77ccddbcf64525e077490f25a}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_aa1120a9ab4e78d6c65dc4fd2a5445d2f}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_aa2f4bfa13ac3db30467e75cd0f287e26}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a550c9fd5faeabbeb5e6b0ae9e6b2557a}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ad7a5bbb7485eb1a88ee66ff36d7c3d61}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_aa0454405958e720573dfa6a8641f074e}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_aaefc0ba72d5e1d1a732a55dd7b52c4e1}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_a606ff80c6af794676d2609d022254961}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ad59aa9edce531ded7d34e236216d0c3c}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ac7fce67a17e18f47f5e72ca1c8820647}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_ac49acbd90fd55e5b6bfa1b9306c25efd}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_acbd07590cc6312792765dd7ec17a614f}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_a59716a10cd7a8c42425e1ceaefd50dc4}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Either reads or writes a register using the form\+: idi $<$register acronym$>$=\char`\"{}\char`\"{}$>$ \mbox{[}

\mbox{]}. \end{DoxyCompactList}\item 
static int \hyperlink{idi_8c_a4aff859f461c01bde31699b10f2d602d}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
static int \hyperlink{idi_8c_aed68a86ac0a1465fe0d35a3ab48079dd}{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_a5dfe12489f8e7e96a20e3dbe6810e90f}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \hyperlink{idi_8c_a2db447f8544aaf996c1f9526db749d54}{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Processes and dispatches the top level of the command and passes the remaining string list onto specialized functions to further process arguments. If no command is specified then a help output is produced. \end{DoxyCompactList}\item 
void \hyperlink{idi_8c_aeee5af479713594f4032b36fdefc2ca5}{I\+D\+I\+\_\+\+Help} (F\+I\+L\+E $\ast$out)
\begin{DoxyCompactList}\small\item\em Outputs a help listing to the user. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a9b645d8637fdc45f72c0109fbd730209}{I\+D\+I\+\_\+\+Termination} (void)
\begin{DoxyCompactList}\small\item\em Runs upon application exit. It saves the \hyperlink{structidi__dataset}{idi\+\_\+dataset} data structure. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a89241c518880078575d736e7171ab068}{I\+D\+I\+\_\+\+Initialization} (void)
\begin{DoxyCompactList}\small\item\em Runs upon application startup. It restores the \hyperlink{structidi__dataset}{idi\+\_\+dataset} data structure or if the file cannot be found it will simply initialize those parameters to default values. \end{DoxyCompactList}\item 
int \hyperlink{idi_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Processes and dispatches the top level of the command and passes the remaining string list onto specialized functions to further process arguments. If no command is specified then a help output is produced. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const char \hyperlink{idi_8c_aff30ce3e78536dd65f538be3989eb9ea}{idi\+\_\+svn\+\_\+revision\+\_\+string} \mbox{[}$\,$\mbox{]} = \{ \hyperlink{idi_8c_ac80cd7b02810a77973bd938d9c2871ad}{I\+D\+I\+\_\+\+R\+E\+V} \}
\begin{DoxyCompactList}\small\item\em Global variables. \end{DoxyCompactList}\item 
const struct \hyperlink{structec__human__readable}{ec\+\_\+human\+\_\+readable} \hyperlink{idi_8c_a1d16f5e8ad9dd6c76f321ac20a19f22b}{ec\+\_\+human\+\_\+readable} \mbox{[}$\,$\mbox{]}
\item 
static const char $\ast$ \hyperlink{idi_8c_a68ed5a64a223c6c9c2ef8114ca1b8140}{idi\+\_\+bank\+\_\+symbol\+\_\+names} \mbox{[}$\,$\mbox{]}
\item 
static const struct \hyperlink{structreg__definition}{reg\+\_\+definition} \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions} \mbox{[}$\,$\mbox{]}
\item 
struct \hyperlink{structidi__dataset}{idi\+\_\+dataset} \hyperlink{idi_8c_a6f70d49024561badc96c80f6dc08d02d}{idi\+\_\+dataset}
\item 
static const char \hyperlink{idi_8c_a5321c7cef8321867817b5c9008c27a1a}{ec\+\_\+unknown} \mbox{[}$\,$\mbox{]} = \char`\"{}unknown error code\char`\"{}
\begin{DoxyCompactList}\small\item\em Translates an error code into a human readable message. \end{DoxyCompactList}\item 
static struct \hyperlink{structcommand__line}{command\+\_\+line} \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\+\_\+cmd\+\_\+spi} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structcommand__line}{command\+\_\+line} \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\+\_\+cmd\+\_\+fram} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structcommand__line}{command\+\_\+line} \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\+\_\+cmd\+\_\+din} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structcommand__line}{command\+\_\+line} \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\+\_\+cmd\+\_\+main} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{\index{idi.\+c@{idi.\+c}!C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C@{C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C}}
\index{C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C@{C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C}!idi.\+c@{idi.\+c}}
\subsubsection[{C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C~20.\+0e-\/9}}\label{idi_8c_a2a635742326b18bb61d409dfdb7f294b}


Board clock period as defined by the on-\/board oscillator which is 50\+M\+Hz. 



Definition at line 81 of file idi.\+c.



Referenced by S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay(), S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock(), S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Get().

\hypertarget{idi_8c_a35c55d31a7248223e061a0a57c5fa9c3}{\index{idi.\+c@{idi.\+c}!E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M@{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}}
\index{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M@{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M(
\begin{DoxyParamCaption}
\item[{}]{symbol, }
\item[{}]{code, }
\item[{}]{message}
\end{DoxyParamCaption}
)~symbol = code,}}\label{idi_8c_a35c55d31a7248223e061a0a57c5fa9c3}


Definition at line 160 of file idi.\+c.

\hypertarget{idi_8c_aae5ed8bffd35508eca131f4d030f8516}{\index{idi.\+c@{idi.\+c}!E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E@{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E}}
\index{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E@{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+C\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E(
\begin{DoxyParamCaption}
\item[{}]{symbol, }
\item[{}]{code, }
\item[{}]{message}
\end{DoxyParamCaption}
)~\{ code, message \},}}\label{idi_8c_aae5ed8bffd35508eca131f4d030f8516}


Definition at line 161 of file idi.\+c.

\hypertarget{idi_8c_aca7b959740043bcdc341579d1de3b587}{\index{idi.\+c@{idi.\+c}!E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E@{E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E}}
\index{E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E@{E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+C\+\_\+\+H\+U\+M\+A\+N\+\_\+\+R\+E\+A\+D\+A\+B\+L\+E\+\_\+\+T\+E\+R\+M\+I\+N\+A\+T\+E~\{ 0, N\+U\+L\+L \}}}\label{idi_8c_aca7b959740043bcdc341579d1de3b587}


Definition at line 162 of file idi.\+c.

\hypertarget{idi_8c_a65e9886d74aaee76545e83dd09011727}{\index{idi.\+c@{idi.\+c}!false@{false}}
\index{false@{false}!idi.\+c@{idi.\+c}}
\subsubsection[{false}]{\setlength{\rightskip}{0pt plus 5cm}\#define false~0}}\label{idi_8c_a65e9886d74aaee76545e83dd09011727}


Definition at line 72 of file idi.\+c.

\hypertarget{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E@{F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}}
\index{F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E@{F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E~256}}\label{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}


Definition at line 372 of file idi.\+c.



Referenced by F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory(), F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File(), and F\+R\+A\+M\+\_\+\+Set().

\hypertarget{idi_8c_aaf473d06aba7bd500cb5f20a2b64e200}{\index{idi.\+c@{idi.\+c}!I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D@{I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D}}
\index{I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D@{I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+\_\+\+A\+L\+W\+A\+Y\+S\+\_\+\+R\+E\+P\+O\+R\+T\+\_\+\+A\+S\+\_\+\+G\+O\+O\+D~1}}\label{idi_8c_aaf473d06aba7bd500cb5f20a2b64e200}


Definition at line 124 of file idi.\+c.

\hypertarget{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y~6}}\label{idi_8c_a49429b2baa0cec368650dc945b1f77c7}


Definition at line 355 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group().

\hypertarget{idi_8c_a3176ade75a5108d4b5e4f61ca2c1e842}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E~8}}\label{idi_8c_a3176ade75a5108d4b5e4f61ca2c1e842}


Definition at line 353 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get().

\hypertarget{idi_8c_ac0b401f4d27a710797a76887edbc77da}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Q\+T\+Y~( {\bf I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E} $\ast$ {\bf I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y} )}}\label{idi_8c_ac0b401f4d27a710797a76887edbc77da}


Definition at line 356 of file idi.\+c.

\hypertarget{idi_8c_a1672fbebd0a87ba0ad4abbaaf4d7cb56}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T~3}}\label{idi_8c_a1672fbebd0a87ba0ad4abbaaf4d7cb56}


Definition at line 354 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get().

\hypertarget{idi_8c_a016eb7133cd5c37fc3dda165251b102c}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S@{I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S}}
\index{I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S@{I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+O\+D\+E\+S(
\begin{DoxyParamCaption}
\item[{}]{\+\_\+}
\end{DoxyParamCaption}
)}}\label{idi_8c_a016eb7133cd5c37fc3dda165251b102c}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{comment}{/*    enum\_symbol                      code     human readable             */} \(\backslash\)
        \_( SUCCESS,                         0,      \textcolor{stringliteral}{""}                          ) \(\backslash\)
        \_( EC\_BUFFER\_TOO\_LARGE,             1,      \textcolor{stringliteral}{"buffer too large"}          ) \(\backslash\)
        \_( EC\_DIRECTION,                    2,      \textcolor{stringliteral}{"direction"}                 ) \(\backslash\)
        \_( EC\_PARAMETER,                    3,      \textcolor{stringliteral}{"parameter"}                 ) \(\backslash\)
        \_( EC\_NOT\_FOUND,                    4,      \textcolor{stringliteral}{"not found"}                 ) \(\backslash\)
        \_( EC\_PARAMETER\_MISSING,            5,      \textcolor{stringliteral}{"missing parameter"}         ) \(\backslash\)
        \_( EC\_SYNTAX,                       6,      \textcolor{stringliteral}{"syntax error"}              ) \(\backslash\)
        \_( EC\_HEX\_DUMP\_COUNT,               7,      \textcolor{stringliteral}{"hex dump count"}            ) \(\backslash\)
        \_( EC\_INIT\_FILE,                    8,      \textcolor{stringliteral}{"write init file failed"}    ) \(\backslash\)
        \_( EC\_SPI\_ECD\_OUT\_OF\_RANGE,        20,      \textcolor{stringliteral}{"SPI ECD range"}             ) \(\backslash\)
        \_( EC\_SPI\_HALF\_CLOCK\_OUT\_OF\_RANGE, 21,      \textcolor{stringliteral}{"SPI half clock range"}      ) \(\backslash\)
        \_( EC\_SPI\_CSB\_OUT\_OF\_RANGE,        22,      \textcolor{stringliteral}{"SPI CSB range"}             ) \(\backslash\)
        \_( EC\_SPI\_NOT\_FOUND,               23,      \textcolor{stringliteral}{"SPI not found"}             ) \(\backslash\)
        \_( EC\_SPI\_BUFFER\_SIZE\_ODD,         24,      \textcolor{stringliteral}{"buffer size odd"}           ) \(\backslash\)
        \_( EC\_SPI\_BUFFER\_SIZE,             25,      \textcolor{stringliteral}{"buffer size out of range"}  ) \(\backslash\)
        \_( EC\_SPI\_OBJECT\_SIZE,             26,      \textcolor{stringliteral}{"spi tx/rx object size"}     )
\end{DoxyCode}


An organized error code listing. This macro is used to build the complete error code enumeration list. 



Definition at line 139 of file idi.\+c.

\hypertarget{idi_8c_a89aafcecb31ea285f00ff64a436d570d}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T@{I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T}}
\index{I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T@{I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+I\+O\+\_\+\+D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+T\+E\+S\+T~1}}\label{idi_8c_a89aafcecb31ea285f00ff64a436d570d}


Definition at line 680 of file idi.\+c.

\hypertarget{idi_8c_a46af412eb7225c2d98d4816555cd3da6}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E@{I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E}}
\index{I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E@{I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+Z\+E~256}}\label{idi_8c_a46af412eb7225c2d98d4816555cd3da6}


Definition at line 373 of file idi.\+c.

\hypertarget{idi_8c_a48b3568347bc557b3c8d24064ce40880}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N@{I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}}
\index{I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N@{I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N(
\begin{DoxyParamCaption}
\item[{}]{\+\_\+}
\end{DoxyParamCaption}
)}}\label{idi_8c_a48b3568347bc557b3c8d24064ce40880}


Organized list of registers and associate attributes of each of the registers. This macro does not consume any memory of in itself, and is only 'consumed' or used to automatically build enumerations and pre-\/built data structures. 



Definition at line 222 of file idi.\+c.

\hypertarget{idi_8c_ac80cd7b02810a77973bd938d9c2871ad}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+R\+E\+V@{I\+D\+I\+\_\+\+R\+E\+V}}
\index{I\+D\+I\+\_\+\+R\+E\+V@{I\+D\+I\+\_\+\+R\+E\+V}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+R\+E\+V}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+D\+I\+\_\+\+R\+E\+V~\char`\"{}\$Date\+: 2015-\/03-\/05 08\+:48\+:57 -\/0600 (Thu, 05 Mar 2015) \$\char`\"{}}}\label{idi_8c_ac80cd7b02810a77973bd938d9c2871ad}


The Subversion (S\+V\+N) time/date marker which is updated during commit of the source file to the repository. 



Definition at line 48 of file idi.\+c.

\hypertarget{idi_8c_a26e6d0bb7953f29dd0c919f3be8a5bdc}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T@{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}}
\index{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T@{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T(
\begin{DoxyParamCaption}
\item[{}]{bank}
\end{DoxyParamCaption}
)~( bank   $<$$<$   8 )}}\label{idi_8c_a26e6d0bb7953f29dd0c919f3be8a5bdc}


Definition at line 285 of file idi.\+c.

\hypertarget{idi_8c_adb4cfa517096778a767098b1bc2ebc86}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N@{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}}
\index{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N@{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N(
\begin{DoxyParamCaption}
\item[{}]{symbol, }
\item[{}]{index, }
\item[{}]{offset, }
\item[{}]{register\+\_\+bytes, }
\item[{}]{aperture\+\_\+bytes, }
\item[{}]{read\+\_\+write, }
\item[{}]{name, }
\item[{}]{bank}
\end{DoxyParamCaption}
)~\{ ( ({\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}) ({\bf R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}(bank) $\vert$ {\bf R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}(offset)) ), read\+\_\+write, bank, offset, \#symbol, name \},}}\label{idi_8c_adb4cfa517096778a767098b1bc2ebc86}


Definition at line 293 of file idi.\+c.

\hypertarget{idi_8c_af76545581dcf26dc754c173d871c8ae3}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M@{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}}
\index{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M@{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+E\+X\+T\+R\+A\+C\+T\+\_\+\+E\+N\+U\+M(
\begin{DoxyParamCaption}
\item[{}]{symbol, }
\item[{}]{index, }
\item[{}]{offset, }
\item[{}]{register\+\_\+bytes, }
\item[{}]{aperture\+\_\+bytes, }
\item[{}]{read\+\_\+write, }
\item[{}]{name, }
\item[{}]{bank}
\end{DoxyParamCaption}
)~symbol = ( {\bf R\+E\+G\+\_\+\+B\+A\+N\+K\+\_\+\+S\+E\+T}(bank) $\vert$ {\bf R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}(offset) ),}}\label{idi_8c_af76545581dcf26dc754c173d871c8ae3}


Definition at line 291 of file idi.\+c.

\hypertarget{idi_8c_a1f8d0d21d4d226982f2ad9a4916a0f3d}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T@{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T}}
\index{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T@{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T(
\begin{DoxyParamCaption}
\item[{}]{location}
\end{DoxyParamCaption}
)~( ( location $>$$>$ 8 ) \& 0x\+F\+F )}}\label{idi_8c_a1f8d0d21d4d226982f2ad9a4916a0f3d}


Definition at line 287 of file idi.\+c.



Referenced by I\+O\+\_\+\+Read\+\_\+\+U8(), and I\+O\+\_\+\+Write\+\_\+\+U8().

\hypertarget{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T@{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T}}
\index{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T@{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T(
\begin{DoxyParamCaption}
\item[{}]{location}
\end{DoxyParamCaption}
)~( location \& 0xff )}}\label{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}


Definition at line 288 of file idi.\+c.



Referenced by I\+O\+\_\+\+Read\+\_\+\+U8(), and I\+O\+\_\+\+Write\+\_\+\+U8().

\hypertarget{idi_8c_a42386da30c700867b129b9f1fc45fdc0}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T@{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}}
\index{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T@{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\+E\+G\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+E\+T(
\begin{DoxyParamCaption}
\item[{}]{offset}
\end{DoxyParamCaption}
)~( offset \& 0xff )}}\label{idi_8c_a42386da30c700867b129b9f1fc45fdc0}


Definition at line 286 of file idi.\+c.

\hypertarget{idi_8c_a2b82f3c0a4c5c1a46da4c23f43fe1832}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E@{S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}}
\index{S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E@{S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+P\+I\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E~256}}\label{idi_8c_a2b82f3c0a4c5c1a46da4c23f43fe1832}


Definition at line 374 of file idi.\+c.

\hypertarget{idi_8c_acf1a32c487efc5306d57219a57d57b60}{\index{idi.\+c@{idi.\+c}!strcmpi@{strcmpi}}
\index{strcmpi@{strcmpi}!idi.\+c@{idi.\+c}}
\subsubsection[{strcmpi}]{\setlength{\rightskip}{0pt plus 5cm}\#define strcmpi~strcasecmp}}\label{idi_8c_acf1a32c487efc5306d57219a57d57b60}


Definition at line 36 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I(), and main().

\hypertarget{idi_8c_a41f9c5fb8b08eb5dc3edce4dcb37fee7}{\index{idi.\+c@{idi.\+c}!true@{true}}
\index{true@{true}!idi.\+c@{idi.\+c}}
\subsubsection[{true}]{\setlength{\rightskip}{0pt plus 5cm}\#define true~1}}\label{idi_8c_a41f9c5fb8b08eb5dc3edce4dcb37fee7}


Definition at line 73 of file idi.\+c.



\subsection{Typedef Documentation}
\hypertarget{idi_8c_a050c65e107f0c828f856a231f4b4e788}{\index{idi.\+c@{idi.\+c}!B\+O\+O\+L@{B\+O\+O\+L}}
\index{B\+O\+O\+L@{B\+O\+O\+L}!idi.\+c@{idi.\+c}}
\subsubsection[{B\+O\+O\+L}]{\setlength{\rightskip}{0pt plus 5cm}typedef int {\bf B\+O\+O\+L}}}\label{idi_8c_a050c65e107f0c828f856a231f4b4e788}


The C89 compiler is typically void of these definitions, so we include them here. Defines specific data width information. The idea is to make this target independent. 

Boolean logic definitions 

Definition at line 71 of file idi.\+c.



\subsection{Enumeration Type Documentation}
\hypertarget{idi_8c_a06fc87d81c62e9abb8790b6e5713c55b}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{idi_8c_a06fc87d81c62e9abb8790b6e5713c55b}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{F\+A\+L\+S\+E@{F\+A\+L\+S\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!F\+A\+L\+S\+E@{F\+A\+L\+S\+E}}\item[{\em 
\hypertarget{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa1e095cc966dbecf6a0d8aad75348d1a}{F\+A\+L\+S\+E}\label{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa1e095cc966dbecf6a0d8aad75348d1a}
}]\index{T\+R\+U\+E@{T\+R\+U\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!T\+R\+U\+E@{T\+R\+U\+E}}\item[{\em 
\hypertarget{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa82764c3079aea4e60c80e45befbb839}{T\+R\+U\+E}\label{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa82764c3079aea4e60c80e45befbb839}
}]\end{description}
\end{Desc}


Definition at line 74 of file idi.\+c.


\begin{DoxyCode}
74 \{ \hyperlink{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa1e095cc966dbecf6a0d8aad75348d1a}{FALSE} = 0, \hyperlink{idi_8c_a06fc87d81c62e9abb8790b6e5713c55baa82764c3079aea4e60c80e45befbb839}{TRUE} = 1 \};
\end{DoxyCode}
\hypertarget{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7}


These are the unique I\+Ds assigned to the hardware components. If there is a firmware revision within any of these components within the board, a new I\+D will be assigned. The philosophy behind the I\+D scheme is that it embodies both a unique I\+D and revision information in a purely arbitrary scheme. It assumes that all components defined within the system will never have the same I\+D numbers. We maintain a unique list of those I\+D numbers. We will provide a list to customers as required. 

Software uses these I\+D numbers to determine which portion of the driver/library to apply to that portion of the hardware. For example, if we end up having D\+I\+Ns with different I\+D numbers, this simply means that the each will require (potentially) a unique portion of driver/library in order to properly use that portion of the hardware. This requires that the library/driver has some knowledge related to the I\+D numbers assigned.

At this point, an I\+D=0x8012 implies an Isolated Digital Input component that has a register map identical to the Win\+Systems Opto48 card. The actual D\+I\+N48 component has a more straight forward register mapping, but within the S\+T\+D-\/bus space we have re-\/arranged it to appear like the Win\+Systems Opto48 card.

Similarly with the S\+P\+I component, we have mangled the register set in order that it fit within the constrained register space.

One could argue that there ought to be a nibble for revision and an upper nibble for the component I\+D itself, but quickly you find out the limitation of that implementation. If we simply use an arbitrary list from 1 to 65535 we can fit it within 16-\/bits and it will be a fairly long time until it is filled. In a couple years we will likely move to 32-\/bit and simply continue where we left off. The software really does not care, so long as the numbers are always unique. We can use the uniqueness of the I\+Ds along with some implied intelligence (i.\+e. what board is this, what bus are we on, and perhaps a little bit of knowledge of the component itself) we can always build and grow software to accommodate new revisions and still support older revision hardware. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I\+D\+\_\+\+D\+I\+N@{I\+D\+\_\+\+D\+I\+N}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+\_\+\+D\+I\+N@{I\+D\+\_\+\+D\+I\+N}}\item[{\em 
\hypertarget{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}{I\+D\+\_\+\+D\+I\+N}\label{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}
}]component D\+I\+N48 I\+D \index{I\+D\+\_\+\+S\+P\+I@{I\+D\+\_\+\+S\+P\+I}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+\_\+\+S\+P\+I@{I\+D\+\_\+\+S\+P\+I}}\item[{\em 
\hypertarget{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}{I\+D\+\_\+\+S\+P\+I}\label{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}
}]component S\+P\+I I\+D \end{description}
\end{Desc}


Definition at line 114 of file idi.\+c.


\begin{DoxyCode}
115 \{
116     \hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}{ID\_DIN} = 0x8012,  
117     \hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}{ID\_SPI} = 0x8013   
118 \};
\end{DoxyCode}
\hypertarget{idi_8c_a99fb83031ce9923c84392b4e92f956b5}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{idi_8c_a99fb83031ce9923c84392b4e92f956b5}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E}}\item[{\em 
\hypertarget{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E}\label{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}
}]\end{description}
\end{Desc}


Definition at line 324 of file idi.\+c.


\begin{DoxyCode}
324 \{ \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} = 16 \};
\end{DoxyCode}
\hypertarget{idi_8c_abc6126af1d45847bc59afa0aa3216b04}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{idi_8c_abc6126af1d45847bc59afa0aa3216b04}


Dumps a hexadecimal and A\+S\+C\+I\+I equivalent string to the desired output. The format, illustrated below is a classic memory dump format. 

$<$address$>$\+: $<$hex$>$ \mbox{[}$<$hex$>$\mbox{]}.... $<$ascii list$>$=\char`\"{}\char`\"{}$>$


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em address} & starting address. \\
\hline
\mbox{\tt in}  & {\em count} & number of bytes in the buffer \\
\hline
\mbox{\tt in}  & {\em buffer} & buffer containing the bytes to output \\
\hline
\mbox{\tt out}  & {\em out} & desired output destination. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code is returned. 
\end{DoxyReturn}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E@{H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E@{H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E}}\item[{\em 
\hypertarget{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E}\label{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}
}]\end{description}
\end{Desc}


Definition at line 570 of file idi.\+c.


\begin{DoxyCode}
570 \{ \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE} = 16 \};
\end{DoxyCode}
\hypertarget{idi_8c_adc29c2ff13d900c2f185ee95427fb06c}{\subsubsection[{anonymous enum}]{\setlength{\rightskip}{0pt plus 5cm}anonymous enum}}\label{idi_8c_adc29c2ff13d900c2f185ee95427fb06c}


F\+R\+A\+M Density current in use. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S@{F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S@{F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S}}\item[{\em 
\hypertarget{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S}\label{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}
}]\end{description}
\end{Desc}


Definition at line 2059 of file idi.\+c.


\begin{DoxyCode}
2059 \{ \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES} = 8192 \};
\end{DoxyCode}
\hypertarget{idi_8c_a16689154c729ce352ec6d746b8ab663e}{\index{idi.\+c@{idi.\+c}!E\+C\+\_\+\+E\+N\+U\+M@{E\+C\+\_\+\+E\+N\+U\+M}}
\index{E\+C\+\_\+\+E\+N\+U\+M@{E\+C\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{E\+C\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf E\+C\+\_\+\+E\+N\+U\+M}}}\label{idi_8c_a16689154c729ce352ec6d746b8ab663e}


Definition at line 167 of file idi.\+c.


\begin{DoxyCode}
168 \{
169     \hyperlink{idi_8c_a016eb7133cd5c37fc3dda165251b102c}{IDI\_ERROR\_CODES}( \hyperlink{idi_8c_a35c55d31a7248223e061a0a57c5fa9c3}{EC\_EXTRACT\_ENUM} )
170 \} \hyperlink{idi_8c_a16689154c729ce352ec6d746b8ab663e}{EC\_ENUM};  \textcolor{comment}{/* EC = Error Code */}
\end{DoxyCode}
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M}}
\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M}}}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77}


The bank register mapping. This mapping is upwardly compatible with the legacy hardware banking register. It also allows for future expansion utilizing the lower bits which are currently unused. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}
}]\index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}
}]indicates exclusive of bank address \index{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D@{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D}}\item[{\em 
\hypertarget{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}{I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D}\label{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}
}]indicates that no banking has been defined \end{description}
\end{Desc}


Definition at line 191 of file idi.\+c.


\begin{DoxyCode}
192 \{
193     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{IDI\_BANK\_0}            = 0x00,
194     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}{IDI\_BANK\_1}            = 0x40,
195     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}{IDI\_BANK\_2}            = 0x80,
196     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}{IDI\_BANK\_3}            = 0xC0,
197     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}{IDI\_BANK\_4}            = 0x20,
198     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}{IDI\_BANK\_5}            = 0x60,
199     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}{IDI\_BANK\_6}            = 0xA0,
200     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}{IDI\_BANK\_7}            = 0xE0,
201     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{IDI\_BANK\_NONE}      = 0xFE, 
202     \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}{IDI\_BANK\_UNDEFINED}  = 0xFF  
203 \} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77}{IDI\_BANK\_ENUM};
\end{DoxyCode}
\hypertarget{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M@{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}
\index{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M@{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}}\label{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}


Definition at line 296 of file idi.\+c.


\begin{DoxyCode}
297 \{
298     \hyperlink{idi_8c_a48b3568347bc557b3c8d24064ce40880}{IDI\_REGISTER\_SET\_DEFINITION}( \hyperlink{idi_8c_af76545581dcf26dc754c173d871c8ae3}{REG\_EXTRACT\_ENUM} )
299 \} \hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM};
\end{DoxyCode}
\hypertarget{idi_8c_adaff99746c6b7de99d49bf298156b6f5}{\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M}}
\index{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M}}}\label{idi_8c_adaff99746c6b7de99d49bf298156b6f5}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E}}\item[{\em 
\hypertarget{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E}\label{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}
}]\index{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D}}\item[{\em 
\hypertarget{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D}\label{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}
}]\index{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E}}\item[{\em 
\hypertarget{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E}\label{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}
}]\index{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E@{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E}}\item[{\em 
\hypertarget{idi_8c_adaff99746c6b7de99d49bf298156b6f5adb0d7022466918b7b7481154bbce753a}{R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E}\label{idi_8c_adaff99746c6b7de99d49bf298156b6f5adb0d7022466918b7b7481154bbce753a}
}]\end{description}
\end{Desc}


Definition at line 205 of file idi.\+c.


\begin{DoxyCode}
206 \{
207     \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE}        = 0x00,
208     \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}{REG\_DIR\_READ}        = 0x01,
209     \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}{REG\_DIR\_WRITE}      = 0x02,
210     \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5adb0d7022466918b7b7481154bbce753a}{REG\_DIR\_READ\_WRITE}    = 0x03
211 \} \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5}{REG\_DIR\_ENUM};
\end{DoxyCode}
\hypertarget{idi_8c_a4715fd103e903bf93238963a9623101d}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M@{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}}
\index{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M@{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}}}\label{idi_8c_a4715fd103e903bf93238963a9623101d}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E}}\item[{\em 
\hypertarget{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E}\label{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}
}]\index{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R}}\item[{\em 
\hypertarget{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R}\label{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}
}]\index{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8}}\item[{\em 
\hypertarget{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8}\label{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}
}]\index{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16}!idi.\+c@{idi.\+c}}\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16@{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16}}\item[{\em 
\hypertarget{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16}\label{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}
}]\end{description}
\end{Desc}


Definition at line 315 of file idi.\+c.


\begin{DoxyCode}
316 \{
317     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE}    = 0,
318     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER}        = 1,
319     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{IDI\_CSB\_UINT8}      = 2,
320     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16}        = 3
321 \} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{idi_8c_ae02625dd3f93cc87fdab4b6e2c15ed6c}{\index{idi.\+c@{idi.\+c}!Character\+\_\+\+Get@{Character\+\_\+\+Get}}
\index{Character\+\_\+\+Get@{Character\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{Character\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} Character\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{character}
\end{DoxyParamCaption}
)}}\label{idi_8c_ae02625dd3f93cc87fdab4b6e2c15ed6c}


Obtains a key from the keyboard in a non-\/blocking way. This is exerpetted from A\+E\+S Universal Library/\+Driver. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em character} & Character from keyboard otherwise null character. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If true, then a valid character is available at the keyboard, otherwise false. 
\end{DoxyReturn}


Definition at line 652 of file idi.\+c.



Referenced by main().


\begin{DoxyCode}
653 \{
654     \textcolor{keywordtype}{int}  char\_temp;
655     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL} result = \textcolor{keyword}{false};
656 \textcolor{preprocessor}{#ifdef \_\_BORLANDC\_\_}
657     \textcolor{keywordflow}{if} ( kbhit() )
658     \{
659         char\_temp = getch();
660         result    = \textcolor{keyword}{true};
661     \}
662     \textcolor{keywordflow}{else}
663     \{
664         char\_temp = \textcolor{charliteral}{'\(\backslash\)0'};
665     \}
666 \textcolor{preprocessor}{#else}
667     char\_temp = \textcolor{charliteral}{'\(\backslash\)0'};
668     result    = \textcolor{keyword}{false};
669 \textcolor{preprocessor}{#endif}
670     \textcolor{keywordflow}{if} ( NULL != character ) *character = char\_temp;
671     \textcolor{keywordflow}{return} result;
672 \}
\end{DoxyCode}
\hypertarget{idi_8c_a898d8519b441ee16e816759982951490}{\index{idi.\+c@{idi.\+c}!E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable@{E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable}}
\index{E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable@{E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable}!idi.\+c@{idi.\+c}}
\subsubsection[{E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable (
\begin{DoxyParamCaption}
\item[{{\bf E\+C\+\_\+\+E\+N\+U\+M}}]{error\+\_\+code}
\end{DoxyParamCaption}
)}}\label{idi_8c_a898d8519b441ee16e816759982951490}


Definition at line 626 of file idi.\+c.



References ec\+\_\+unknown, ec\+\_\+human\+\_\+readable\+::message, and idi\+\_\+dataset\+::message.



Referenced by main().


\begin{DoxyCode}
627 \{
628     \textcolor{keywordtype}{int} index;
629 
630     \textcolor{keywordflow}{if} ( error\_code < 0 ) error\_code = -error\_code;
631 
632     index = 0;
633     \textcolor{keywordflow}{while}( NULL != \hyperlink{structec__human__readable}{ec\_human\_readable}[index].message )
634     \{
635         \textcolor{keywordflow}{if} ( ((\hyperlink{idi_8c_a16689154c729ce352ec6d746b8ab663e}{EC\_ENUM}) error\_code) == \hyperlink{structec__human__readable}{ec\_human\_readable}[index].error\_code )
636         \{
637             \textcolor{keywordflow}{return} \hyperlink{structec__human__readable}{ec\_human\_readable}[index].\hyperlink{structec__human__readable_a254bf0858da09c96a48daf64404eb4f8}{message};
638         \}
639         index++;
640     \}
641     \textcolor{keywordflow}{return} \hyperlink{idi_8c_a5321c7cef8321867817b5c9008c27a1a}{ec\_unknown};
642 \}
\end{DoxyCode}
\hypertarget{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read@{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read@{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{count, }
\item[{uint8\+\_\+t $\ast$}]{buffer}
\end{DoxyParamCaption}
)}}\label{idi_8c_a64361bd44229521030aaf0c373dbfaa3}


Reads data from F\+R\+A\+M memory to the output buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em address} & Starting F\+R\+A\+M address \\
\hline
\mbox{\tt in}  & {\em count} & Number of bytes to transfer \\
\hline
\mbox{\tt out}  & {\em buffer} & Destination buffer in which to store the data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2142 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty().



Referenced by F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File(), and F\+R\+A\+M\+\_\+\+Report().


\begin{DoxyCode}
2143 \{
2144     \textcolor{keywordtype}{int}             error\_code;
2145 \textcolor{comment}{//  SPI\_CSB\_ENUM    csb\_copy;}
2146     uint8\_t         tx\_buf[3] = \{ 0x03, 0x00, 0x00 \}; \textcolor{comment}{/* opcode: READ = 0x03 */}
2147     \textcolor{comment}{//uint8\_t rx\_buf[3];}
2148 
2149     tx\_buf[1] = (uint8\_t)( address & 0xFF );
2150     tx\_buf[2] = (uint8\_t)( address >>   8 );
2151 
2152 \textcolor{comment}{//  /* retain an existing copy of the actual csb value */}
2153 \textcolor{comment}{//  error\_code = SPI\_Configuration\_Chip\_Select\_Behavior\_Get( &csb\_copy );}
2154 \textcolor{comment}{//  if ( error\_code ) return error\_code;}
2155     \textcolor{comment}{/* over-ride and set it to what we wish it to be */}
2156     error\_code = \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE} );
2157     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2158 
2159     \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 1 );
2160 
2161     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 3, tx\_buf, 0, NULL );
2162     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2163 
2164     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 0, NULL, count, buffer );
2165     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2166 
2167     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}{SPI\_Status\_Write\_FIFO\_Is\_Not\_Empty}() ); \textcolor{comment}{/* wait for buffer to
       empty */}
2168     \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0 );
2169 
2170 \textcolor{comment}{//  /* restore the csb */}
2171 \textcolor{comment}{//  error\_code = SPI\_Configuration\_Chip\_Select\_Behavior\_Set( csb\_copy );}
2172 \textcolor{comment}{//  if ( error\_code ) return error\_code;}
2173 
2174     \textcolor{keywordflow}{return} SUCCESS;
2175 \}
\end{DoxyCode}
\hypertarget{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write@{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write@{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{count, }
\item[{uint8\+\_\+t $\ast$}]{buffer}
\end{DoxyParamCaption}
)}}\label{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}


Writes data from buffer to F\+R\+A\+M memory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em address} & Starting F\+R\+A\+M address \\
\hline
\mbox{\tt in}  & {\em count} & Number of bytes to transfer \\
\hline
\mbox{\tt out}  & {\em buffer} & Source buffer from which data will be transfered to F\+R\+A\+M \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2187 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty().



Referenced by F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory(), and F\+R\+A\+M\+\_\+\+Set().


\begin{DoxyCode}
2188 \{
2189     \textcolor{keywordtype}{int}             error\_code;
2190 \textcolor{comment}{//  SPI\_CSB\_ENUM    csb\_copy;}
2191     uint8\_t         tx\_buf[3] = \{ 0x02, 0x00, 0x00 \}; \textcolor{comment}{/* opcode: WRITE = 0x02 */}
2192 
2193     tx\_buf[1] = (uint8\_t)( address & 0xFF );
2194     tx\_buf[2] = (uint8\_t)( address >>   8 );
2195 
2196 \textcolor{comment}{//  /* retain an existing copy of the actual csb value */}
2197 \textcolor{comment}{//  error\_code = SPI\_Configuration\_Chip\_Select\_Behavior\_Get( &csb\_copy );}
2198 \textcolor{comment}{//  if ( error\_code ) return error\_code;}
2199     \textcolor{comment}{/* over-ride and set it to what we wish it to be */}
2200     error\_code = \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE} );
2201     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2202 
2203     \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 1 );
2204 
2205     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 3, tx\_buf, 0, NULL );
2206     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2207 
2208     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), count, buffer, 0, NULL );
2209     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2210 
2211     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}{SPI\_Status\_Write\_FIFO\_Is\_Not\_Empty}() ); \textcolor{comment}{/* wait for buffer to
       empty */}
2212     \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0 );
2213 
2214 \textcolor{comment}{//  /* restore the csb */}
2215 \textcolor{comment}{//  error\_code = SPI\_Configuration\_Chip\_Select\_Behavior\_Set( csb\_copy );}
2216 \textcolor{comment}{//  if ( error\_code ) return error\_code;}
2217     \textcolor{keywordflow}{return} SUCCESS;
2218 \}
\end{DoxyCode}
\hypertarget{idi_8c_a7e74342366750cf212bced8dcccb433d}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D@{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D@{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t $\ast$}]{id}
\end{DoxyParamCaption}
)}}\label{idi_8c_a7e74342366750cf212bced8dcccb433d}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em id} & The 32-\/bit I\+D register read from the F\+R\+A\+M. This appears to be only available with Fujistu parts. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2228 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().



Referenced by F\+R\+A\+M\+\_\+\+Set(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D().


\begin{DoxyCode}
2229 \{
2230     \textcolor{keywordtype}{int}         error\_code;
2231     uint8\_t     tx\_buf[5] = \{ 0x9F, 0x00, 0x00, 0x00, 0x00 \}; \textcolor{comment}{/* opcode: RDID = 0x9F */}
2232     uint8\_t     rx\_buf[5];
2233 
2234     \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} );
2235     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 5, tx\_buf, 5, rx\_buf );
2236     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2237 
2238     \{
2239         \textcolor{keywordtype}{int} id\_scratch = 0;
2240         \textcolor{keywordtype}{int} index;
2241 
2242         \textcolor{keywordflow}{for} ( index = 4; index > 0; index-- )
2243         \{
2244             id\_scratch = ( id\_scratch << 8 ) | ( (uint32\_t) rx\_buf[index] );
2245         \}
2246         *\textcolor{keywordtype}{id} = id\_scratch;
2247     \}
2248 
2249     \textcolor{keywordflow}{return} SUCCESS;
2250 \}
\end{DoxyCode}
\hypertarget{idi_8c_ae5af3fdd5b69319183d08077dbf622f4}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register@{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register@{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{idi_8c_ae5af3fdd5b69319183d08077dbf622f4}


Read the F\+R\+A\+M status register and output the value. 


\begin{DoxyParams}{Parameters}
{\em status} & A pointer to the destination location of the status data. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2098 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R().


\begin{DoxyCode}
2099 \{
2100     \textcolor{keywordtype}{int}     error\_code;
2101     uint8\_t tx\_buf[2] = \{ 0x05, 0x00 \}; \textcolor{comment}{/* opcode: RDSR = 0x04 */}
2102     uint8\_t rx\_buf[2];
2103 
2104     \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} );
2105     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 2, tx\_buf, 2, rx\_buf );
2106     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2107     *status = rx\_buf[1];
2108     \textcolor{keywordflow}{return} SUCCESS;
2109 \}
\end{DoxyCode}
\hypertarget{idi_8c_a82f93449bb944b1e52db87e360bb620c}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a82f93449bb944b1e52db87e360bb620c}


F\+R\+A\+M Write Latch disable (or clear) command (W\+R\+D\+I). 

\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2083 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I().


\begin{DoxyCode}
2084 \{
2085     uint8\_t tx\_buf[1] = \{ 0x04 \}; \textcolor{comment}{/* opcode: WRDI = 0x04 */}
2086     \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} );
2087     \textcolor{keywordflow}{return} \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 1, tx\_buf, 0, NULL );
2088 \}
\end{DoxyCode}
\hypertarget{idi_8c_a478c7200a60ec93c9195e44fc2b294f7}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a478c7200a60ec93c9195e44fc2b294f7}


F\+R\+A\+M Write Enable Latch Set command (W\+R\+E\+N) 

\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2069 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N().


\begin{DoxyCode}
2070 \{
2071     uint8\_t tx\_buf[1] = \{ 0x06 \}; \textcolor{comment}{/* opcode: WREN = 0x06 */}
2072     \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} );
2073     \textcolor{keywordflow}{return} \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 1, tx\_buf, 0, NULL );
2074 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9a0f7ac60fdc2ff32c1cf9cfb7bfdad3}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register}}
\index{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register@{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{status}
\end{DoxyParamCaption}
)}}\label{idi_8c_a9a0f7ac60fdc2ff32c1cf9cfb7bfdad3}


Write to the F\+R\+A\+M status register. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em F\+R\+A\+M} & status value to be written. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2119 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R().


\begin{DoxyCode}
2120 \{
2121     \textcolor{keywordtype}{int}     error\_code;
2122     uint8\_t tx\_buf[2] = \{ 0x05, 0x00 \}; \textcolor{comment}{/* opcode: RDSR = 0x04 */}
2123     uint8\_t rx\_buf[2];
2124 
2125     tx\_buf[1] = status;
2126     \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}( 
      \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} );
2127     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), 2, tx\_buf, 2, rx\_buf );
2128     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2129     \textcolor{keywordflow}{return} SUCCESS;
2130 \}
\end{DoxyCode}
\hypertarget{idi_8c_acfdd9db9e4fd5406b6024cf5ac492b95}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory@{F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory}}
\index{F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory@{F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{length, }
\item[{F\+I\+L\+E $\ast$}]{binary}
\end{DoxyParamCaption}
)}}\label{idi_8c_acfdd9db9e4fd5406b6024cf5ac492b95}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2393 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), idi\+\_\+dataset\+::fram\+\_\+block, and F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load().


\begin{DoxyCode}
2394 \{
2395     \textcolor{keywordtype}{int}     error\_code;
2396     \textcolor{keywordtype}{size\_t}  count\_read;
2397     \textcolor{keywordtype}{size\_t}  count\_total;
2398     \textcolor{keywordtype}{size\_t}  count\_actual;
2399 
2400     count\_total = 0;
2401     count\_read  = \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE};
2402     \textcolor{keywordflow}{if} ( 0 == length )
2403     \{
2404         \textcolor{keywordflow}{do}
2405         \{
2406             count\_actual = fread( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, 1, count\_read, binary );
2407             error\_code   = \hyperlink{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{FRAM\_\_Memory\_Write}( address, count\_read, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2408             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2409             count\_total += count\_actual;
2410             \textcolor{keywordflow}{if} ( count\_actual != count\_read ) count\_read = 0; \textcolor{comment}{/* must be at end of file */}
2411         \} \textcolor{keywordflow}{while} ( count\_read > 0 );
2412     \}
2413     \textcolor{keywordflow}{else}
2414     \{
2415         \textcolor{keywordflow}{if} ( length < count\_read ) count\_read = length;
2416         \textcolor{keywordflow}{do}
2417         \{
2418             count\_actual = fread( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, 1, count\_read, binary );
2419             error\_code   = \hyperlink{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{FRAM\_\_Memory\_Write}( address, count\_read, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2420             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2421             count\_total += count\_actual;
2422             length      -= count\_actual;
2423             \textcolor{keywordflow}{if} ( count\_actual != count\_read ) count\_read = 0; \textcolor{comment}{/* must be at end of file */}
2424             \textcolor{keywordflow}{if} ( length < count\_read ) count\_read = length;
2425         \} \textcolor{keywordflow}{while} ( count\_read > 0 );
2426     \}
2427     \textcolor{keywordflow}{return} SUCCESS;
2428 \}
\end{DoxyCode}
\hypertarget{idi_8c_ae0b87251c6439330b9287fc12cc306dd}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File@{F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File}}
\index{F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File@{F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{length, }
\item[{F\+I\+L\+E $\ast$}]{binary}
\end{DoxyParamCaption}
)}}\label{idi_8c_ae0b87251c6439330b9287fc12cc306dd}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2362 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), idi\+\_\+dataset\+::fram\+\_\+block, and F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save().


\begin{DoxyCode}
2363 \{
2364     \textcolor{keywordtype}{int}         error\_code;
2365     \textcolor{keywordtype}{size\_t}      block\_count;
2366     \textcolor{keywordtype}{size\_t}      block\_remainder;
2367 
2368     block\_count = length / ((size\_t) \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE});
2369     block\_remainder = length - ( block\_count * ((size\_t) \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE}) );
2370 
2371     \textcolor{keywordflow}{while} ( block\_count > 0 )
2372     \{
2373         error\_code = \hyperlink{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{FRAM\_\_Memory\_Read}( address, ((\textcolor{keywordtype}{size\_t}) 
      \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE}), \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2374         fwrite( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, 1, ((\textcolor{keywordtype}{size\_t}) 
      \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE}), binary );
2375         address += \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE};
2376         block\_count--;
2377     \}
2378 
2379     \textcolor{keywordflow}{if} ( block\_remainder > 0 )
2380     \{
2381         error\_code = \hyperlink{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{FRAM\_\_Memory\_Read}( address, block\_remainder, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2382         fwrite( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, 1, block\_remainder, binary );
2383         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2384     \}
2385     \textcolor{keywordflow}{return} SUCCESS;
2386 \}
\end{DoxyCode}
\hypertarget{idi_8c_abea0d9db987eaf2b5f6a6696bbed5993}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+Report@{F\+R\+A\+M\+\_\+\+Report}}
\index{F\+R\+A\+M\+\_\+\+Report@{F\+R\+A\+M\+\_\+\+Report}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+Report}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+Report (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{length, }
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_abea0d9db987eaf2b5f6a6696bbed5993}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2329 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), idi\+\_\+dataset\+::fram\+\_\+block, H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E, and Hex\+\_\+\+Dump\+\_\+\+Line().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump().


\begin{DoxyCode}
2330 \{
2331     \textcolor{keywordtype}{int}         error\_code;
2332     \textcolor{keyword}{const} \textcolor{keywordtype}{int}   block\_size = \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE};
2333     \textcolor{keywordtype}{size\_t}      block\_count;
2334     \textcolor{keywordtype}{size\_t}      block\_remainder;
2335 
2336     block\_count = ((size\_t) length) / block\_size;
2337     block\_remainder = ((size\_t) length) - ( block\_count * block\_size );
2338 
2339     \textcolor{keywordflow}{while} ( block\_count > 0 )
2340     \{ \textcolor{comment}{/* output a line at a time */}
2341         error\_code = \hyperlink{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{FRAM\_\_Memory\_Read}( address, block\_size, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2342         error\_code = \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( address, block\_size, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, out );
2343         address += block\_size;
2344         block\_count--;
2345     \}
2346 
2347     \textcolor{keywordflow}{if} ( block\_remainder > 0 )
2348     \{ \textcolor{comment}{/* output any remaining portion */}
2349         error\_code = \hyperlink{idi_8c_a64361bd44229521030aaf0c373dbfaa3}{FRAM\_\_Memory\_Read}( address, block\_remainder, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block} );
2350         error\_code = \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( address, block\_remainder, 
      \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}, out );
2351         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2352     \}
2353 
2354     \textcolor{keywordflow}{return} SUCCESS;
2355 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9486d70eec81c27defc04c1e0ebbcf71}{\index{idi.\+c@{idi.\+c}!F\+R\+A\+M\+\_\+\+Set@{F\+R\+A\+M\+\_\+\+Set}}
\index{F\+R\+A\+M\+\_\+\+Set@{F\+R\+A\+M\+\_\+\+Set}!idi.\+c@{idi.\+c}}
\subsubsection[{F\+R\+A\+M\+\_\+\+Set}]{\setlength{\rightskip}{0pt plus 5cm}int F\+R\+A\+M\+\_\+\+Set (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{count, }
\item[{uint8\+\_\+t $\ast$}]{buffer}
\end{DoxyParamCaption}
)}}\label{idi_8c_a9486d70eec81c27defc04c1e0ebbcf71}


This function will be used when creating a memory pool so that as blocks are allocated one can determine if we have an issue outside of any allocated space (i.\+e. overflows and so on). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cfg} & pass in the configuration to be written to hardware. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a nonzero if successful, else return zero.
\end{DoxyReturn}
Writes a repeating pattern to the entire F\+R\+A\+M memory array. the pattern is obtained from the buffer. If the buffer is N\+U\+L\+L, then all zeros are written to the F\+R\+A\+M.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em count} & Length in bytes of the pattern found within the buffer \\
\hline
\mbox{\tt in}  & {\em buffer} & input buffer containing the repeat pattern to be written to F\+R\+A\+M \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2273 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D(), idi\+\_\+dataset\+::fram\+\_\+block, F\+R\+A\+M\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E, and F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init().


\begin{DoxyCode}
2274 \{
2275     \textcolor{keywordtype}{int}         error\_code;
2276     \textcolor{keywordtype}{int}         block\_count;
2277     \textcolor{keywordtype}{int}         block\_remainder;
2278     uint16\_t    address;
2279     uint32\_t    id;
2280 
2281     error\_code = \hyperlink{idi_8c_a7e74342366750cf212bced8dcccb433d}{FRAM\_\_Read\_ID}( &\textcolor{keywordtype}{id} );
2282     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2283 
2284     address = 0;
2285 
2286     \textcolor{keywordflow}{if} ( count > 1 )
2287     \{ \textcolor{comment}{/* */}
2288         block\_count     = ((int) \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES}) / ((int) count );
2289         block\_remainder = ((int) \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES}) - ( block\_count * ((int) 
      \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE}) );
2290     \}
2291     \textcolor{keywordflow}{else}
2292     \{ \textcolor{comment}{/* only one fill character, so we create a buffer of it to make things a bit faster */}
2293         \textcolor{keywordtype}{int}         index;
2294         \textcolor{keyword}{const} \textcolor{keywordtype}{int}   block\_size = \hyperlink{idi_8c_a7a7a8212bf3a00a8a97ac4fd9d8b0f29}{FRAM\_BLOCK\_SIZE};
2295         \textcolor{comment}{/* prefill */}
2296         \textcolor{keywordflow}{if} ( NULL == buffer )
2297         \{
2298             \textcolor{keywordflow}{for} ( index = 0; index < block\_size; index++ ) \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}[index]= 0;
2299         \}
2300         \textcolor{keywordflow}{else}
2301         \{
2302             \textcolor{keywordflow}{for} ( index = 0; index < block\_size; index++ ) \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block}[index]= buffer[0];
2303         \}
2304         block\_count     = ((int) \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES}) / block\_size;
2305         block\_remainder = ((int) \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES}) - ( block\_count * block\_size );
2306         buffer          = \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a4efa21fb4be298d529ae04ed2ca3466e}{fram\_block};
2307     \}
2308 
2309     \textcolor{keywordflow}{while} ( block\_count > 0 )
2310     \{
2311         error\_code = \hyperlink{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{FRAM\_\_Memory\_Write}( address, ((\textcolor{keywordtype}{int}) count), buffer );
2312         address += (uint16\_t) count;
2313         block\_count--;
2314     \}
2315 
2316     \textcolor{keywordflow}{if} ( block\_remainder > 0 )
2317     \{
2318         error\_code = \hyperlink{idi_8c_a8cf2cdb8e3ac9dd8cdbefa57b91b487d}{FRAM\_\_Memory\_Write}( address, block\_remainder, buffer );
2319         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2320     \}
2321     \textcolor{keywordflow}{return} SUCCESS;
2322 \}
\end{DoxyCode}
\hypertarget{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{\index{idi.\+c@{idi.\+c}!Hex\+\_\+\+Dump\+\_\+\+Line@{Hex\+\_\+\+Dump\+\_\+\+Line}}
\index{Hex\+\_\+\+Dump\+\_\+\+Line@{Hex\+\_\+\+Dump\+\_\+\+Line}!idi.\+c@{idi.\+c}}
\subsubsection[{Hex\+\_\+\+Dump\+\_\+\+Line}]{\setlength{\rightskip}{0pt plus 5cm}int Hex\+\_\+\+Dump\+\_\+\+Line (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{address, }
\item[{size\+\_\+t}]{count, }
\item[{uint8\+\_\+t $\ast$}]{buffer, }
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}


Definition at line 572 of file idi.\+c.



References H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E.



Referenced by F\+R\+A\+M\+\_\+\+Report(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
573 \{
574     \textcolor{keywordtype}{size\_t}  index;
575     \textcolor{keywordtype}{char}    str\_temp[8];
576     \textcolor{keywordtype}{char}    str\_ascii[20];
577     \textcolor{keywordtype}{char}    str\_hex\_list[64];
578 
579     \textcolor{comment}{//if ( count > 16 ) return -EC\_BUFFER\_TOO\_LARGE;}
580     \textcolor{keywordflow}{if} ( count > \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE} ) \textcolor{keywordflow}{return} -EC\_HEX\_DUMP\_COUNT;
581 
582     sprintf( str\_hex\_list, \textcolor{stringliteral}{"%04X: "}, ((\textcolor{keywordtype}{int}) address) );
583     strcpy( str\_ascii,    \textcolor{stringliteral}{""} );
584     \textcolor{keywordflow}{for} ( index = 0; index < count; index++ )
585     \{   \textcolor{comment}{/* append/build hex list */}
586         sprintf( str\_temp, \textcolor{stringliteral}{"%02X"}, buffer[index] );
587         strcat( str\_hex\_list, str\_temp );
588         \textcolor{comment}{/* output spacer in the middle and end */}
589         \textcolor{keywordflow}{if} ( 0x07 == ( index & 0x07 ) ) strcat( str\_hex\_list, \textcolor{stringliteral}{"  "} );
590         \textcolor{comment}{/* add a space after hex value and spacers */}
591         strcat( str\_hex\_list, \textcolor{stringliteral}{" "} );
592         \textcolor{comment}{/* append/build ASCII list */}
593         \textcolor{keywordflow}{if} ( ( buffer[index] < \textcolor{charliteral}{' '} ) || ( buffer[index] > \textcolor{charliteral}{'~'} ) )
594         \{ \textcolor{comment}{/* since these characters will not display replace them with a period */}
595             strcat( str\_ascii, \textcolor{stringliteral}{"."} );
596         \}
597         \textcolor{keywordflow}{else}
598         \{ \textcolor{comment}{/* print the character as is */}
599             sprintf( str\_temp, \textcolor{stringliteral}{"%c"}, buffer[index] );
600             strcat( str\_ascii, str\_temp );
601         \}
602     \}
603     \textcolor{comment}{/* compute any remaining filler required to properly align ASCII portion */}
604     index = strlen( str\_hex\_list );
605     \textcolor{comment}{/* total = ( 6 ) 'address characters' + ( 16 * 3 ) 'hex characters' + ( 2 * 3 ) 'spacers'  = 60 */}
606     count = 60 - index;
607     \textcolor{keywordflow}{while} ( count > 0 )
608     \{ \textcolor{comment}{/* add sufficient characters so that the ASCII portion is in the proper columns */}
609         strcat( str\_hex\_list, \textcolor{stringliteral}{" "} );
610         count--;
611     \}
612     \textcolor{comment}{/* output the results */}
613     fprintf( out, \textcolor{stringliteral}{"%s%s\(\backslash\)n"}, str\_hex\_list, str\_ascii );
614     \textcolor{keywordflow}{return} SUCCESS;
615 \}
\end{DoxyCode}
\hypertarget{idi_8c_ad59aa9edce531ded7d34e236216d0c3c}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ad59aa9edce531ded7d34e236216d0c3c}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3284 of file idi.\+c.



References I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get(), I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y, and strcmpi.


\begin{DoxyCode}
3285 \{ \textcolor{comment}{/* idi din all [<binary/hex/group>]  */}
3286     \textcolor{keywordtype}{int}     error\_code;            \textcolor{comment}{/* used primarily for debug purposes */}
3287     \textcolor{keywordtype}{int}     channel;
3288     \textcolor{comment}{//BOOL  value;}
3289     \textcolor{keywordtype}{int}     cp;
3290     \textcolor{keyword}{enum} \{ MODE\_NONE = 0, MODE\_BINARY = 1, MODE\_HEX = 2, MODE\_ALL = 3 \} mode\_out;
3291     \textcolor{keywordtype}{int}     group;
3292     \textcolor{keywordtype}{char}    message[64];
3293     uint8\_t din\_grp[6];
3294     uint8\_t mask;
3295     (void)  argc;
3296     (void)  argv;
3297 
3298     mode\_out = MODE\_ALL;
3299     \textcolor{keywordflow}{if} ( argc > 0 )
3300     \{
3301         \textcolor{keywordtype}{int} index;
3302         mode\_out = MODE\_NONE;
3303         \textcolor{keywordflow}{for} ( index = 0; index < argc; index++ )
3304         \{
3305             \textcolor{keywordflow}{if}      ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"binary"}, argv[index] ) ) mode\_out |= MODE\_BINARY;
3306             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"group"},  argv[index] ) ) mode\_out |= MODE\_HEX;
3307             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"hex"},    argv[index] ) ) mode\_out |= MODE\_HEX;
3308             \textcolor{keywordflow}{else}                                              mode\_out |= MODE\_ALL;
3309         \}
3310     \}
3311     \textcolor{comment}{/* build in binary format */}
3312     cp    = 0;
3313     group = 0;
3314     \textcolor{keywordflow}{for} ( group = 0; group < \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{IDI\_DIN\_GROUP\_QTY}; group++ )
3315     \{
3316         error\_code = \hyperlink{idi_8c_ad96039e3c434110fc30781b9e82f735f}{IDI\_DIN\_Group\_Get}( group, &(din\_grp[group]) );
3317         mask = 0x01;
3318         \textcolor{keywordflow}{for} ( channel = 0; channel < 8; channel++ )
3319         \{
3320             message[cp++] = !!(din\_grp[group] & mask) ? \textcolor{charliteral}{'1'} : \textcolor{charliteral}{'0'};
3321             mask = mask << 1;
3322         \}
3323         message[cp++] = \textcolor{charliteral}{' '};
3324     \}
3325     message[cp] = \textcolor{charliteral}{'\(\backslash\)0'};
3326     \textcolor{keywordflow}{if} ( MODE\_BINARY == ( mode\_out & MODE\_BINARY ) )
3327     \{
3328         printf( \textcolor{stringliteral}{"DIN: %s\(\backslash\)n"}, message );
3329     \}
3330     \textcolor{keywordflow}{if} ( MODE\_HEX == ( mode\_out & MODE\_HEX ) )
3331     \{
3332         printf( \textcolor{stringliteral}{"DIN:"} );
3333         \textcolor{keywordflow}{for} ( group = 0; group < \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{IDI\_DIN\_GROUP\_QTY}; group++ ) printf( \textcolor{stringliteral}{" %02X"}, din\_grp[
      group] );
3334         printf( \textcolor{stringliteral}{"\(\backslash\)n"} );
3335     \}
3336 
3337     \textcolor{keywordflow}{return} SUCCESS;
3338 \}
\end{DoxyCode}
\hypertarget{idi_8c_ac7fce67a17e18f47f5e72ca1c8820647}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ac7fce67a17e18f47f5e72ca1c8820647}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3345 of file idi.\+c.



References I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get().


\begin{DoxyCode}
3346 \{
3347     \textcolor{keywordtype}{int}     error\_code;            \textcolor{comment}{/* used primarily for debug purposes */}
3348     \textcolor{keywordtype}{int}     channel;
3349     \textcolor{keywordtype}{char}    message[8];
3350     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    value;
3351 
3352     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3353 
3354     channel = (int) strtol( argv[0], NULL, 0 );
3355     error\_code = \hyperlink{idi_8c_abbe4aec5ed66dae530dd2a8c8c6c1c92}{IDI\_DIN\_Channel\_Get}( channel, &value );
3356     message[0] = value ? \textcolor{charliteral}{'1'} : \textcolor{charliteral}{'0'};
3357     message[1] = \textcolor{charliteral}{'\(\backslash\)0'};
3358 
3359     printf( \textcolor{stringliteral}{"DIN%02d: %s\(\backslash\)n"}, channel, message );
3360     \textcolor{keywordflow}{return} SUCCESS;
3361 \}
\end{DoxyCode}
\hypertarget{idi_8c_ac49acbd90fd55e5b6bfa1b9306c25efd}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ac49acbd90fd55e5b6bfa1b9306c25efd}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3368 of file idi.\+c.



References I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get(), I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+Q\+T\+Y, and strcmpi.


\begin{DoxyCode}
3369 \{
3370     \textcolor{keywordtype}{int}     error\_code;
3371 \textcolor{comment}{//  int     index;}
3372     \textcolor{keywordtype}{int}     group;
3373     \textcolor{keywordtype}{int}     group\_count;
3374     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    do\_all;
3375     uint8\_t din\_grp[6];
3376 
3377     \textcolor{keywordflow}{if} ( argc < 1 ) do\_all = \textcolor{keyword}{true};
3378     \textcolor{keywordflow}{else}            do\_all = \textcolor{keyword}{false};
3379 
3380     \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"all"}, argv[0] ) ) do\_all = \textcolor{keyword}{true};
3381 
3382     \textcolor{keywordflow}{if} ( do\_all )
3383     \{ \textcolor{comment}{/* all */}
3384         \textcolor{keywordflow}{for} ( group = 0; group < \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{IDI\_DIN\_GROUP\_QTY}; group ++ )
3385         \{
3386             error\_code = \hyperlink{idi_8c_ad96039e3c434110fc30781b9e82f735f}{IDI\_DIN\_Group\_Get}( group, &(din\_grp[group]) );
3387         \}
3388         group\_count = \hyperlink{idi_8c_a49429b2baa0cec368650dc945b1f77c7}{IDI\_DIN\_GROUP\_QTY};
3389     \}
3390     \textcolor{keywordflow}{else}
3391     \{
3392         group = (int) strtol( argv[0], NULL, 0 );
3393         error\_code = \hyperlink{idi_8c_ad96039e3c434110fc30781b9e82f735f}{IDI\_DIN\_Group\_Get}( group, &(din\_grp[0]) );
3394         group\_count = 1;
3395     \}
3396 
3397     printf( \textcolor{stringliteral}{"DIN\_GROUP:"} );
3398     \textcolor{keywordflow}{for} ( group = 0; group < group\_count; group++ )
3399     \{
3400         printf( \textcolor{stringliteral}{" 0x%02X"}, ((\textcolor{keywordtype}{int}) din\_grp[group]) );
3401     \}
3402     printf( \textcolor{stringliteral}{"\(\backslash\)n"} );
3403     \textcolor{keywordflow}{return} SUCCESS;
3404 \}
\end{DoxyCode}
\hypertarget{idi_8c_a606ff80c6af794676d2609d022254961}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a606ff80c6af794676d2609d022254961}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3269 of file idi.\+c.



References I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get().


\begin{DoxyCode}
3270 \{ \textcolor{comment}{/*  idi spi id */}
3271     uint16\_t    id;
3272     (void)      argc;
3273     (void)      argv;
3274     \hyperlink{idi_8c_add0101e04ad7058fb979ef395febe68e}{IDI\_DIN\_ID\_Get}( &\textcolor{keywordtype}{id} );
3275     printf( \textcolor{stringliteral}{"DIN ID: 0x%04X\(\backslash\)n"}, \textcolor{keywordtype}{id} );
3276     \textcolor{keywordflow}{return} SUCCESS;
3277 \}
\end{DoxyCode}
\hypertarget{idi_8c_a1e853e6dd18470682ece747ece78f6cf}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Dump (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a1e853e6dd18470682ece747ece78f6cf}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3054 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+D\+E\+N\+S\+I\+T\+Y\+\_\+\+B\+Y\+T\+E\+S, F\+R\+A\+M\+\_\+\+Report(), and H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E.


\begin{DoxyCode}
3055 \{ \textcolor{comment}{/* idi fram dump <address> <length>  */}
3056     uint16\_t address;
3057     uint16\_t length;
3058 
3059     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
3060 
3061     address = (uint16\_t) strtol( argv[0], NULL, 0 );
3062 
3063     \textcolor{keywordflow}{if} ( argc < 2 ) length = \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE};
3064     \textcolor{keywordflow}{else}            length  = (uint16\_t) strtol( argv[1], NULL, 0 );
3065 
3066     \textcolor{keywordflow}{if} ( ( address + length ) > \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES} ) length = 
      \hyperlink{idi_8c_adc29c2ff13d900c2f185ee95427fb06cab1ed491f47f766d02b4c8d5e8de3339b}{FRAM\_DENSITY\_BYTES} - address;
3067 
3068     \textcolor{keywordflow}{return} \hyperlink{idi_8c_abea0d9db987eaf2b5f6a6696bbed5993}{FRAM\_Report}( address, length, stdout );
3069 \}
\end{DoxyCode}
\hypertarget{idi_8c_a148e18c77ccddbcf64525e077490f25a}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a148e18c77ccddbcf64525e077490f25a}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3119 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+Set().


\begin{DoxyCode}
3120 \{ \textcolor{comment}{/*  idi fram init <pattern list: 0x55 0x33 '3' '5' 'q' >  */}
3121     \textcolor{keywordtype}{int}         error\_code;
3122     \textcolor{keywordtype}{int}         index;
3123     uint8\_t     buf[16];
3124     \textcolor{keywordflow}{if} ( argc < 1 )
3125     \{ \textcolor{comment}{/* initialize all zeros */}
3126         error\_code = \hyperlink{idi_8c_a9486d70eec81c27defc04c1e0ebbcf71}{FRAM\_Set}( 0, NULL );
3127     \}
3128     \textcolor{keywordflow}{else}
3129     \{
3130         \textcolor{keywordflow}{if} ( argc > 16 ) argc = 16;
3131         \textcolor{keywordflow}{for} ( index = 0; index < argc; index++ )
3132         \{
3133             buf[index] = (uint8\_t) strtol( argv[index], NULL, 0 );
3134         \}
3135         error\_code = \hyperlink{idi_8c_a9486d70eec81c27defc04c1e0ebbcf71}{FRAM\_Set}( argc, buf );
3136     \}
3137     \textcolor{keywordflow}{return} error\_code;
3138 \}
\end{DoxyCode}
\hypertarget{idi_8c_ad08156aad04f93c2cd826c90b9b91566}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Load (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ad08156aad04f93c2cd826c90b9b91566}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3098 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+File\+\_\+\+To\+\_\+\+Memory().


\begin{DoxyCode}
3099 \{ \textcolor{comment}{/* idi fram load <address> <source\_file> */}
3100     \textcolor{keywordtype}{int}         error\_code;
3101     uint16\_t    address;
3102 \textcolor{comment}{//  uint16\_t    length;}
3103     FILE *      out;
3104 
3105     \textcolor{keywordflow}{if} ( argc < 2 ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
3106 
3107     address = (uint16\_t) strtol( argv[0], NULL, 0 );
3108     out = fopen( argv[2], \textcolor{stringliteral}{"r"} );
3109     error\_code = \hyperlink{idi_8c_acfdd9db9e4fd5406b6024cf5ac492b95}{FRAM\_File\_To\_Memory}( address, 0 \textcolor{comment}{/* no length specified */}, out );
3110     fclose( out );
3111     \textcolor{keywordflow}{return} error\_code;
3112 \}
\end{DoxyCode}
\hypertarget{idi_8c_aa0454405958e720573dfa6a8641f074e}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+I\+D (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aa0454405958e720573dfa6a8641f074e}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3200 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D().


\begin{DoxyCode}
3201 \{ \textcolor{comment}{/*  idi fram RDID  */}
3202     uint32\_t    id;
3203     (void)      argc;
3204     (void)      argv;
3205     \hyperlink{idi_8c_a7e74342366750cf212bced8dcccb433d}{FRAM\_\_Read\_ID}( &\textcolor{keywordtype}{id} );
3206     printf( \textcolor{stringliteral}{"FRAM ID: 0x%08X\(\backslash\)n"}, \textcolor{keywordtype}{id} );
3207     \textcolor{keywordflow}{return} SUCCESS;
3208 \}
\end{DoxyCode}
\hypertarget{idi_8c_a550c9fd5faeabbeb5e6b0ae9e6b2557a}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+R\+D\+S\+R (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a550c9fd5faeabbeb5e6b0ae9e6b2557a}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3169 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register().


\begin{DoxyCode}
3170 \{ \textcolor{comment}{/* idi fram RDSR  */}
3171     \textcolor{keywordtype}{int}         error\_code;
3172     uint8\_t     status;
3173     (void)      argc;
3174     (void)      argv;
3175     error\_code = \hyperlink{idi_8c_ae5af3fdd5b69319183d08077dbf622f4}{FRAM\_\_Read\_Status\_Register}( &status );
3176     printf( \textcolor{stringliteral}{"FRAM STATUS: 0x%02X\(\backslash\)n"}, ((\textcolor{keywordtype}{int}) status) );
3177     \textcolor{keywordflow}{return} error\_code;
3178 \}
\end{DoxyCode}
\hypertarget{idi_8c_a11970f9c47b6ab73a9b61c5fddc97ffc}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+Save (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a11970f9c47b6ab73a9b61c5fddc97ffc}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3076 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+Memory\+\_\+\+To\+\_\+\+File().


\begin{DoxyCode}
3077 \{ \textcolor{comment}{/* idi fram save <address> <length> <destination\_file> */}
3078     \textcolor{keywordtype}{int}         error\_code;
3079     uint16\_t    address;
3080     \textcolor{keywordtype}{size\_t}      length;
3081     FILE *      out;
3082 
3083     \textcolor{keywordflow}{if} ( argc < 3 ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
3084 
3085     address = (uint16\_t) strtol( argv[0], NULL, 0 );
3086     length  = (uint16\_t) strtol( argv[1], NULL, 0 );
3087     out = fopen( argv[2], \textcolor{stringliteral}{"w"} );
3088     error\_code = \hyperlink{idi_8c_ae0b87251c6439330b9287fc12cc306dd}{FRAM\_Memory\_To\_File}( address, length, out );
3089     fclose( out );
3090     \textcolor{keywordflow}{return} error\_code;
3091 \}
\end{DoxyCode}
\hypertarget{idi_8c_aa2f4bfa13ac3db30467e75cd0f287e26}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+D\+I (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aa2f4bfa13ac3db30467e75cd0f287e26}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3157 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable().


\begin{DoxyCode}
3158 \{ \textcolor{comment}{/*  idi fram WRDI  */}
3159     (void)      argc;
3160     (void)      argv;
3161     \textcolor{keywordflow}{return} \hyperlink{idi_8c_a82f93449bb944b1e52db87e360bb620c}{FRAM\_\_Write\_Disable}();
3162 \}
\end{DoxyCode}
\hypertarget{idi_8c_aa1120a9ab4e78d6c65dc4fd2a5445d2f}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+E\+N (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aa1120a9ab4e78d6c65dc4fd2a5445d2f}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3145 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set().


\begin{DoxyCode}
3146 \{ \textcolor{comment}{/* idi fram WREN */}
3147     (void)      argc;
3148     (void)      argv;
3149     \textcolor{keywordflow}{return} \hyperlink{idi_8c_a478c7200a60ec93c9195e44fc2b294f7}{FRAM\_\_Write\_Enable\_Latch\_Set}();
3150 \}
\end{DoxyCode}
\hypertarget{idi_8c_ad7a5bbb7485eb1a88ee66ff36d7c3d61}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+F\+R\+A\+M\+\_\+\+W\+R\+S\+R (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ad7a5bbb7485eb1a88ee66ff36d7c3d61}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3185 of file idi.\+c.



References F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register().


\begin{DoxyCode}
3186 \{ \textcolor{comment}{/*  idi fram WRSR <value>  */}
3187 \textcolor{comment}{//  int     error\_code;}
3188     uint8\_t status;
3189 
3190     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
3191     status = (uint8\_t) strtol( argv[0], NULL, 0 );
3192     \textcolor{keywordflow}{return} \hyperlink{idi_8c_a9a0f7ac60fdc2ff32c1cf9cfb7bfdad3}{FRAM\_\_Write\_Status\_Register}( status );
3193 \}
\end{DoxyCode}
\hypertarget{idi_8c_aed68a86ac0a1465fe0d35a3ab48079dd}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+Base (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aed68a86ac0a1465fe0d35a3ab48079dd}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3583 of file idi.\+c.



References idi\+\_\+dataset\+::base\+\_\+address.


\begin{DoxyCode}
3584 \{ \textcolor{comment}{/*  idi spi ecd [<time sec>] */}
3585     \textcolor{keywordtype}{int}      error\_code;               \textcolor{comment}{/* used primarily for debug purposes */}
3586 
3587     \textcolor{keywordflow}{if} ( argc < 1 )
3588     \{ \textcolor{comment}{/* read */}
3589         printf( \textcolor{stringliteral}{"BASE\_ADDRESS: 0x%04X\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address} );
3590     \}
3591     \textcolor{keywordflow}{else}
3592     \{ \textcolor{comment}{/* write */}
3593         \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address} = (uint16\_t) strtol( argv[0], NULL, 0 );
3594         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
3595     \}
3596     \textcolor{keywordflow}{return} SUCCESS;
3597 \}
\end{DoxyCode}
\hypertarget{idi_8c_a4aff859f461c01bde31699b10f2d602d}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a4aff859f461c01bde31699b10f2d602d}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3543 of file idi.\+c.



References idi\+\_\+dataset\+::io\+\_\+report, idi\+\_\+dataset\+::io\+\_\+simulate, strcmpi, and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
3544 \{ \textcolor{comment}{/*  idi spi ecd [<time sec>] */}
3545     \textcolor{keywordtype}{int}      error\_code;               \textcolor{comment}{/* used primarily for debug purposes */}
3546 
3547     \textcolor{keywordflow}{if} ( argc < 1 )
3548     \{ \textcolor{comment}{/* read */}
3549         printf( \textcolor{stringliteral}{"IO Simulate = %s\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
3550         printf( \textcolor{stringliteral}{"IO Report   = %s\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report}   ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
3551     \}
3552     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( argc > 1 )
3553     \{ \textcolor{comment}{/* write */}
3554         \textcolor{keywordflow}{if}       ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"simulate"}, argv[0] ) )
3555         \{
3556             \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} = \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[1] );
3557         \}
3558         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"report"}, argv[0] ) )
3559         \{
3560             \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report} = \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[1] );
3561         \}
3562         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
3563     \}
3564     \textcolor{keywordflow}{else}
3565     \{ \textcolor{comment}{/* read individual */}
3566         \textcolor{keywordflow}{if}       ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"simulate"}, argv[0] ) )
3567         \{
3568             printf( \textcolor{stringliteral}{"IO Simulate = %s\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} 
      );
3569         \}
3570         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}  ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"report"}, argv[0] ) )
3571         \{
3572             printf( \textcolor{stringliteral}{"IO Report   = %s\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report}   ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
3573         \}
3574     \}
3575     \textcolor{keywordflow}{return} SUCCESS;
3576 \}
\end{DoxyCode}
\hypertarget{idi_8c_a4fa9a82ae726923baa736477d50d2589}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a4fa9a82ae726923baa736477d50d2589}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2975 of file idi.\+c.



References S\+P\+I\+\_\+\+Commit(), and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
2976 \{ \textcolor{comment}{/*  idi spi commit [<true/1/false/0>] */}
2977     \textcolor{keywordtype}{int}      error\_code;
2978     uint8\_t  chip\_select;
2979 
2980     \textcolor{keywordflow}{if}      ( argc < 1                  ) chip\_select = 0x01;
2981     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[0] ) ) chip\_select = 0x01;
2982     \textcolor{keywordflow}{else}                                  chip\_select = 0x00;
2983 
2984     error\_code = \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( chip\_select );
2985     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2986 
2987     printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2988     \textcolor{keywordflow}{return} SUCCESS;
2989 \}
\end{DoxyCode}
\hypertarget{idi_8c_ae8a4c4d867aba3d602dc4e74226b7587}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ae8a4c4d867aba3d602dc4e74226b7587}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2717 of file idi.\+c.



References spi\+\_\+cfg\+::chip\+\_\+select\+\_\+behavior, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8, S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), and strcmpi.


\begin{DoxyCode}
2718 \{ \textcolor{comment}{/*  idi spi mode [0/1/2/3/software/buffer/uint8/uint16] */}
2719     \textcolor{keywordtype}{int}      error\_code;
2720 \textcolor{comment}{//  int      csb;}
2721     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2722 
2723     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2724     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2725     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2726 
2727     \textcolor{keywordflow}{if} ( argc < 1 )
2728     \{ \textcolor{comment}{/* read */}
2729         printf( \textcolor{stringliteral}{"SPI CSB: "});
2730         \textcolor{keywordflow}{switch} ( cfg.chip\_select\_behavior )
2731         \{
2732             \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE}:  printf( \textcolor{stringliteral}{"software"} );   \textcolor{keywordflow}{break};
2733             \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER}:  printf( \textcolor{stringliteral}{"buffer"}   );   \textcolor{keywordflow}{break};
2734             \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{IDI\_CSB\_UINT8}:        printf( \textcolor{stringliteral}{"uint8"}    );   \textcolor{keywordflow}{break};
2735             \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16}:  printf( \textcolor{stringliteral}{"uint16"}   );   \textcolor{keywordflow}{break};
2736             \textcolor{keywordflow}{default}:                printf( \textcolor{stringliteral}{"undefined"});   \textcolor{keywordflow}{break};
2737         \}
2738         printf( \textcolor{stringliteral}{"\(\backslash\)n"} );
2739     \}
2740     \textcolor{keywordflow}{else}
2741     \{ \textcolor{comment}{/* write */}
2742         \textcolor{keywordflow}{if}      ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"software"}, argv[0] ) ) cfg.chip\_select\_behavior = 0;
2743         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"buffer"},   argv[0] ) ) cfg.chip\_select\_behavior = 1;
2744         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"uint8"},    argv[0] ) ) cfg.chip\_select\_behavior = 2;
2745         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"uint16"},   argv[0] ) ) cfg.chip\_select\_behavior = 3;
2746         \textcolor{keywordflow}{else}
2747         \{
2748             cfg.chip\_select\_behavior = (\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM}) strtol( argv[0], NULL, 0 );
2749             \textcolor{keywordflow}{switch} ( cfg.chip\_select\_behavior )
2750             \{
2751                 \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE}:
2752                 \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER}:
2753                 \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{IDI\_CSB\_UINT8}:
2754                 \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16}:
2755                     \textcolor{keywordflow}{break};
2756                 \textcolor{keywordflow}{default}:
2757                     error\_code = -EC\_SPI\_CSB\_OUT\_OF\_RANGE;
2758                     \textcolor{keywordflow}{break};
2759             \}
2760         \}
2761          \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2762         \textcolor{comment}{/* commit configuration to hardware */}
2763         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2764         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2765         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2766     \}
2767     \textcolor{keywordflow}{return} SUCCESS;
2768 \}
\end{DoxyCode}
\hypertarget{idi_8c_a99f6186befa8e74608716454a91c44bd}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a99f6186befa8e74608716454a91c44bd}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2499 of file idi.\+c.



References spi\+\_\+cfg\+::clock\+\_\+hz, S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
2500 \{ \textcolor{comment}{/*  idi spi clk [<freq\_hz>] */}
2501     \textcolor{keywordtype}{int}      error\_code;
2502     \textcolor{keywordtype}{double}   clock\_request\_hz;
2503     \textcolor{keywordtype}{double}   clock\_actual\_hz;
2504     \textcolor{keywordtype}{double}   error;
2505     uint16\_t hci;
2506     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2507 
2508     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2509     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2510     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2511 
2512     \textcolor{keywordflow}{if} ( argc < 1 )
2513     \{ \textcolor{comment}{/* read */}
2514         printf( \textcolor{stringliteral}{"SPI CLK: %f hz\(\backslash\)n"}, cfg.clock\_hz );
2515     \}
2516     \textcolor{keywordflow}{else}
2517     \{ \textcolor{comment}{/* write */}
2518         clock\_request\_hz = atof( argv[0] );
2519         error\_code = \hyperlink{idi_8c_ad86d10585f6c367cfc4490a5366f1d25}{SPI\_Calculate\_Clock}( clock\_request\_hz, &clock\_actual\_hz, &error, &
      hci );
2520         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2521         \textcolor{comment}{//cfg.half\_clock\_interval = hci;}
2522         \textcolor{comment}{/* commit configuration to hardware */}
2523         cfg.clock\_hz = clock\_actual\_hz;
2524         error\_code   = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2525         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2526         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2527     \}
2528     \textcolor{keywordflow}{return} SUCCESS;
2529 \}
\end{DoxyCode}
\hypertarget{idi_8c_a8e322fdc87a9fc7da0cebe8d074693e2}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a8e322fdc87a9fc7da0cebe8d074693e2}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2536 of file idi.\+c.



References spi\+\_\+cfg\+::end\+\_\+delay\+\_\+ns, spi\+\_\+cfg\+::half\+\_\+clock\+\_\+interval, S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay(), S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
2537 \{ \textcolor{comment}{/*  idi spi ecd [<time sec>] */}
2538     \textcolor{keywordtype}{int}      error\_code;
2539     \textcolor{keywordtype}{double}   request\_sec;
2540     \textcolor{keywordtype}{double}   actual\_sec;
2541     \textcolor{keywordtype}{double}   error;
2542     uint8\_t  ecd;
2543     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2544 
2545     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2546     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2547     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2548 
2549     \textcolor{keywordflow}{if} ( argc < 1 )
2550     \{ \textcolor{comment}{/* read */}
2551         printf( \textcolor{stringliteral}{"SPI ECD: %g sec\(\backslash\)n"}, ( cfg.end\_delay\_ns * 1.0e-9 ) );
2552     \}
2553     \textcolor{keywordflow}{else}
2554     \{ \textcolor{comment}{/* write */}
2555         request\_sec = atof( argv[0] );
2556         error\_code = \hyperlink{idi_8c_a50b862cbcc29146e70e7543208ca7e81}{SPI\_Calculate\_End\_Cycle\_Delay}( 
      \hyperlink{idi_8c_a8130129973acaff19c9b1cfd5955d12d}{SPI\_Calculate\_Half\_Clock\_Interval\_Sec}( cfg.half\_clock\_interval ),
2557                                                     request\_sec,
2558                                                     &actual\_sec,
2559                                                     &error,
2560                                                     &ecd
2561                                                   );
2562         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2563         cfg.end\_delay\_ns = actual\_sec * 1.0e9;
2564         \textcolor{comment}{/* commit configuration to hardware */}
2565         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2566         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2567         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2568     \}
2569     \textcolor{keywordflow}{return} SUCCESS;
2570 \}
\end{DoxyCode}
\hypertarget{idi_8c_af8816b167342609f62dea85684c8668b}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_af8816b167342609f62dea85684c8668b}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2477 of file idi.\+c.



References S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), and S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text().


\begin{DoxyCode}
2478 \{ \textcolor{comment}{/*  idi spi cfg */}
2479     \textcolor{keywordtype}{int}     error\_code;
2480     \textcolor{keyword}{struct  }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2481     (void)  argc;
2482     (void)  argv;
2483 
2484     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2485     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2486 
2487     error\_code = \hyperlink{idi_8c_a9f519b04b7593c82d4037ead8f0e6623}{SPI\_Report\_Configuration\_Text}( &cfg, stdout );
2488     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2489 
2490     printf( \textcolor{stringliteral}{"\(\backslash\)n"} );
2491     \textcolor{keywordflow}{return} SUCCESS;
2492 \}
\end{DoxyCode}
\hypertarget{idi_8c_a356455eaafd272310dac8a96d94b179d}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a356455eaafd272310dac8a96d94b179d}


C\+P\+O\+L C\+P\+H\+A M\+O\+D\+E 0 0 0 1 0 1 2 1 0 3 1 1. 

\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2586 of file idi.\+c.



References spi\+\_\+cfg\+::sclk\+\_\+phase, spi\+\_\+cfg\+::sclk\+\_\+polarity, S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
2587 \{ \textcolor{comment}{/*  idi spi mode [0/1/2/3] */}
2588     \textcolor{keywordtype}{int}      error\_code;
2589     \textcolor{keywordtype}{int}      mode;
2590     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2591 
2592     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2593     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2594     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2595 
2596     \textcolor{keywordflow}{if} ( argc < 1 )
2597     \{ \textcolor{comment}{/* read */}
2598         \textcolor{keywordflow}{if}      ( (\textcolor{keyword}{false} == cfg.sclk\_polarity ) && (\textcolor{keyword}{false} == cfg.sclk\_phase) ) mode = 0;
2599         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (\textcolor{keyword}{false} == cfg.sclk\_polarity ) && (\textcolor{keyword}{true}  == cfg.sclk\_phase) ) mode = 1;
2600         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (\textcolor{keyword}{true}  == cfg.sclk\_polarity ) && (\textcolor{keyword}{false} == cfg.sclk\_phase) ) mode = 2;
2601         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (\textcolor{keyword}{true}  == cfg.sclk\_polarity ) && (\textcolor{keyword}{true}  == cfg.sclk\_phase) ) mode = 3;
2602         printf( \textcolor{stringliteral}{"SPI MODE: %d\(\backslash\)n"}, mode );
2603     \}
2604     \textcolor{keywordflow}{else}
2605     \{ \textcolor{comment}{/* write */}
2606         mode = (int) strtol( argv[0], NULL, 0 );
2607         \textcolor{keywordflow}{switch} ( mode )
2608         \{
2609             \textcolor{keywordflow}{case} 0: cfg.sclk\_polarity = \textcolor{keyword}{false};  cfg.sclk\_phase = \textcolor{keyword}{false};     \textcolor{keywordflow}{break};
2610             \textcolor{keywordflow}{case} 1: cfg.sclk\_polarity = \textcolor{keyword}{false};  cfg.sclk\_phase = \textcolor{keyword}{true};      \textcolor{keywordflow}{break};
2611             \textcolor{keywordflow}{case} 2: cfg.sclk\_polarity = \textcolor{keyword}{true};   cfg.sclk\_phase = \textcolor{keyword}{false};     \textcolor{keywordflow}{break};
2612             \textcolor{keywordflow}{case} 3: cfg.sclk\_polarity = \textcolor{keyword}{true};   cfg.sclk\_phase = \textcolor{keyword}{true};      \textcolor{keywordflow}{break};
2613         \}
2614         \textcolor{comment}{/* commit configuration to hardware */}
2615         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2616         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2617         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2618     \}
2619     \textcolor{keywordflow}{return} SUCCESS;
2620 \}
\end{DoxyCode}
\hypertarget{idi_8c_a0d601686f8bd8cf38104226abd0ae0e5}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a0d601686f8bd8cf38104226abd0ae0e5}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2627 of file idi.\+c.



References spi\+\_\+cfg\+::sdi\+\_\+polarity, S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
2628 \{ \textcolor{comment}{/*  idi spi sdi [<true/1/false/0>] */}
2629     \textcolor{keywordtype}{int}      error\_code;
2630 \textcolor{comment}{//  BOOL     value;}
2631     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2632 
2633     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2634     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2635     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2636 
2637     \textcolor{keywordflow}{if} ( argc < 1 )
2638     \{ \textcolor{comment}{/* read */}
2639         printf( \textcolor{stringliteral}{"SPI SDI POLARITY: %s\(\backslash\)n"}, cfg.sdi\_polarity ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
2640     \}
2641     \textcolor{keywordflow}{else}
2642     \{ \textcolor{comment}{/* write */}
2643         cfg.sdi\_polarity = \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[0] );
2644         \textcolor{comment}{/* commit configuration to hardware */}
2645         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2646         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2647         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2648     \}
2649     \textcolor{keywordflow}{return} SUCCESS;
2650 \}
\end{DoxyCode}
\hypertarget{idi_8c_ac3529e3914f0c1f8e335a3843bed9744}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ac3529e3914f0c1f8e335a3843bed9744}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2687 of file idi.\+c.



References spi\+\_\+cfg\+::sdio\+\_\+wrap, S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
2688 \{ \textcolor{comment}{/*  idi spi wrap [<true/1/false/0>] */}
2689     \textcolor{keywordtype}{int}      error\_code;
2690 \textcolor{comment}{//  BOOL     value;}
2691     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2692 
2693     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2694     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2695     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2696 
2697     \textcolor{keywordflow}{if} ( argc < 1 )
2698     \{ \textcolor{comment}{/* read */}
2699         printf( \textcolor{stringliteral}{"SPI wrap: %s\(\backslash\)n"}, cfg.sdio\_wrap ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
2700     \}
2701     \textcolor{keywordflow}{else}
2702     \{ \textcolor{comment}{/* write */}
2703         cfg.sdio\_wrap = \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[0] );
2704         \textcolor{comment}{/* commit configuration to hardware */}
2705         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2706         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2707         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2708     \}
2709     \textcolor{keywordflow}{return} SUCCESS;
2710 \}
\end{DoxyCode}
\hypertarget{idi_8c_a50de516119a8ca534f4aada4f825d443}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a50de516119a8ca534f4aada4f825d443}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2657 of file idi.\+c.



References spi\+\_\+cfg\+::sdo\+\_\+polarity, S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
2658 \{ \textcolor{comment}{/*  idi spi sdo [<true/1/false/0>] */}
2659     \textcolor{keywordtype}{int}      error\_code;
2660 \textcolor{comment}{//  BOOL     value;}
2661     \textcolor{keyword}{struct   }\hyperlink{structspi__cfg}{spi\_cfg} cfg;
2662 
2663     \textcolor{comment}{/* pull current configuration from the hardware -- allows for warm restore so to speak */}
2664     error\_code = \hyperlink{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{SPI\_Configuration\_Get}( &cfg );
2665     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2666 
2667     \textcolor{keywordflow}{if} ( argc < 1 )
2668     \{ \textcolor{comment}{/* read */}
2669         printf( \textcolor{stringliteral}{"SPI SDO POLARITY: %s\(\backslash\)n"}, cfg.sdo\_polarity ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
2670     \}
2671     \textcolor{keywordflow}{else}
2672     \{ \textcolor{comment}{/* write */}
2673         cfg.sdo\_polarity = \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[0] );
2674         \textcolor{comment}{/* commit configuration to hardware */}
2675         error\_code = \hyperlink{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{SPI\_Configuration\_Set}( &cfg );
2676         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2677         printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2678     \}
2679     \textcolor{keywordflow}{return} SUCCESS;
2680 \}
\end{DoxyCode}
\hypertarget{idi_8c_aeca81fe3de2af7764b438c3914b01b18}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aeca81fe3de2af7764b438c3914b01b18}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2813 of file idi.\+c.



References H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E, Hex\+\_\+\+Dump\+\_\+\+Line(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read(), and S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E.


\begin{DoxyCode}
2814 \{ \textcolor{comment}{/*  idi spi data [byte] [character] ... */}
2815     \textcolor{keywordtype}{int}                 error\_code;
2816     \textcolor{keywordtype}{size\_t}              index;
2817     \textcolor{keywordtype}{size\_t}              count;
2818     \textcolor{keywordtype}{size\_t}              transfer\_count; \textcolor{comment}{/* */}
2819     \textcolor{keywordtype}{size\_t}              lines;
2820     uint8\_t *           bp;             \textcolor{comment}{/* buffer pointer */}
2821     uint8\_t             tx\_buffer[\hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE}];
2822     uint8\_t             rx\_buffer[\hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE}];
2823 
2824 
2825     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
2826 
2827     index = 1;
2828     transfer\_count = argc - 1;
2829     \textcolor{keywordflow}{if} ( transfer\_count > \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} )
2830     \{
2831         transfer\_count = \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
2832         printf( \textcolor{stringliteral}{"Warning: ignored %d values\(\backslash\)n"}, argc - 1 - \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} );
2833     \}
2834     count = transfer\_count;
2835     \textcolor{keywordflow}{while} ( count != 0 )
2836     \{
2837         tx\_buffer[index-1] = (uint8\_t) strtol( argv[index], NULL, 0 );
2838         count--; index++;
2839     \}
2840     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}( \textcolor{keyword}{sizeof}( uint8\_t ), transfer\_count, tx\_buffer, 
      transfer\_count, rx\_buffer );
2841     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2842 
2843     lines = transfer\_count / \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE};
2844     \textcolor{keywordflow}{if} ( 0 == ( transfer\_count - lines * \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE} ) ) lines = lines -
       1;
2845     \textcolor{keywordflow}{for} ( index = 0; index <= lines; index++ )
2846     \{
2847         bp = &(rx\_buffer[index * \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE}]);
2848         \textcolor{keywordflow}{if} ( transfer\_count < HEX\_DUMP\_BYTES\_PER\_LINE )
2849         \{
2850             \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( 0, transfer\_count, bp, stdout );
2851         \}
2852         \textcolor{keywordflow}{else}
2853         \{
2854             \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( 0, HEX\_DUMP\_BYTES\_PER\_LINE, bp, stdout );
2855         \}
2856     \}
2857     \textcolor{keywordflow}{return} SUCCESS;
2858 \}
\end{DoxyCode}
\hypertarget{idi_8c_a5c3569de8003fff3301140897d842d79}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a5c3569de8003fff3301140897d842d79}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2865 of file idi.\+c.



References H\+E\+X\+\_\+\+D\+U\+M\+P\+\_\+\+B\+Y\+T\+E\+S\+\_\+\+P\+E\+R\+\_\+\+L\+I\+N\+E, Hex\+\_\+\+Dump\+\_\+\+Line(), S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write(), S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty(), S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty(), strcmpi, and String\+\_\+\+To\+\_\+\+Bool().


\begin{DoxyCode}
2866 \{ \textcolor{comment}{/*  idi spi data [byte] [character] ... */}
2867     \textcolor{keywordtype}{int}                 error\_code;
2868     \textcolor{keywordtype}{int}                 index;
2869     \textcolor{keywordtype}{int}                 count;
2870     \textcolor{keywordtype}{int}                 read\_count; \textcolor{comment}{/* */}
2871     uint8\_t             data\_temp;
2872     uint8\_t             tx\_buffer[\hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE}];
2873     uint8\_t             rx\_buffer[\hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE}];
2874 
2875 
2876     read\_count = 0;
2877     \textcolor{keywordflow}{if} ( argc < 1 )
2878     \{
2879         read\_count = \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
2880     \}
2881     \textcolor{keywordflow}{else}
2882     \{
2883         \textcolor{keywordflow}{if}      ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"rx"}, argv[0] ) )
2884         \{
2885             \textcolor{keywordflow}{if} ( argc > 1)
2886             \{
2887                 \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"all"}, argv[1] ) ) read\_count = 
      \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
2888                 \textcolor{keywordflow}{else} read\_count = (int) strtol( argv[1], NULL, 0 );
2889             \}
2890         \}
2891         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"tx"}, argv[0] ) )
2892         \{
2893             \textcolor{keywordtype}{char} * endptr;
2894 
2895             index = 1;
2896             count = argc - 1;
2897             \textcolor{keywordflow}{if} ( count > \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} )
2898             \{
2899                 count = \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
2900                 printf( \textcolor{stringliteral}{"Warning: ignored %d values\(\backslash\)n"}, argc - 1 - \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} );
2901             \}
2902             \textcolor{keywordflow}{while} ( count > 0 )
2903             \{
2904                 data\_temp = (uint8\_t) strtol( argv[index], &endptr, 0 );
2905                 \textcolor{keywordflow}{if} ( endptr == argv[index] ) data\_temp = (uint8\_t) argv[index][0];
2906                 tx\_buffer[index-1] = data\_temp;
2907                 count--; index++;
2908             \}
2909             error\_code = \hyperlink{idi_8c_a674bbccb1f788936c394607cd75c59f7}{SPI\_FIFO\_Write}( (\textcolor{keywordtype}{void} *) tx\_buffer, \textcolor{keyword}{sizeof}( uint8\_t ), count, NULL )
      ;
2910             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2911 
2912             printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2913             \textcolor{keywordflow}{return} error\_code;
2914         \}
2915         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"commit"}, argv[0] ) )
2916         \{
2917             \textcolor{keywordflow}{if} ( argc > 2 )
2918             \{
2919                 \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{String\_To\_Bool}( argv[1] ) ) \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0xFF );
2920                 \textcolor{keywordflow}{else}                             \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0x00 );
2921 
2922                 printf( \textcolor{stringliteral}{"OK\(\backslash\)n"} );
2923                 error\_code = SUCCESS;
2924             \}
2925             \textcolor{keywordflow}{else}
2926             \{
2927 \textcolor{comment}{//TODO: add ability to read-back the chip select under certain conditions.}
2928                 error\_code = -EC\_PARAMETER\_MISSING;
2929             \}
2930             \textcolor{keywordflow}{return} error\_code;
2931         \}
2932     \}
2933 
2934     \textcolor{comment}{/* wait for transmit data to empty out */}
2935     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}{SPI\_Status\_Write\_FIFO\_Is\_Not\_Empty}() ) \{ \textcolor{comment}{/* do nothing */} \}
2936 
2937     \textcolor{keywordflow}{if} ( read\_count > 0 )
2938     \{
2939         \textcolor{keywordtype}{int}       lines;
2940         uint8\_t * bp; \textcolor{comment}{/* buffer pointer */}
2941 
2942         \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a9f8f3754c67705b230c1f04d390a5900}{SPI\_Status\_Read\_FIFO\_Is\_Not\_Empty}() )
2943         \{
2944             error\_code = \hyperlink{idi_8c_acc51bf8337741aa0f73036c6707efc84}{SPI\_FIFO\_Read}( (\textcolor{keywordtype}{void} *) rx\_buffer, \textcolor{keyword}{sizeof}( uint8\_t ), read\_count, 
      NULL );
2945             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2946 
2947             lines = read\_count / \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE};
2948             \textcolor{keywordflow}{if} ( 0 == ( read\_count - lines * \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE} ) ) lines = 
      lines - 1;
2949             \textcolor{keywordflow}{for} ( index = 0; index <= lines; index++ )
2950             \{
2951                 bp = &(rx\_buffer[index * \hyperlink{idi_8c_abc6126af1d45847bc59afa0aa3216b04a61beeb8caa7eef5ea8ccec0c05cd142e}{HEX\_DUMP\_BYTES\_PER\_LINE}]);
2952                 \textcolor{keywordflow}{if} ( read\_count < HEX\_DUMP\_BYTES\_PER\_LINE )
2953                 \{
2954                     \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( 0, read\_count, bp, stdout );
2955                 \}
2956                 \textcolor{keywordflow}{else}
2957                 \{
2958                     \hyperlink{idi_8c_afe81fee380d83ce9efc1bca190b7d2ba}{Hex\_Dump\_Line}( 0, HEX\_DUMP\_BYTES\_PER\_LINE, bp, stdout );
2959                 \}
2960             \}
2961         \}
2962         \textcolor{keywordflow}{else}
2963         \{
2964             printf( \textcolor{stringliteral}{"FIFO Empty\(\backslash\)n"} );
2965         \}
2966     \}
2967     \textcolor{keywordflow}{return} SUCCESS;
2968 \}
\end{DoxyCode}
\hypertarget{idi_8c_a668e4784c156d76f27de8e047391007e}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a668e4784c156d76f27de8e047391007e}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2461 of file idi.\+c.



References S\+P\+I\+\_\+\+I\+D\+\_\+\+Get().


\begin{DoxyCode}
2462 \{ \textcolor{comment}{/*  idi spi id */}
2463     uint16\_t    id;
2464     (void)      argc;
2465     (void)      argv;
2466 
2467     \hyperlink{idi_8c_a880aef745d1398d7deb49b45e988ad84}{SPI\_ID\_Get}( &\textcolor{keywordtype}{id} );
2468     printf( \textcolor{stringliteral}{"SPI ID: 0x%04X\(\backslash\)n"}, \textcolor{keywordtype}{id} );
2469     \textcolor{keywordflow}{return} SUCCESS;
2470 \}
\end{DoxyCode}
\hypertarget{idi_8c_a87f0e514a60de8610820fd7a83703e1c}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status}}
\index{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status@{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a87f0e514a60de8610820fd7a83703e1c}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 2775 of file idi.\+c.



References S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text(), S\+P\+I\+\_\+\+Status\+\_\+\+Read(), S\+P\+I\+\_\+\+Status\+\_\+\+Write(), and strcmpi.


\begin{DoxyCode}
2776 \{ \textcolor{comment}{/*  idi spi status [rx] [tx] ...  */}
2777     \textcolor{keywordtype}{int}                 error\_code;
2778     \textcolor{keywordtype}{int}                 index;
2779     \textcolor{keyword}{struct }\hyperlink{structspi__status}{spi\_status}     status;
2780 
2781     \textcolor{keywordflow}{if} ( argc < 1 )
2782     \{
2783         error\_code = \hyperlink{idi_8c_a0d405a6006a6ef14c53c330e618bc1df}{SPI\_Status\_Read}( &status );
2784         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2785         \hyperlink{idi_8c_af783ed809568388ad1d1e0b990458811}{SPI\_Report\_Status\_Text}( &status, stdout );
2786     \}
2787     \textcolor{keywordflow}{else}
2788     \{
2789         \textcolor{keywordflow}{for} ( index = 0; index < argc; index++ )
2790         \{
2791             \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"rx"}, argv[index] ) )
2792             \{
2793                 error\_code = \hyperlink{idi_8c_a0d405a6006a6ef14c53c330e618bc1df}{SPI\_Status\_Read}( &status );
2794                 \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2795                 \hyperlink{idi_8c_af783ed809568388ad1d1e0b990458811}{SPI\_Report\_Status\_Text}( &status, stdout );
2796             \}
2797             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"tx"}, argv[index] ) )
2798             \{
2799                 error\_code = \hyperlink{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}{SPI\_Status\_Write}( &status );
2800                 \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2801                 \hyperlink{idi_8c_af783ed809568388ad1d1e0b990458811}{SPI\_Report\_Status\_Text}( &status, stdout );
2802             \}
2803         \}
2804     \}
2805     \textcolor{keywordflow}{return} SUCCESS;
2806 \}
\end{DoxyCode}
\hypertarget{idi_8c_acbd07590cc6312792765dd7ec17a614f}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_acbd07590cc6312792765dd7ec17a614f}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3425 of file idi.\+c.



References command\+\_\+line\+::cmd\+\_\+fnc, command\+\_\+line\+::name, and strcmpi.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
3426 \{ \textcolor{comment}{/*  idi din <channel/all>  */}
3427     \textcolor{keywordtype}{int}         error\_code;
3428     \textcolor{keywordtype}{int}         index;
3429     \textcolor{keywordtype}{int}         argc\_new;
3430     \textcolor{keywordtype}{char} **     argv\_new;
3431     \textcolor{keywordtype}{char} *      endptr;
3432     \textcolor{comment}{//int           channel;}
3433 
3434     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3435 
3436     error\_code = -EC\_SYNTAX;
3437 
3438     \textcolor{comment}{//channel = (int) strtol( argv[0], &endptr, 0 );}
3439     strtol( argv[0], &endptr, 0 ); \textcolor{comment}{/* just want to know where it fails */}
3440     \textcolor{keywordflow}{if} ( argv[0] != endptr )
3441     \{  \textcolor{comment}{/* assume channel number */}
3442         error\_code = (* \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[0].\hyperlink{structcommand__line_a62417f2e64cfcb563974afad3cd84c8f}{cmd\_fnc} )( argc, argv );
3443     \}
3444     \textcolor{keywordflow}{else}
3445     \{ \textcolor{comment}{/* otherwise a normal command */}
3446         index = 0;
3447         \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].cmd\_fnc )
3448         \{
3449             \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].name, argv[0] )  )
3450             \{
3451                 argv\_new = &(argv[1]);
3452                 argc\_new = argc - 1;
3453                 error\_code = (* \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].\hyperlink{structcommand__line_a62417f2e64cfcb563974afad3cd84c8f}{cmd\_fnc} )( argc\_new, argv\_new );
3454                 \textcolor{keywordflow}{break};
3455             \}
3456             index++;
3457         \}
3458     \}
3459     \textcolor{keywordflow}{return} error\_code;
3460 \}
\end{DoxyCode}
\hypertarget{idi_8c_aaefc0ba72d5e1d1a732a55dd7b52c4e1}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_aaefc0ba72d5e1d1a732a55dd7b52c4e1}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3232 of file idi.\+c.



References command\+\_\+line\+::cmd\+\_\+fnc, command\+\_\+line\+::name, and strcmpi.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
3233 \{
3234     \textcolor{keywordtype}{int}         error\_code;
3235     \textcolor{keywordtype}{int}         index;
3236     \textcolor{keywordtype}{int}         argc\_new;
3237     \textcolor{keywordtype}{char} **     argv\_new;
3238 
3239     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3240 
3241     index = 0;
3242     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].cmd\_fnc )
3243     \{
3244         \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].name, argv[0] )  )
3245         \{
3246             argv\_new = &(argv[1]);
3247             argc\_new = argc - 1;
3248             error\_code = (* \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].\hyperlink{structcommand__line_a62417f2e64cfcb563974afad3cd84c8f}{cmd\_fnc} )( argc\_new, argv\_new );
3249             \textcolor{keywordflow}{break};
3250         \}
3251         index++;
3252     \}
3253     \textcolor{keywordflow}{return} error\_code;
3254 \}
\end{DoxyCode}
\hypertarget{idi_8c_a2db447f8544aaf996c1f9526db749d54}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_a2db447f8544aaf996c1f9526db749d54}


Processes and dispatches the top level of the command and passes the remaining string list onto specialized functions to further process arguments. If no command is specified then a help output is produced. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em argc} & number of arguments including the executable file name \\
\hline
\mbox{\tt in}  & {\em argv} & list of string arguments lex'd from the command line \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 3651 of file idi.\+c.



References I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Digital\+\_\+\+Input(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+F\+R\+A\+M(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I(), I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V(), and strcmpi.



Referenced by main().


\begin{DoxyCode}
3652 \{
3653     \textcolor{keywordtype}{int}     error\_code;
3654     \textcolor{keywordtype}{int}     index;
3655     \textcolor{keywordtype}{int}     argc\_new;
3656     \textcolor{keywordtype}{char} ** argv\_new;
3657 
3658     index = 0; \textcolor{comment}{/* offset into the string list */}
3659 
3660     \textcolor{keywordflow}{if} ( argc > 0 \textcolor{comment}{/* at least one */} )
3661     \{
3662         \textcolor{keywordflow}{if}      ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"set"}, argv[index] ) )
3663         \{ \textcolor{comment}{/* idi set .... */}
3664             index++;
3665             argv\_new = &(argv[index]);
3666             argc\_new = argc - index;
3667             error\_code = \hyperlink{idi_8c_a5dfe12489f8e7e96a20e3dbe6810e90f}{IDI\_Command\_Line\_Set}( argc\_new, argv\_new );
3668             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3669         \}
3670         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"dump"}, argv[index] ) )
3671         \{ \textcolor{comment}{/* idi dump .... */}
3672             FILE * fd\_out;
3673             index++;
3674             \textcolor{keywordflow}{if} ( argc > 2 )
3675             \{
3676                 fd\_out = fopen( argv[index], \textcolor{stringliteral}{"w"} );
3677                 \textcolor{keywordflow}{if} ( NULL == fd\_out ) fd\_out = stdout;
3678             \}
3679             \textcolor{keywordflow}{else}
3680             \{
3681                 fd\_out = stdout;
3682             \}
3683             error\_code = \hyperlink{idi_8c_a07717d410edbdf91e98db3fdb526a0cc}{IDI\_Register\_Report\_CSV}( 
      \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}, fd\_out );
3684 
3685             \textcolor{keywordflow}{if} ( (argc > 2) && (NULL != fd\_out) && (stdout != fd\_out) )
3686             \{
3687                 fclose( fd\_out );
3688             \}
3689             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3690         \}
3691         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"spi"}, argv[index] ) )
3692         \{ \textcolor{comment}{/* idi spi .... */}
3693             \textcolor{comment}{// idi spi id}
3694             \textcolor{comment}{// idi spi}
3695             index++;
3696             argv\_new = &(argv[index]);
3697             argc\_new = argc - index;
3698             error\_code = \hyperlink{idi_8c_ab3d8b6fa8b84e23203bb0f2ee9b7654c}{IDI\_Command\_Line\_SPI}( argc\_new, argv\_new );
3699             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3700         \}
3701         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"fram"}, argv[index] ) )
3702         \{ \textcolor{comment}{/* idi fram .... */}
3703             index++;
3704             argv\_new = &(argv[index]);
3705             argc\_new = argc - index;
3706             error\_code = \hyperlink{idi_8c_aaefc0ba72d5e1d1a732a55dd7b52c4e1}{IDI\_Command\_Line\_FRAM}( argc\_new, argv\_new );
3707             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3708         \}
3709         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"din"}, argv[index] ) )
3710         \{ \textcolor{comment}{/* idi din .... */}
3711             index++;
3712             argv\_new = &(argv[index]);
3713             argc\_new = argc - index;
3714             error\_code = \hyperlink{idi_8c_acbd07590cc6312792765dd7ec17a614f}{IDI\_Command\_Line\_Digital\_Input}( argc\_new, argv\_new )
      ;
3715             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3716         \}
3717         \textcolor{keywordflow}{else}
3718         \{
3719             argv\_new = &(argv[index]);
3720             argc\_new = argc - index;
3721             error\_code = \hyperlink{idi_8c_a59716a10cd7a8c42425e1ceaefd50dc4}{IDI\_Command\_Line\_Register\_Transaction}( 
      argc\_new, argv\_new );
3722             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} IDI\_COMMAND\_LINE\_MAIN\_TERMINATE;
3723         \}
3724     \}
3725 IDI\_COMMAND\_LINE\_MAIN\_TERMINATE:
3726     \textcolor{keywordflow}{return} error\_code;
3727 \}
\end{DoxyCode}
\hypertarget{idi_8c_a59716a10cd7a8c42425e1ceaefd50dc4}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_a59716a10cd7a8c42425e1ceaefd50dc4}


Either reads or writes a register using the form\+: idi $<$register acronym$>$=\char`\"{}\char`\"{}$>$ \mbox{[}

\mbox{]}. 

If 

is not include, then it is assumed to be a read. If value is included, then a write to the specified register is made.

This function uses the definitions\mbox{[}\mbox{]} array which is global and built from I\+D\+I\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+E\+T\+\_\+\+D\+E\+F\+I\+N\+I\+T\+I\+O\+N macro which is a nicely organized register list.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em argc} & number of arguments including the executable file name \\
\hline
\mbox{\tt in}  & {\em argv} & list of string arguments lex'd from the command line \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 3488 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8(), I\+O\+\_\+\+Write\+\_\+\+U8(), R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E, and strcmpi.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
3489 \{
3490     \textcolor{keywordtype}{int} error\_code;
3491     \textcolor{keywordtype}{int} index;
3492     \textcolor{keywordtype}{int} found;
3493 
3494     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3495 
3496     found = -1;
3497     index =  0;
3498     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].direction != \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE} )
3499     \{
3500         \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].acronym, argv[0] )  )
3501         \{
3502             found = index;
3503             \textcolor{keywordflow}{break};
3504         \}
3505         index++;
3506     \}
3507 
3508     \textcolor{keywordflow}{if} ( found < 0 )
3509     \{
3510         \textcolor{comment}{//printf( "ER: \(\backslash\)n" );}
3511         \textcolor{keywordflow}{return}  -EC\_NOT\_FOUND;
3512     \}
3513 
3514     \textcolor{keywordflow}{if} ( argc < 2 )
3515     \{ \textcolor{comment}{/* read operation */}
3516         uint8\_t value;
3517         error\_code = \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].symbol, &value );
3518         \textcolor{keywordflow}{if} ( SUCCESS == error\_code )
3519         \{
3520             printf( \textcolor{stringliteral}{"RD: %s=0x%02X\(\backslash\)n"},  \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].acronym, value );
3521         \}
3522     \}
3523     \textcolor{keywordflow}{else}
3524     \{
3525         uint8\_t value;
3526         value = (uint8\_t) strtol( argv[1], NULL, 0 );
3527         error\_code = \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].symbol, value );
3528         \textcolor{keywordflow}{if} ( SUCCESS == error\_code )
3529         \{
3530             printf( \textcolor{stringliteral}{"WR: %s=0x%02X\(\backslash\)n"}, \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].acronym, value );
3531         \}
3532     \}
3533 
3534     \textcolor{keywordflow}{return} SUCCESS;
3535 \}
\end{DoxyCode}
\hypertarget{idi_8c_a5dfe12489f8e7e96a20e3dbe6810e90f}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Set (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_a5dfe12489f8e7e96a20e3dbe6810e90f}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3616 of file idi.\+c.



References command\+\_\+line\+::cmd\+\_\+fnc, command\+\_\+line\+::name, and strcmpi.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
3617 \{
3618     \textcolor{keywordtype}{int}         error\_code;
3619     \textcolor{keywordtype}{int}         index;
3620     \textcolor{keywordtype}{int}         argc\_new;
3621     \textcolor{keywordtype}{char} **     argv\_new;
3622 
3623     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3624 
3625     index = 0;
3626     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].cmd\_fnc )
3627     \{
3628         \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\_cmd\_main}[index].name, argv[0] )  )
3629         \{
3630             argv\_new = &(argv[1]);
3631             argc\_new = argc - 1;
3632             error\_code = (* \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\_cmd\_main}[index].\hyperlink{structcommand__line_a62417f2e64cfcb563974afad3cd84c8f}{cmd\_fnc} )( argc\_new, argv\_new );
3633             \textcolor{keywordflow}{break};
3634         \}
3635         index++;
3636     \}
3637     \textcolor{keywordflow}{return} error\_code;
3638 \}
\end{DoxyCode}
\hypertarget{idi_8c_ab3d8b6fa8b84e23203bb0f2ee9b7654c}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I}}
\index{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I@{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+S\+P\+I (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_ab3d8b6fa8b84e23203bb0f2ee9b7654c}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3017 of file idi.\+c.



References command\+\_\+line\+::cmd\+\_\+fnc, command\+\_\+line\+::name, and strcmpi.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
3018 \{
3019     \textcolor{keywordtype}{int}         error\_code;
3020     \textcolor{keywordtype}{int}         index;
3021     \textcolor{keywordtype}{int}         argc\_new;
3022     \textcolor{keywordtype}{char} **     argv\_new;
3023 
3024     \textcolor{keywordflow}{if} ( argc < 1 ) \textcolor{keywordflow}{return} -EC\_NOT\_FOUND;
3025 
3026     index = 0;
3027     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].cmd\_fnc )
3028     \{
3029         \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].name, argv[0] )  )
3030         \{
3031             argv\_new = &(argv[1]);
3032             argc\_new = argc - 1;
3033             error\_code = (* \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].\hyperlink{structcommand__line_a62417f2e64cfcb563974afad3cd84c8f}{cmd\_fnc} )( argc\_new, argv\_new );
3034             \textcolor{keywordflow}{break};
3035         \}
3036         index++;
3037     \}
3038     \textcolor{keywordflow}{return} error\_code;
3039 \}
\end{DoxyCode}
\hypertarget{idi_8c_abbe4aec5ed66dae530dd2a8c8c6c1c92}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{channel, }
\item[{{\bf B\+O\+O\+L} $\ast$}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_abbe4aec5ed66dae530dd2a8c8c6c1c92}


Obtains and reports a single digital input channel. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em channel} & channel to be read out. \\
\hline
\mbox{\tt out}  & {\em value} & Pointer to the boolean value to be set based on the digital input value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 992 of file idi.\+c.



References I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+G\+R\+O\+U\+P\+\_\+\+S\+I\+Z\+E, I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+S\+H\+I\+F\+T\+\_\+\+R\+I\+G\+H\+T, and I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Channel().


\begin{DoxyCode}
993 \{
994     \textcolor{keywordtype}{size\_t}  group;
995     \textcolor{keywordtype}{size\_t}  bit;
996     uint8\_t reg\_value;
997 
998     group = channel >> \hyperlink{idi_8c_a1672fbebd0a87ba0ad4abbaaf4d7cb56}{IDI\_DIN\_SHIFT\_RIGHT};
999     bit   = channel - group * \hyperlink{idi_8c_a3176ade75a5108d4b5e4f61ca2c1e842}{IDI\_DIN\_GROUP\_SIZE};
1000 
1001     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( IDI\_DI\_GROUP0 + group, &reg\_value );
1002 
1003     \textcolor{keywordflow}{if} ( 0 != ( reg\_value & ( 0x01 << bit ) ) ) *value = \textcolor{keyword}{true};
1004     \textcolor{keywordflow}{else}                                        *value = \textcolor{keyword}{false};
1005 
1006     \textcolor{keywordflow}{return} SUCCESS;
1007 \}
\end{DoxyCode}
\hypertarget{idi_8c_ad96039e3c434110fc30781b9e82f735f}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}static int I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{group, }
\item[{uint8\+\_\+t $\ast$}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ad96039e3c434110fc30781b9e82f735f}


Reads the selected digital input port (8-\/bits). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em group} & the group, range is 0 to 5. \\
\hline
\mbox{\tt out}  & {\em value} & pointer to the destination for the data read out \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1018 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+All(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+Group().


\begin{DoxyCode}
1019 \{
1020     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( IDI\_DI\_GROUP0 + group, value );
1021     \textcolor{keywordflow}{return} SUCCESS;
1022 \}
\end{DoxyCode}
\hypertarget{idi_8c_add0101e04ad7058fb979ef395febe68e}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t $\ast$}]{id}
\end{DoxyParamCaption}
)}}\label{idi_8c_add0101e04ad7058fb979ef395febe68e}


Obtains the D\+I\+N component (or board I\+D in this case) I\+D number. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em id} & The 16-\/bit I\+D number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 955 of file idi.\+c.



References I\+D\+\_\+\+D\+I\+N, and I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+D\+I\+N\+\_\+\+I\+D(), and I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present().


\begin{DoxyCode}
956 \{
957     uint8\_t     lsb, msb;
958 
959     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( IDI\_ID\_LSB, &lsb );
960     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( IDI\_ID\_MSB, &msb );
961     *\textcolor{keywordtype}{id} = ( ((uint16\_t) msb) << 8 ) | ((uint16\_t) lsb);
962 \textcolor{preprocessor}{#if defined( ID\_ALWAYS\_REPORT\_AS\_GOOD )}
963     *\textcolor{keywordtype}{id} = \hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}{ID\_DIN};
964 \textcolor{preprocessor}{#endif}
965     \textcolor{keywordflow}{return} SUCCESS;
966 \}
\end{DoxyCode}
\hypertarget{idi_8c_aad52cf9d5215e8c1e3387967b91c02fd}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present}}
\index{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present@{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Is\+Not\+Present (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_aad52cf9d5215e8c1e3387967b91c02fd}


Determines if the D\+I\+N component and/or board is present. Returns true if not present (i.\+e. error). 

\begin{DoxyReturn}{Returns}
A zero is returned if present, otherwise a 1 is returned. 
\end{DoxyReturn}


Definition at line 975 of file idi.\+c.



References I\+D\+\_\+\+D\+I\+N, and I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get().


\begin{DoxyCode}
976 \{
977     uint16\_t id;
978     \hyperlink{idi_8c_add0101e04ad7058fb979ef395febe68e}{IDI\_DIN\_ID\_Get}( &\textcolor{keywordtype}{id} );
979     \textcolor{keywordflow}{if} (\hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7a9d8ebe0a43a1971e6e3d738d0877f066}{ID\_DIN} == \textcolor{keywordtype}{id} ) \textcolor{keywordflow}{return} 0;
980     \textcolor{keywordflow}{return} 1;
981 \}
\end{DoxyCode}
\hypertarget{idi_8c_aeee5af479713594f4032b36fdefc2ca5}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Help@{I\+D\+I\+\_\+\+Help}}
\index{I\+D\+I\+\_\+\+Help@{I\+D\+I\+\_\+\+Help}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Help}]{\setlength{\rightskip}{0pt plus 5cm}void I\+D\+I\+\_\+\+Help (
\begin{DoxyParamCaption}
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_aeee5af479713594f4032b36fdefc2ca5}


Outputs a help listing to the user. 



Definition at line 3746 of file idi.\+c.



References command\+\_\+line\+::help, command\+\_\+line\+::name, and idi\+\_\+dataset\+::svn\+\_\+revision\+\_\+string.



Referenced by main().


\begin{DoxyCode}
3747 \{
3748     \textcolor{keywordtype}{int} index;
3749 
3750     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3751     fprintf( out, \textcolor{stringliteral}{"Isolated Digital Input Test Code\(\backslash\)n"} );
3752     fprintf( out, \textcolor{stringliteral}{"Apex Embedded Systems\(\backslash\)n"} );
3753     fprintf( out, \textcolor{stringliteral}{"Revision: %s\(\backslash\)n"}, \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a02b7232561c6ed9540ce106d328eedf8}{svn\_revision\_string} );
3754 
3755     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3756     fprintf( out, \textcolor{stringliteral}{"help - outputs help information\(\backslash\)n"} );
3757 
3758     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3759     fprintf( out, \textcolor{stringliteral}{"loop - any command below can run in a loop until key pressed\(\backslash\)n"} );
3760 
3761     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3762     fprintf( out, \textcolor{stringliteral}{"dump - outputs register information in a comma delimited format\(\backslash\)n"} );
3763 
3764     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3765     fprintf( out, \textcolor{stringliteral}{"set  - Set/Get main parameters.\(\backslash\)n"} );
3766     index = 0;
3767     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\_cmd\_main}[index].help )
3768     \{
3769     fprintf( out, \textcolor{stringliteral}{"       %8s - %s\(\backslash\)n"}, \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\_cmd\_main}[index].name, 
      \hyperlink{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{idi\_cmd\_main}[index].help );
3770     index++;
3771     \}
3772 
3773     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3774     fprintf( out, \textcolor{stringliteral}{"spi  - SPI related functions\(\backslash\)n"} );
3775     index = 0;
3776     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].help )
3777     \{
3778     fprintf( out, \textcolor{stringliteral}{"       %8s - %s\(\backslash\)n"}, \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].name, 
      \hyperlink{idi_8c_a152add15a07a391106c4f37efe492073}{idi\_cmd\_spi}[index].help );
3779     index++;
3780     \}
3781 
3782     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3783     fprintf( out, \textcolor{stringliteral}{"fram - FRAM related functions\(\backslash\)n"} );
3784     index = 0;
3785     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].help )
3786     \{
3787     fprintf( out, \textcolor{stringliteral}{"       %8s - %s\(\backslash\)n"}, \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].name, 
      \hyperlink{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{idi\_cmd\_fram}[index].help );
3788     index++;
3789     \}
3790 
3791     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3792     fprintf( out, \textcolor{stringliteral}{"din  - Digital input related functions\(\backslash\)n"} );
3793     index = 0;
3794     \textcolor{keywordflow}{while} ( NULL != \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].help )
3795     \{
3796     fprintf( out, \textcolor{stringliteral}{"       %8s - %s\(\backslash\)n"}, \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].name, 
      \hyperlink{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{idi\_cmd\_din}[index].help );
3797     index++;
3798     \}
3799     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
3800 \}
\end{DoxyCode}
\hypertarget{idi_8c_a89241c518880078575d736e7171ab068}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Initialization@{I\+D\+I\+\_\+\+Initialization}}
\index{I\+D\+I\+\_\+\+Initialization@{I\+D\+I\+\_\+\+Initialization}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Initialization}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Initialization (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a89241c518880078575d736e7171ab068}


Runs upon application startup. It restores the \hyperlink{structidi__dataset}{idi\+\_\+dataset} data structure or if the file cannot be found it will simply initialize those parameters to default values. 

\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 3836 of file idi.\+c.



References idi\+\_\+dataset\+::bank\+\_\+previous, idi\+\_\+dataset\+::base\+\_\+address, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0, idi\+\_\+svn\+\_\+revision\+\_\+string, and idi\+\_\+dataset\+::svn\+\_\+revision\+\_\+string.



Referenced by main().


\begin{DoxyCode}
3837 \{
3838     FILE * fd;
3839 
3840     \textcolor{comment}{/* restore the data set, if we can otherwise initialize with defaults */}
3841     fd = fopen( \textcolor{stringliteral}{"idi\_init.bin"}, \textcolor{stringliteral}{"r"} );
3842     \textcolor{keywordflow}{if} ( NULL == fd )
3843     \{ \textcolor{comment}{/* defaults */}
3844         memset( &\hyperlink{structidi__dataset}{idi\_dataset}, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structidi__dataset}{idi\_dataset}) );
3845         \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address}        = 0xff00;
3846         \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_aae9e92994011c0d276bdd28589d9aa71}{bank\_previous}       = \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{IDI\_BANK\_0};
3847     \}
3848     \textcolor{keywordflow}{else}
3849     \{ \textcolor{comment}{/* read in dataset */}
3850         fread( &\hyperlink{structidi__dataset}{idi\_dataset}, 1, \textcolor{keyword}{sizeof}( \textcolor{keyword}{struct} \hyperlink{structidi__dataset}{idi\_dataset} ), fd );
3851         fclose( fd );
3852     \}
3853     \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a02b7232561c6ed9540ce106d328eedf8}{svn\_revision\_string} = 
      \hyperlink{idi_8c_aff30ce3e78536dd65f538be3989eb9ea}{idi\_svn\_revision\_string};
3854 
3855     \textcolor{keywordflow}{return} SUCCESS;
3856 \}
\end{DoxyCode}
\hypertarget{idi_8c_a07717d410edbdf91e98db3fdb526a0cc}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V@{I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V}}
\index{I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V@{I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Register\+\_\+\+Report\+\_\+\+C\+S\+V (
\begin{DoxyParamCaption}
\item[{const struct {\bf reg\+\_\+definition} $\ast$}]{table, }
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_a07717d410edbdf91e98db3fdb526a0cc}


Outputs a human readable C\+S\+V to the desired output file or stdout. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em table} & register definition table or data structure array \\
\hline
\mbox{\tt in}  & {\em out} & destination of the human readable text to specified file or terminal. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 485 of file idi.\+c.



References I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D, R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E, R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D, R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D\+\_\+\+W\+R\+I\+T\+E, and R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main().


\begin{DoxyCode}
486 \{
487     \textcolor{keywordtype}{int} index = 0;
488 
489     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)"acronym\(\backslash\)",\(\backslash\)"symbol\(\backslash\)",\(\backslash\)"bank\(\backslash\)",\(\backslash\)"direction\(\backslash\)",\(\backslash\)"physical\_offset\(\backslash\)"\(\backslash\)n"} );
490     \textcolor{keywordflow}{do}
491     \{
492         fprintf( out, \textcolor{stringliteral}{"\(\backslash\)"%s\(\backslash\)","}, table[index].acronym     );
493         fprintf( out, \textcolor{stringliteral}{"\(\backslash\)"%s\(\backslash\)","}, table[index].symbol\_name );
494 
495         \textcolor{keywordflow}{switch}( table[index].bank )
496         \{
497         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{IDI\_BANK\_0}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_0"} );           \textcolor{keywordflow}{break};
498         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}{IDI\_BANK\_1}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_1"} );           \textcolor{keywordflow}{break};
499         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}{IDI\_BANK\_2}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_2"} );           \textcolor{keywordflow}{break};
500         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}{IDI\_BANK\_3}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_3"} );           \textcolor{keywordflow}{break};
501         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}{IDI\_BANK\_4}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_4"} );           \textcolor{keywordflow}{break};
502         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}{IDI\_BANK\_5}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_5"} );           \textcolor{keywordflow}{break};
503         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}{IDI\_BANK\_6}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_6"} );           \textcolor{keywordflow}{break};
504         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}{IDI\_BANK\_7}:          fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_7"} );           \textcolor{keywordflow}{break};
505         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{IDI\_BANK\_NONE}:            fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_NONE"} );        \textcolor{keywordflow}{break};
506         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}{IDI\_BANK\_UNDEFINED}:  fprintf( out, \textcolor{stringliteral}{"IDI\_BANK\_UNDEFINED"} );   \textcolor{keywordflow}{break};
507         \}
508         fprintf( out, \textcolor{stringliteral}{","} );
509 
510         \textcolor{keywordflow}{switch}( table[index].direction )
511         \{
512             \textcolor{keywordflow}{case} \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE}:          fprintf( out, \textcolor{stringliteral}{"REG\_DIR\_NONE"} );         \textcolor{keywordflow}{break};
513             \textcolor{keywordflow}{case} \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}{REG\_DIR\_READ}:          fprintf( out, \textcolor{stringliteral}{"REG\_DIR\_READ"} );         \textcolor{keywordflow}{break};
514             \textcolor{keywordflow}{case} \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}{REG\_DIR\_WRITE}:            fprintf( out, \textcolor{stringliteral}{"REG\_DIR\_WRITE"} );        \textcolor{keywordflow}{break};
515             \textcolor{keywordflow}{case} \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5adb0d7022466918b7b7481154bbce753a}{REG\_DIR\_READ\_WRITE}:  fprintf( out, \textcolor{stringliteral}{"REG\_DIR\_READ\_WRITE"} );   \textcolor{keywordflow}{break};
516         \}
517         fprintf( out, \textcolor{stringliteral}{","} );
518 
519         fprintf( out, \textcolor{stringliteral}{"\(\backslash\)"%d\(\backslash\)""}, table[index].physical\_offset );
520         fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)r"} ); \textcolor{comment}{/* separate so we have flexibility to re-organize columns */}
521         index++;
522     \} \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].direction != \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE} );
523 
524     \textcolor{keywordflow}{return} SUCCESS;
525 \}
\end{DoxyCode}
\hypertarget{idi_8c_ace0b0cdb3b5ab2c5c7bcf9a02b8a4f33}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank@{I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank}}
\index{I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank@{I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank}]{\setlength{\rightskip}{0pt plus 5cm}static const char$\ast$ I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+E\+N\+U\+M}}]{bank}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_ace0b0cdb3b5ab2c5c7bcf9a02b8a4f33}


Outputs a human readable C\+S\+V to the desired output file or stdout. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bank} & the bank enumerated value written to the bank register. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a string that describes the selected bank. 
\end{DoxyReturn}


Definition at line 456 of file idi.\+c.



References I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+0, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+1, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+2, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+3, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+4, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+5, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+6, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+7, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E, idi\+\_\+bank\+\_\+symbol\+\_\+names, and I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D.



Referenced by I\+O\+\_\+\+Read\+\_\+\+U8(), and I\+O\+\_\+\+Write\+\_\+\+U8().


\begin{DoxyCode}
457 \{
458     \textcolor{keywordtype}{int} index;
459 
460     \textcolor{keywordflow}{switch}( bank )
461     \{
462         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8cce6fe14bba46446b1cde9350cd83d4}{IDI\_BANK\_0}:          index = 0;  \textcolor{keywordflow}{break};
463         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a8dc321bd5fd3c430335173151324376d}{IDI\_BANK\_1}:          index = 1;  \textcolor{keywordflow}{break};
464         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77afa67bc53e5d6a9d98d36c2ce6bd8da40}{IDI\_BANK\_2}:          index = 2;  \textcolor{keywordflow}{break};
465         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ade572ed6d03459594d4d5d2705be720b}{IDI\_BANK\_3}:          index = 3;  \textcolor{keywordflow}{break};
466         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77ac9315aee24112e4f7e83204f839094ea}{IDI\_BANK\_4}:          index = 4;  \textcolor{keywordflow}{break};
467         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1dfbcff1752c653cb399ae9419397b19}{IDI\_BANK\_5}:          index = 5;  \textcolor{keywordflow}{break};
468         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a742cd72c00ec6a6eff09eda64e6636a8}{IDI\_BANK\_6}:          index = 6;  \textcolor{keywordflow}{break};
469         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a1fc2d3667bde9f8fbfbbb4d1322eaa46}{IDI\_BANK\_7}:          index = 7;  \textcolor{keywordflow}{break};
470         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{IDI\_BANK\_NONE}:            index = 8;  \textcolor{keywordflow}{break};
471         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77a481a4f0500697fe87aaa02bb843ce052}{IDI\_BANK\_UNDEFINED}:  index = 9;  \textcolor{keywordflow}{break};
472     \}
473     \textcolor{keywordflow}{return} \hyperlink{idi_8c_a68ed5a64a223c6c9c2ef8114ca1b8140}{idi\_bank\_symbol\_names}[index];
474 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9b645d8637fdc45f72c0109fbd730209}{\index{idi.\+c@{idi.\+c}!I\+D\+I\+\_\+\+Termination@{I\+D\+I\+\_\+\+Termination}}
\index{I\+D\+I\+\_\+\+Termination@{I\+D\+I\+\_\+\+Termination}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+D\+I\+\_\+\+Termination}]{\setlength{\rightskip}{0pt plus 5cm}int I\+D\+I\+\_\+\+Termination (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a9b645d8637fdc45f72c0109fbd730209}


Runs upon application exit. It saves the \hyperlink{structidi__dataset}{idi\+\_\+dataset} data structure. 

\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 3809 of file idi.\+c.



Referenced by main().


\begin{DoxyCode}
3810 \{
3811     FILE * fd;
3812 
3813     \textcolor{comment}{/* save the data set */}
3814     fd = fopen( \textcolor{stringliteral}{"idi\_init.bin"}, \textcolor{stringliteral}{"w"} );
3815     \textcolor{keywordflow}{if} ( NULL == fd )
3816     \{ \textcolor{comment}{/* defaults */}
3817         \textcolor{keywordflow}{return} -EC\_INIT\_FILE;
3818     \}
3819     \textcolor{keywordflow}{else}
3820     \{ \textcolor{comment}{/* read in dataset */}
3821         fwrite( &\hyperlink{structidi__dataset}{idi\_dataset}, 1, \textcolor{keyword}{sizeof}( \textcolor{keyword}{struct} \hyperlink{structidi__dataset}{idi\_dataset} ), fd );
3822         fclose( fd );
3823     \}
3824     \textcolor{keywordflow}{return} SUCCESS;
3825 \}
\end{DoxyCode}
\hypertarget{idi_8c_aa2a17a1eaf6d0b512863fffd9f03c571}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid@{I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid}}
\index{I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid@{I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf B\+O\+O\+L} I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{{\bf R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+E\+N\+U\+M}}]{direction}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aa2a17a1eaf6d0b512863fffd9f03c571}


Looks up in the register definitions list for the ports possible read/write directions. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em direction} & The desired direction that is to run \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A false is returned if the direction is valid, otherwise a true is returned 
\end{DoxyReturn}


Definition at line 718 of file idi.\+c.



References R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E.



Referenced by I\+O\+\_\+\+Read\+\_\+\+U8(), and I\+O\+\_\+\+Write\+\_\+\+U8().


\begin{DoxyCode}
719 \{
720     \textcolor{keywordtype}{int} index;
721     index =  0;
722     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].direction != \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE} )
723     \{
724         \textcolor{keywordflow}{if} ( location == \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].symbol  )
725         \{
726             \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].direction & direction ) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
727             \textcolor{keywordflow}{else}                                            \textcolor{keywordflow}{return} \textcolor{keyword}{true};
728         \}
729         index++;
730     \}
731     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
732 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9708b509decc6f844ce474a85af2484b}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name@{I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name}}
\index{I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name@{I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a9708b509decc6f844ce474a85af2484b}


Translates a register enumerated symbol into a string that is the same as the enumerated symbol used throughout this code base. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & The enumerated symbol representing the register. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a human readable string of the symbol. 
\end{DoxyReturn}


Definition at line 692 of file idi.\+c.



References R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+N\+O\+N\+E, and reg\+\_\+definition\+::symbol\+\_\+name.



Referenced by I\+O\+\_\+\+Read\+\_\+\+U8(), and I\+O\+\_\+\+Write\+\_\+\+U8().


\begin{DoxyCode}
693 \{
694     \textcolor{keywordtype}{int} index;
695     index =  0;
696     \textcolor{keywordflow}{while} ( \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].direction != \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a74f81f4c5a0aed3f67492123def70753}{REG\_DIR\_NONE} )
697     \{
698         \textcolor{keywordflow}{if} ( location == \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].symbol  )
699         \{
700             \textcolor{keywordflow}{return} \hyperlink{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{definitions}[index].\hyperlink{structreg__definition_a7e9d3f82b1d2ab1009d4df11f1ba7db6}{symbol\_name};
701         \}
702         index++;
703     \}
704     \textcolor{keywordflow}{return} NULL;
705 \}
\end{DoxyCode}
\hypertarget{idi_8c_a34fb89e26c5f0f9ae01c0d1c779397bf}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed@{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}}
\index{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed@{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}]{\setlength{\rightskip}{0pt plus 5cm}void I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint16\+\_\+t $\ast$}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a34fb89e26c5f0f9ae01c0d1c779397bf}


Reads uint16\+\_\+t from I/\+O ports in a uint8\+\_\+t succession to the same address location. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The pointer to the destination of the read uint16\+\_\+t value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 931 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().


\begin{DoxyCode}
932 \{
933 \textcolor{comment}{//TODO: assumes little endian.}
934     uint8\_t lsb, msb;
935     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), &lsb );
936     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), &msb );
937     *value = ( ((uint16\_t) msb) << 8 ) | ( ((uint16\_t) lsb) & 0xFF );
938 \}
\end{DoxyCode}
\hypertarget{idi_8c_a75115c9cbc48b9ccd8c73dc4d69128cd}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment@{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}}
\index{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment@{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}]{\setlength{\rightskip}{0pt plus 5cm}void I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint16\+\_\+t $\ast$}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a75115c9cbc48b9ccd8c73dc4d69128cd}


Reads uint16\+\_\+t from I/\+O ports in a uint8\+\_\+t succession incrementing the offset address. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The pointer to the destination of the read uint16\+\_\+t value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 887 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().


\begin{DoxyCode}
888 \{
889 \textcolor{comment}{//TODO: assumes little endian.}
890     uint8\_t lsb, msb;
891     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), &lsb );
892     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 1), &msb );
893     *value = ( ((uint16\_t) msb) << 8 ) | ( ((uint16\_t) lsb) & 0xFF );
894 \}
\end{DoxyCode}
\hypertarget{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Read\+\_\+\+U8@{I\+O\+\_\+\+Read\+\_\+\+U8}}
\index{I\+O\+\_\+\+Read\+\_\+\+U8@{I\+O\+\_\+\+Read\+\_\+\+U8}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Read\+\_\+\+U8}]{\setlength{\rightskip}{0pt plus 5cm}int I\+O\+\_\+\+Read\+\_\+\+U8 (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint8\+\_\+t $\ast$}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a554231d8a65ca3073edc2aaabf347d54}


Reads uint8\+\_\+t from I/\+O port. Macros are used to guide the target implementation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The pointer to the destination of the read uint8\+\_\+t value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 802 of file idi.\+c.



References idi\+\_\+dataset\+::bank\+\_\+previous, idi\+\_\+dataset\+::base\+\_\+address, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E, I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank(), I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid(), I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name(), idi\+\_\+dataset\+::io\+\_\+report, idi\+\_\+dataset\+::io\+\_\+simulate, R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+R\+E\+A\+D, R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T, and R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction(), I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Channel\+\_\+\+Get(), I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+Group\+\_\+\+Get(), I\+D\+I\+\_\+\+D\+I\+N\+\_\+\+I\+D\+\_\+\+Get(), I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed(), I\+O\+\_\+\+Read\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read(), S\+P\+I\+\_\+\+I\+D\+\_\+\+Get(), S\+P\+I\+\_\+\+Status\+\_\+\+Read(), S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty(), S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status(), S\+P\+I\+\_\+\+Status\+\_\+\+Write(), S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full(), S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status().


\begin{DoxyCode}
803 \{
804     uint8\_t     bank;
805     \textcolor{keywordtype}{int}         offset;
806     \textcolor{keywordtype}{int}         address;
807 
808 \textcolor{preprocessor}{#if defined( IDI\_IO\_DIRECTION\_TEST )}
809     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_aa2a17a1eaf6d0b512863fffd9f03c571}{IO\_Direction\_IsNotValid}( location, \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5af1ec2b1dd9bbade4c573f07aec924113}{REG\_DIR\_READ} ) )
810     \{
811         printf( \textcolor{stringliteral}{"IO\_Read\_U8: %s, error in direction\(\backslash\)n"}, \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( location ) );
812         \textcolor{keywordflow}{return} -EC\_DIRECTION;
813     \}
814 \textcolor{preprocessor}{#endif}
815     bank   = (uint8\_t) \hyperlink{idi_8c_a1f8d0d21d4d226982f2ad9a4916a0f3d}{REG\_LOCATION\_BANK\_GET}( location );
816     \textcolor{keywordflow}{if} ( ( \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{IDI\_BANK\_NONE} != bank ) && ( bank != \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_aae9e92994011c0d276bdd28589d9aa71}{bank\_previous} ) )
817     \{   \textcolor{comment}{/* write to bank register only if different -- don't bother even checking it, will take too much
       time. */}
818         offset = (int) \hyperlink{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{REG\_LOCATION\_OFFSET\_GET}( IDI\_BANK );
819         address = ((int) \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address}) + offset;
820         \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_aae9e92994011c0d276bdd28589d9aa71}{bank\_previous} = bank;
821         \textcolor{keywordflow}{if} ( !\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} )
822         \{
823 \textcolor{preprocessor}{#if defined( \_\_MSDOS\_\_ )}
824         outportb( address, bank );
825 \textcolor{preprocessor}{#endif}
826         \}
827         \textcolor{keywordflow}{if} ( ( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report} ) || ( \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ) )
828         \{
829         printf( \textcolor{stringliteral}{"IO\_Read\_U8: %s, address = 0x%04X, bank = %s\(\backslash\)n"}, 
      \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( IDI\_BANK ), address, \hyperlink{idi_8c_ace0b0cdb3b5ab2c5c7bcf9a02b8a4f33}{IDI\_Symbol\_Name\_Bank}( bank )
       );
830         \}
831     \}
832     offset = (int) \hyperlink{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{REG\_LOCATION\_OFFSET\_GET}(location);
833     address = ((int) \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address}) + offset;
834     \textcolor{keywordflow}{if} ( !\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} )
835     \{
836 \textcolor{preprocessor}{#if defined( \_\_MSDOS\_\_ )}
837     *value = inportb( address );
838 \textcolor{preprocessor}{#endif}
839     \}
840     \textcolor{keywordflow}{if} ( ( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report} ) || ( \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ) )
841     \{
842     printf( \textcolor{stringliteral}{"IO\_Read\_U8: %s, address = 0x%04X, "}, \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( location ), address
       );
843 \textcolor{preprocessor}{#if defined( \_\_MSDOS\_\_ )}
844     printf( \textcolor{stringliteral}{"value = 0x%02X\(\backslash\)n"}, *value );
845 \textcolor{preprocessor}{#else}
846     printf( \textcolor{stringliteral}{"value = unknown\(\backslash\)n"} );
847 \textcolor{preprocessor}{#endif}
848     \}
849     \textcolor{keywordflow}{return} SUCCESS;
850 \}
\end{DoxyCode}
\hypertarget{idi_8c_a1b725a3b4e3895892e9cb3e41abc9218}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed@{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}}
\index{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed@{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed}]{\setlength{\rightskip}{0pt plus 5cm}void I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint16\+\_\+t}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a1b725a3b4e3895892e9cb3e41abc9218}


Writes uint16\+\_\+t to I/\+O ports in a uint8\+\_\+t succession to the same address location. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The uint16\+\_\+t value to be written to the I/\+O register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 910 of file idi.\+c.



References I\+O\+\_\+\+Write\+\_\+\+U8().


\begin{DoxyCode}
911 \{
912 \textcolor{comment}{//TODO: assumes little endian.}
913     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), (uint8\_t)(     value      & 0
      xFF ) );
914     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), (uint8\_t)( ( value >> 8 ) & 0
      xFF ) );
915 \}
\end{DoxyCode}
\hypertarget{idi_8c_a5369340b886768c5898ee924ac8c4a7e}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment@{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}}
\index{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment@{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment}]{\setlength{\rightskip}{0pt plus 5cm}void I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint16\+\_\+t}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a5369340b886768c5898ee924ac8c4a7e}


Writes uint16\+\_\+t to I/\+O ports in a uint8\+\_\+t succession incrementing the offset address. Macros are used to guide the target implementation. In this case, bus width (which we typcially refer to the port width, which is different than register width) is assumed to be byte (uint8\+\_\+t) wide. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The uint16\+\_\+t value to be written to the I/\+O register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 866 of file idi.\+c.



References I\+O\+\_\+\+Write\+\_\+\+U8().


\begin{DoxyCode}
867 \{
868 \textcolor{comment}{//TODO: assumes little endian.}
869     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 0), (uint8\_t)(   value        & 0
      xFF ) );
870     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( (\hyperlink{idi_8c_a3bd0ce53eda9237f7ec1a515f89e907b}{IDI\_REG\_ENUM})(((\textcolor{keywordtype}{int}) location) + 1), (uint8\_t)( ( value >> 8 ) & 0
      xFF ) );
871 \}
\end{DoxyCode}
\hypertarget{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{\index{idi.\+c@{idi.\+c}!I\+O\+\_\+\+Write\+\_\+\+U8@{I\+O\+\_\+\+Write\+\_\+\+U8}}
\index{I\+O\+\_\+\+Write\+\_\+\+U8@{I\+O\+\_\+\+Write\+\_\+\+U8}!idi.\+c@{idi.\+c}}
\subsubsection[{I\+O\+\_\+\+Write\+\_\+\+U8}]{\setlength{\rightskip}{0pt plus 5cm}int I\+O\+\_\+\+Write\+\_\+\+U8 (
\begin{DoxyParamCaption}
\item[{{\bf I\+D\+I\+\_\+\+R\+E\+G\+\_\+\+E\+N\+U\+M}}]{location, }
\item[{uint8\+\_\+t}]{value}
\end{DoxyParamCaption}
)}}\label{idi_8c_a335ac0f174d3cfe042d9bda97426616b}


Writes uint8\+\_\+t to I/\+O port. Macros are used to guide the target implementation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em location} & the enumerated register symbol. The enumerated symbol is composed of offset and bank information used to determine the final address information. \\
\hline
\mbox{\tt in}  & {\em value} & The data to be written out. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 746 of file idi.\+c.



References idi\+\_\+dataset\+::bank\+\_\+previous, idi\+\_\+dataset\+::base\+\_\+address, I\+D\+I\+\_\+\+B\+A\+N\+K\+\_\+\+N\+O\+N\+E, I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank(), I\+O\+\_\+\+Direction\+\_\+\+Is\+Not\+Valid(), I\+O\+\_\+\+Get\+\_\+\+Symbol\+\_\+\+Name(), idi\+\_\+dataset\+::io\+\_\+report, idi\+\_\+dataset\+::io\+\_\+simulate, R\+E\+G\+\_\+\+D\+I\+R\+\_\+\+W\+R\+I\+T\+E, R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+B\+A\+N\+K\+\_\+\+G\+E\+T, and R\+E\+G\+\_\+\+L\+O\+C\+A\+T\+I\+O\+N\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+G\+E\+T.



Referenced by I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Register\+\_\+\+Transaction(), I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Fixed(), I\+O\+\_\+\+Write\+\_\+\+U16\+\_\+\+Address\+\_\+\+Increment(), S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper(), and S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write().


\begin{DoxyCode}
747 \{
748     uint8\_t     bank;
749     uint8\_t     offset;
750     uint16\_t    address;
751 
752 \textcolor{preprocessor}{#if defined( IDI\_IO\_DIRECTION\_TEST )}
753     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_aa2a17a1eaf6d0b512863fffd9f03c571}{IO\_Direction\_IsNotValid}( location, \hyperlink{idi_8c_adaff99746c6b7de99d49bf298156b6f5a4fed3284189cb712e0edee0c9f08446b}{REG\_DIR\_WRITE} ) )
754     \{
755         printf( \textcolor{stringliteral}{"IO\_Write\_U8: %s, error in direction\(\backslash\)n"}, \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( location ) )
      ;
756         \textcolor{keywordflow}{return} -EC\_DIRECTION;
757     \}
758 \textcolor{preprocessor}{#endif}
759     bank   = (uint8\_t) \hyperlink{idi_8c_a1f8d0d21d4d226982f2ad9a4916a0f3d}{REG\_LOCATION\_BANK\_GET}( location );
760     \textcolor{keywordflow}{if} ( ( \hyperlink{idi_8c_a1a51d688850609ce7bdd228893d5ce77abda1f233f58a0a0e1833d61214b1b4dc}{IDI\_BANK\_NONE} != bank ) && ( bank != \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_aae9e92994011c0d276bdd28589d9aa71}{bank\_previous} ) )
761     \{   \textcolor{comment}{/* write to bank register only if different -- don't bother even checking it, will take too much
       time. */}
762         offset = (uint8\_t) \hyperlink{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{REG\_LOCATION\_OFFSET\_GET}( IDI\_BANK );
763         address = \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address} + offset;
764         \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_aae9e92994011c0d276bdd28589d9aa71}{bank\_previous} = bank;
765         \textcolor{keywordflow}{if} ( !\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} )
766         \{
767 \textcolor{preprocessor}{#if defined( \_\_MSDOS\_\_ )}
768         outportb( address, bank );
769 \textcolor{preprocessor}{#endif}
770         \}
771         \textcolor{keywordflow}{if} ( ( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report} ) || ( \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ) )
772         \{
773         printf( \textcolor{stringliteral}{"IO\_Write\_U8: %s, address = 0x%04X, bank = %s\(\backslash\)n"}, 
      \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( IDI\_BANK ), address, \hyperlink{idi_8c_ace0b0cdb3b5ab2c5c7bcf9a02b8a4f33}{IDI\_Symbol\_Name\_Bank}( bank )
       );
774         \}
775     \}
776     offset = (uint8\_t) \hyperlink{idi_8c_ab8bf1943ccafe17f91e3a09dc431fd44}{REG\_LOCATION\_OFFSET\_GET}(location);
777     address = \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a27de55c6cee77e53ec9631f1f489a97a}{base\_address} + offset;
778     \textcolor{keywordflow}{if} ( !\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} )
779     \{
780 \textcolor{preprocessor}{#if defined( \_\_MSDOS\_\_ )}
781     outportb( address, value );
782 \textcolor{preprocessor}{#endif}
783     \}
784     \textcolor{keywordflow}{if} ( ( \hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_ad5d4eafc81d2a1f443f9a5a09b56efe0}{io\_report} ) || ( \hyperlink{structidi__dataset}{idi\_dataset}.
      \hyperlink{structidi__dataset_a6513343c81785c28903fc3c4d1d50206}{io\_simulate} ) )
785     \{
786     printf( \textcolor{stringliteral}{"IO\_Write\_U8: %s, address = 0x%04X, value = 0x%02X\(\backslash\)n"}, 
      \hyperlink{idi_8c_a9708b509decc6f844ce474a85af2484b}{IO\_Get\_Symbol\_Name}( location ), address, value );
787     \}
788     \textcolor{keywordflow}{return} SUCCESS;
789 \}
\end{DoxyCode}
\hypertarget{idi_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{idi.\+c@{idi.\+c}!main@{main}}
\index{main@{main}!idi.\+c@{idi.\+c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{idi_8c_a0ddf1224851353fc92bfbff6f499fa97}


Processes and dispatches the top level of the command and passes the remaining string list onto specialized functions to further process arguments. If no command is specified then a help output is produced. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em argc} & number of arguments including the executable file name \\
\hline
\mbox{\tt in}  & {\em argv} & list of string arguments lex'd from the command line \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+U\+C\+C\+E\+S\+S (0) if no errors encountered, otherwise errors are reported as a negative value. 
\end{DoxyReturn}


Definition at line 3871 of file idi.\+c.



References Character\+\_\+\+Get(), E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable(), I\+D\+I\+\_\+\+Command\+\_\+\+Line\+\_\+\+Main(), I\+D\+I\+\_\+\+Help(), I\+D\+I\+\_\+\+Initialization(), I\+D\+I\+\_\+\+Termination(), and strcmpi.


\begin{DoxyCode}
3872 \{
3873     \textcolor{comment}{//int index;}
3874     \textcolor{comment}{//int count;}
3875     \textcolor{keywordtype}{int}     error\_code;
3876     \textcolor{keywordtype}{int}     index;
3877     \textcolor{keywordtype}{int}     argc\_new;
3878     \textcolor{keywordtype}{char} ** argv\_new;
3879 
3880 \textcolor{comment}{/* used only for Win7 debugging sessions with cygwin */}
3881 \textcolor{preprocessor}{#if(1)}
3882     setvbuf(stdout, NULL, \_IONBF, 0);
3883     setvbuf(stderr, NULL, \_IONBF, 0);
3884 \textcolor{preprocessor}{#endif}
3885 
3886     error\_code = \hyperlink{idi_8c_a89241c518880078575d736e7171ab068}{IDI\_Initialization}();
3887     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} Main\_Termination;
3888 \textcolor{comment}{//      printf( "Hello\(\backslash\)n");}
3889 \textcolor{comment}{//      return SUCCESS;}
3890 
3891 \textcolor{preprocessor}{#if(0)}
3892     count = argc;
3893     index = 0;     \textcolor{comment}{/* OK, zero value is name of executable file  */}
3894     \textcolor{keywordflow}{while} ( count > 0 )
3895     \{
3896         printf( \textcolor{stringliteral}{"index = %d, str = <%s>\(\backslash\)n"}, index, argv[index] );
3897         index++;
3898         count--;
3899     \}
3900 \textcolor{preprocessor}{#endif}
3901 
3902     index = 1;
3903     \textcolor{keywordflow}{if} ( argc > 1 )
3904     \{
3905         \textcolor{keywordflow}{if}      ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"help"}, argv[index]) )
3906         \{
3907             \hyperlink{idi_8c_aeee5af479713594f4032b36fdefc2ca5}{IDI\_Help}( stdout );
3908         \}
3909         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( 0 == \hyperlink{idi_8c_acf1a32c487efc5306d57219a57d57b60}{strcmpi}( \textcolor{stringliteral}{"loop"}, argv[index]) )
3910         \{ \textcolor{comment}{/* loop until key is pressed */}
3911             \textcolor{keywordflow}{if} ( argc > 2 )
3912             \{
3913                 index++;
3914                 \textcolor{keywordflow}{while} ( !\hyperlink{idi_8c_ae02625dd3f93cc87fdab4b6e2c15ed6c}{Character\_Get}(NULL) )
3915                 \{ \textcolor{comment}{/* assumes that all functions utilize arguments in read only fashion */}
3916                     argv\_new = &(argv[index]);
3917                     argc\_new = argc - index;
3918                     error\_code = \hyperlink{idi_8c_a2db447f8544aaf996c1f9526db749d54}{IDI\_Command\_Line\_Main}( argc\_new, argv\_new );
3919                     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} Main\_Termination\_Error\_Codes;
3920                 \}
3921             \}
3922         \}
3923         \textcolor{keywordflow}{else}
3924         \{
3925             argv\_new = &(argv[index]);
3926             argc\_new = argc - index;
3927             error\_code = \hyperlink{idi_8c_a2db447f8544aaf996c1f9526db749d54}{IDI\_Command\_Line\_Main}( argc\_new, argv\_new );
3928             \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{goto} Main\_Termination\_Error\_Codes;
3929         \}
3930     \}
3931     \textcolor{keywordflow}{else}
3932     \{ \textcolor{comment}{/* produce help */}
3933         \hyperlink{idi_8c_aeee5af479713594f4032b36fdefc2ca5}{IDI\_Help}( stdout );
3934     \}
3935 
3936 
3937 Main\_Termination:
3938     \hyperlink{idi_8c_a9b645d8637fdc45f72c0109fbd730209}{IDI\_Termination}();
3939     \textcolor{keywordflow}{return} error\_code;
3940 
3941 Main\_Termination\_Error\_Codes:
3942     \hyperlink{idi_8c_a9b645d8637fdc45f72c0109fbd730209}{IDI\_Termination}();
3943     printf( \textcolor{stringliteral}{"ERROR: %d, %s\(\backslash\)n"},  error\_code, \hyperlink{idi_8c_a898d8519b441ee16e816759982951490}{EC\_Code\_To\_Human\_Readable}( error\_code 
      ) );
3944     \textcolor{keywordflow}{return} error\_code;
3945 \}
\end{DoxyCode}
\hypertarget{idi_8c_ad86d10585f6c367cfc4490a5366f1d25}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock}}
\index{S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock (
\begin{DoxyParamCaption}
\item[{double}]{clock\+\_\+request\+\_\+hz, }
\item[{double $\ast$}]{clock\+\_\+actual\+\_\+hz, }
\item[{double $\ast$}]{error, }
\item[{uint16\+\_\+t $\ast$}]{hci}
\end{DoxyParamCaption}
)}}\label{idi_8c_ad86d10585f6c367cfc4490a5366f1d25}


Computes the S\+P\+I clock half clock register value given a requested S\+P\+I clock frequency. It will also produce a 'report' indicating the actual value (due to integer resolution) as well as a computed error between requested and actual. The eror can be used to determine whether timing constraints are met. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em clock\+\_\+request\+\_\+hz} & Request clock frequency in Hertz. Example\+: 1.\+0e6 is 1\+M\+Hz. \\
\hline
\mbox{\tt in}  & {\em clock\+\_\+actual\+\_\+hz} & Actual computed frequency. If this pointer is N\+U\+L\+L, then it is not output. \\
\hline
\mbox{\tt out}  & {\em error} & Error between requested and actual. If this pointer is N\+U\+L\+L, then it is not output. \\
\hline
\mbox{\tt out}  & {\em hci} & Half clock register value computed. If this pointer is N\+U\+L\+L, then it is not output.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1121 of file idi.\+c.



References S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
1126 \{
1127     \textcolor{keywordtype}{int}      error\_code;
1128     \textcolor{keywordtype}{double}   half\_clock\_request\_sec;
1129     \textcolor{keywordtype}{double}   half\_clock\_actual\_sec;
1130     \textcolor{keywordtype}{double}   error\_internal;
1131     \textcolor{keywordtype}{double}   scratch;
1132     uint16\_t hci\_internal;
1133 
1134     half\_clock\_request\_sec = 1.0 / ( 2.0 * clock\_request\_hz );
1135 
1136     error\_code = \hyperlink{idi_8c_a5a1a4138a3312745363773553003149d}{SPI\_Calculate\_Half\_Clock}( half\_clock\_request\_sec,
1137                                            &half\_clock\_actual\_sec,
1138                                            &error\_internal,
1139                                            &hci\_internal
1140                                           );
1141     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
1142 
1143     \textcolor{comment}{/* compute actual frequency */}
1144     scratch = 1.0 / ( 2.0 * half\_clock\_actual\_sec );
1145     \textcolor{keywordflow}{if} ( NULL != error           ) *error           = ( scratch - clock\_request\_hz ) / clock\_request\_hz;
1146     \textcolor{keywordflow}{if} ( NULL != clock\_actual\_hz ) *clock\_actual\_hz = scratch;
1147     \textcolor{keywordflow}{if} ( NULL != hci             ) *hci             = (uint16\_t) hci\_internal;
1148     \textcolor{keywordflow}{return} SUCCESS;
1149 \}
\end{DoxyCode}
\hypertarget{idi_8c_a50b862cbcc29146e70e7543208ca7e81}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay@{S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay}}
\index{S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay@{S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay (
\begin{DoxyParamCaption}
\item[{double}]{spi\+\_\+half\+\_\+clock\+\_\+interval\+\_\+sec, }
\item[{double}]{delay\+\_\+request\+\_\+sec, }
\item[{double $\ast$}]{delay\+\_\+actual\+\_\+sec, }
\item[{double $\ast$}]{error, }
\item[{uint8\+\_\+t $\ast$}]{ecd}
\end{DoxyParamCaption}
)}}\label{idi_8c_a50b862cbcc29146e70e7543208ca7e81}


Computes the time delay at the end of each byte transmitted. It will only output the parameters whose pointers are not N\+U\+L\+L. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em spi\+\_\+half\+\_\+clock\+\_\+interval\+\_\+sec} & Computed half clock interval in seconds \\
\hline
\mbox{\tt in}  & {\em delay\+\_\+request\+\_\+sec} & Requested time delay in seconds \\
\hline
\mbox{\tt out}  & {\em delay\+\_\+actual\+\_\+sec} & Pointer to actual time delay computed, if not N\+U\+L\+L. \\
\hline
\mbox{\tt out}  & {\em error} & Pointer to error value computed, if not N\+U\+L\+L. \\
\hline
\mbox{\tt out}  & {\em ecd} & Pointer to the computed end-\/cycle-\/delay, if not N\+U\+L\+L. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1178 of file idi.\+c.



References C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
1184 \{
1185     \textcolor{comment}{//double        delay\_between\_words\_sec;}
1186     \textcolor{keywordtype}{double}      scratch;
1187     \textcolor{keywordtype}{int}         ecd\_temp;
1188 
1189     \textcolor{comment}{/* delay\_sec = CLOCK\_PERIOD\_SEC * 4 + ECD * spi\_half\_clock\_interval\_sec  */}
1190     scratch = ( delay\_request\_sec - 4.0 * \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} ) / spi\_half\_clock\_interval\_sec;
1191     ecd\_temp = (int) scratch;
1192 
1193     \textcolor{keywordflow}{if} ( ( ecd\_temp > 255 ) || ( ecd\_temp < 0 ) ) \textcolor{keywordflow}{return} -EC\_SPI\_ECD\_OUT\_OF\_RANGE;
1194 
1195     \textcolor{comment}{/* compute actual */}
1196     scratch = \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} * 4.0 + ((double) ecd\_temp) * spi\_half\_clock\_interval\_sec;
1197     \textcolor{keywordflow}{if} ( NULL != error            ) *error            = ( scratch - delay\_request\_sec ) / delay\_request\_sec
      ;
1198     \textcolor{keywordflow}{if} ( NULL != delay\_actual\_sec ) *delay\_actual\_sec = scratch;
1199     \textcolor{keywordflow}{if} ( NULL != ecd              ) *ecd              = (uint8\_t) ecd\_temp;
1200     \textcolor{keywordflow}{return} SUCCESS;
1201 \}
\end{DoxyCode}
\hypertarget{idi_8c_a5a1a4138a3312745363773553003149d}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock}}
\index{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock (
\begin{DoxyParamCaption}
\item[{double}]{half\+\_\+clock\+\_\+request\+\_\+sec, }
\item[{double $\ast$}]{half\+\_\+clock\+\_\+actual\+\_\+sec, }
\item[{double $\ast$}]{error, }
\item[{uint16\+\_\+t $\ast$}]{hci}
\end{DoxyParamCaption}
)}}\label{idi_8c_a5a1a4138a3312745363773553003149d}


Computes the half clock register value given a requested time interval. It will also produce a 'report' indicating the actual value (due to integer resolution) as well as a computed error between requested and actual. The error can be used to determine whether timing constraints are met. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em half\+\_\+clock\+\_\+request\+\_\+sec} & Request time interval in seconds. Example\+: 20.\+0e-\/6 is 20u\+S. \\
\hline
\mbox{\tt in}  & {\em half\+\_\+clock\+\_\+actual\+\_\+sec} & Actual computed time. If this pointer is N\+U\+L\+L, then it is not output. \\
\hline
\mbox{\tt out}  & {\em error} & Error between requested and actual. If this pointer is N\+U\+L\+L, then it is not output. \\
\hline
\mbox{\tt out}  & {\em hci} & Half clock register value computed. If this pointer is N\+U\+L\+L, then it is not output.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1084 of file idi.\+c.



References C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C.



Referenced by S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock().


\begin{DoxyCode}
1089 \{
1090     \textcolor{keywordtype}{double}      scratch;
1091     \textcolor{keywordtype}{int}         hci\_temp;
1092 
1093     \textcolor{comment}{/* spi\_half\_clock\_interval\_sec = CLOCK\_PERIOD\_SEC * ( 4.0 + ( (double) hci ) ) */}
1094     scratch = ( half\_clock\_request\_sec / \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} ) - 4.0;
1095     hci\_temp = (int) scratch;
1096 
1097     \textcolor{keywordflow}{if} ( ( hci\_temp > 4095 ) || ( hci\_temp < 0 ) ) \textcolor{keywordflow}{return} -EC\_SPI\_HALF\_CLOCK\_OUT\_OF\_RANGE;
1098 
1099     \textcolor{comment}{/* compute actual */}
1100     scratch = \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} * ( 4.0 + ((double) hci\_temp) );
1101     \textcolor{keywordflow}{if} ( NULL != error                 ) *error                 = ( scratch - half\_clock\_request\_sec ) / 
      half\_clock\_request\_sec;
1102     \textcolor{keywordflow}{if} ( NULL != half\_clock\_actual\_sec ) *half\_clock\_actual\_sec = scratch;
1103     \textcolor{keywordflow}{if} ( NULL != hci                   ) *hci                   = (uint16\_t) hci\_temp;
1104     \textcolor{keywordflow}{return} SUCCESS;
1105 \}
\end{DoxyCode}
\hypertarget{idi_8c_a8130129973acaff19c9b1cfd5955d12d}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec}}
\index{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec@{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec}]{\setlength{\rightskip}{0pt plus 5cm}double S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{half\+\_\+clock\+\_\+interval}
\end{DoxyParamCaption}
)}}\label{idi_8c_a8130129973acaff19c9b1cfd5955d12d}


Computes the half clock interval in seconds given the value from the half clock interval register. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em half\+\_\+clock\+\_\+interval} & Half clock interval register value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The time value as a double in units of seconds. 
\end{DoxyReturn}


Definition at line 1158 of file idi.\+c.



References C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec(), and S\+P\+I\+\_\+\+Configuration\+\_\+\+Set().


\begin{DoxyCode}
1159 \{
1160     \textcolor{keywordtype}{double} half\_clock\_interval\_sec;
1161     half\_clock\_interval\_sec = \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} * ( 4.0 + ((double) half\_clock\_interval ) );
1162     \textcolor{keywordflow}{return} half\_clock\_interval\_sec;
1163 \}
\end{DoxyCode}
\hypertarget{idi_8c_afa3ba21357311aece5c1f86706a36338}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Commit@{S\+P\+I\+\_\+\+Commit}}
\index{S\+P\+I\+\_\+\+Commit@{S\+P\+I\+\_\+\+Commit}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Commit}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Commit (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{chip\+\_\+select}
\end{DoxyParamCaption}
)}}\label{idi_8c_afa3ba21357311aece5c1f86706a36338}


Sets/\+Clears the chip select or used to commit the transmit/write F\+I\+F\+O to the spi interface. The mode of operation is dependent on the chip\+\_\+select\+\_\+behavior. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+select} & Used to write to the S\+C\+S\+\_\+\+C\+O\+M\+M\+I\+T bit. Its behavior is dependent on the chip\+\_\+select\+\_\+behavior. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1606 of file idi.\+c.



References I\+O\+\_\+\+Write\+\_\+\+U8(), and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper().


\begin{DoxyCode}
1607 \{
1608     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1609     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_COMMIT, chip\_select );
1610     \textcolor{keywordflow}{return} SUCCESS;
1611 \}
\end{DoxyCode}
\hypertarget{idi_8c_a7fcdc0355d1d9273d7ac18bd6e8a6763}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get}}
\index{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{{\bf S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M} $\ast$}]{chip\+\_\+select\+\_\+behavior}
\end{DoxyParamCaption}
)}}\label{idi_8c_a7fcdc0355d1d9273d7ac18bd6e8a6763}


Extracts the chip select behavior from the S\+P\+I configuration register. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em chip\+\_\+select\+\_\+behavior} & pointer to the destination of the value obtained. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1211 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8(), and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().


\begin{DoxyCode}
1212 \{
1213     uint8\_t     scratch;
1214 
1215     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1216 
1217     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_CONFIG, &scratch );
1218 
1219     *chip\_select\_behavior = (\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM}) ( scratch >> 4 ) & 0x07;
1220     \textcolor{keywordflow}{return} SUCCESS;
1221 \}
\end{DoxyCode}
\hypertarget{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set}}
\index{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set (
\begin{DoxyParamCaption}
\item[{{\bf S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}}]{chip\+\_\+select\+\_\+behavior}
\end{DoxyParamCaption}
)}}\label{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}


Sets the chip select behavior to the S\+P\+I configuration register. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em chip\+\_\+select\+\_\+behavior} & enumerated value to be written to the register. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1231 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8(), I\+O\+\_\+\+Write\+\_\+\+U8(), and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D(), F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().


\begin{DoxyCode}
1232 \{
1233     uint8\_t     scratch;
1234 
1235     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1236 
1237     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_CONFIG, &scratch );
1238 
1239     scratch &= 0x70;
1240     scratch |= (uint8\_t) ( ( chip\_select\_behavior & 0x07 ) << 4 );
1241 
1242     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_CONFIG, scratch );
1243     \textcolor{keywordflow}{return} SUCCESS;
1244 \}
\end{DoxyCode}
\hypertarget{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Configuration\+\_\+\+Get@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Get}}
\index{S\+P\+I\+\_\+\+Configuration\+\_\+\+Get@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Configuration\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Configuration\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+cfg} $\ast$}]{cfg}
\end{DoxyParamCaption}
)}}\label{idi_8c_a59b98a79cf5c0821e12ab088d76f355f}


Obtains the S\+P\+I configuration from the hardware. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em cfg} & S\+P\+I configuration data structure or data set \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1309 of file idi.\+c.



References spi\+\_\+cfg\+::chip\+\_\+select\+\_\+behavior, spi\+\_\+cfg\+::clock\+\_\+hz, C\+L\+O\+C\+K\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+S\+E\+C, spi\+\_\+cfg\+::end\+\_\+cycle\+\_\+delay, spi\+\_\+cfg\+::end\+\_\+delay\+\_\+ns, spi\+\_\+cfg\+::half\+\_\+clock\+\_\+interval, I\+O\+\_\+\+Read\+\_\+\+U8(), spi\+\_\+cfg\+::sclk\+\_\+phase, spi\+\_\+cfg\+::sclk\+\_\+polarity, spi\+\_\+cfg\+::sdi\+\_\+polarity, spi\+\_\+cfg\+::sdio\+\_\+wrap, spi\+\_\+cfg\+::sdo\+\_\+polarity, idi\+\_\+dataset\+::spi\+\_\+cfg, and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity().


\begin{DoxyCode}
1310 \{
1311     uint8\_t     scratch;
1312 
1313     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1314 
1315     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_CONFIG, &scratch );
1316     cfg->\hyperlink{structspi__cfg_aede15f437dcd3a33a5605c71b3bf3801}{chip\_select\_behavior}   = (\hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM}) ( scratch >> 4 ) & 0x07;
1317     cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity}         = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}) ( scratch & 0x01 );
1318     cfg->\hyperlink{structspi__cfg_a2613a037b4632a6d74e89aeb62d12344}{sclk\_phase}               = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}) ( scratch & 0x02 );
1319     cfg->\hyperlink{structspi__cfg_a010045ad60dc510daa368259399de229}{sdi\_polarity}           = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}) ( scratch & 0x04 );
1320     cfg->\hyperlink{structspi__cfg_abbceffb19dd814b30b890c4c3710a229}{sdo\_polarity}           = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}) ( scratch & 0x08 );
1321     cfg->\hyperlink{structspi__cfg_a7cd0897d273b604ea90aaf525ca5d318}{sdio\_wrap}             = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}) ( scratch & 0x80 );
1322 
1323     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_HCI\_LSB, &scratch );
1324     cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} = (uint16\_t) scratch;
1325     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_HCI\_MSB, &scratch );
1326     cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} |= ( (uint16\_t) scratch) << 8;
1327 
1328     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_ECD, &(cfg->\hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay}) );
1329 
1330     cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz} = 1.0 / ( 2.0 * \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} * ( 4.0 + ((double) cfg->
      \hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval}) ) );
1331     cfg->\hyperlink{structspi__cfg_adc10d917ca7551b41164711a54684a51}{end\_delay\_ns} = 1.0e9 * \hyperlink{idi_8c_a2a635742326b18bb61d409dfdb7f294b}{CLOCK\_PERIOD\_SEC} * 4.0 + 0.5 * ((double) cfg->
      \hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay}) / cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz};
1332 
1333     memcpy( &(\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a524ca5c3ea3d76688ccecb7f299f31f4}{spi\_cfg}), &cfg, \textcolor{keyword}{sizeof}( \textcolor{keyword}{struct} 
      \hyperlink{structspi__cfg}{spi\_cfg} ) );
1334     \textcolor{keywordflow}{return} SUCCESS;
1335 \}
\end{DoxyCode}
\hypertarget{idi_8c_a3e3475d2cc10efb49b125c2abb27ca09}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize}}
\index{S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Configuration\+\_\+\+Initialize (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+cfg} $\ast$}]{cfg}
\end{DoxyParamCaption}
)}}\label{idi_8c_a3e3475d2cc10efb49b125c2abb27ca09}


Initializes the S\+P\+I configuration data structure. 

\mbox{[}in\mbox{]} cfg Pointer to the S\+P\+I configuration data structure to be initialized \begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1408 of file idi.\+c.



References spi\+\_\+cfg\+::chip\+\_\+select\+\_\+behavior, spi\+\_\+cfg\+::clock\+\_\+hz, spi\+\_\+cfg\+::end\+\_\+cycle\+\_\+delay, spi\+\_\+cfg\+::end\+\_\+delay\+\_\+ns, spi\+\_\+cfg\+::half\+\_\+clock\+\_\+interval, spi\+\_\+cfg\+::sclk\+\_\+phase, spi\+\_\+cfg\+::sclk\+\_\+polarity, spi\+\_\+cfg\+::sdi\+\_\+polarity, spi\+\_\+cfg\+::sdio\+\_\+wrap, and spi\+\_\+cfg\+::sdo\+\_\+polarity.


\begin{DoxyCode}
1409 \{
1410     cfg->\hyperlink{structspi__cfg_a7cd0897d273b604ea90aaf525ca5d318}{sdio\_wrap}                 = \textcolor{keyword}{false};
1411     cfg->\hyperlink{structspi__cfg_abbceffb19dd814b30b890c4c3710a229}{sdo\_polarity}           = \textcolor{keyword}{false};
1412     cfg->\hyperlink{structspi__cfg_a010045ad60dc510daa368259399de229}{sdi\_polarity}           = \textcolor{keyword}{false};
1413     \textcolor{comment}{/*  Mode    CPOL    CPHA}
1414 \textcolor{comment}{     *   0       0       0}
1415 \textcolor{comment}{     *   1       0       1}
1416 \textcolor{comment}{     *   2       1       0}
1417 \textcolor{comment}{     *   3       1       1}
1418 \textcolor{comment}{     */}
1419     cfg->\hyperlink{structspi__cfg_a2613a037b4632a6d74e89aeb62d12344}{sclk\_phase}           = \textcolor{keyword}{false};   \textcolor{comment}{/* the FRAM uses SPI Mode 0 or 3 */}
1420     cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity}             = \textcolor{keyword}{false};
1421 
1422     cfg->\hyperlink{structspi__cfg_aede15f437dcd3a33a5605c71b3bf3801}{chip\_select\_behavior}   = \textcolor{keyword}{false};
1423     cfg->\hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay}         = 0;        \textcolor{comment}{/* shortest delay possible      */}
1424     cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval}     = 0;        \textcolor{comment}{/* shortest interval possible   */}
1425 
1426     cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz}               = 0.0;
1427     cfg->\hyperlink{structspi__cfg_adc10d917ca7551b41164711a54684a51}{end\_delay\_ns}           = 0.0;
1428 
1429     \textcolor{keywordflow}{return} SUCCESS;
1430 \}
\end{DoxyCode}
\hypertarget{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Configuration\+\_\+\+Set@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Set}}
\index{S\+P\+I\+\_\+\+Configuration\+\_\+\+Set@{S\+P\+I\+\_\+\+Configuration\+\_\+\+Set}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Configuration\+\_\+\+Set}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Configuration\+\_\+\+Set (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+cfg} $\ast$}]{cfg}
\end{DoxyParamCaption}
)}}\label{idi_8c_a5817326fd7bd59487a4fefc89ecbc4d3}


Commits the configuration data structure to the hardware. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cfg} & The software configuration data structure to be committed to hardware \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1254 of file idi.\+c.



References spi\+\_\+cfg\+::chip\+\_\+select\+\_\+behavior, spi\+\_\+cfg\+::clock\+\_\+hz, spi\+\_\+cfg\+::end\+\_\+cycle\+\_\+delay, spi\+\_\+cfg\+::end\+\_\+delay\+\_\+ns, spi\+\_\+cfg\+::half\+\_\+clock\+\_\+interval, I\+O\+\_\+\+Write\+\_\+\+U8(), spi\+\_\+cfg\+::sclk\+\_\+phase, spi\+\_\+cfg\+::sclk\+\_\+polarity, spi\+\_\+cfg\+::sdi\+\_\+polarity, spi\+\_\+cfg\+::sdio\+\_\+wrap, spi\+\_\+cfg\+::sdo\+\_\+polarity, S\+P\+I\+\_\+\+Calculate\+\_\+\+Clock(), S\+P\+I\+\_\+\+Calculate\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay(), S\+P\+I\+\_\+\+Calculate\+\_\+\+Half\+\_\+\+Clock\+\_\+\+Interval\+\_\+\+Sec(), idi\+\_\+dataset\+::spi\+\_\+cfg, and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Clock\+\_\+\+Hz(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+End\+\_\+\+Cycle\+\_\+\+Delay\+\_\+\+Sec(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Mode(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity().


\begin{DoxyCode}
1255 \{
1256     \textcolor{keywordtype}{int}         error\_code;
1257     \textcolor{keywordtype}{double}      scratch;
1258     \textcolor{keywordtype}{double}      hci\_sec;     \textcolor{comment}{/* half clock interval in seconds */}
1259     uint8\_t     config;
1260 
1261     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1262 
1263     config = (uint8\_t) ( ( cfg->\hyperlink{structspi__cfg_aede15f437dcd3a33a5605c71b3bf3801}{chip\_select\_behavior} & 0x07 ) << 4 );
1264     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity} ) config |= 0x01;
1265     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_a2613a037b4632a6d74e89aeb62d12344}{sclk\_phase}    ) config |= 0x02;
1266     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_a010045ad60dc510daa368259399de229}{sdi\_polarity}  ) config |= 0x04;
1267     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_abbceffb19dd814b30b890c4c3710a229}{sdo\_polarity}  ) config |= 0x08;
1268     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_a7cd0897d273b604ea90aaf525ca5d318}{sdio\_wrap}     ) config |= 0x80;
1269 
1270     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_CONFIG, config );
1271 
1272     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz} > 0 )
1273     \{ \textcolor{comment}{/* compute half\_clock\_interval */}
1274         \textcolor{comment}{//scratch = ( 1.0 - ( 8.0 * CLOCK\_PERIOD\_SEC * cfg->clock\_hz ) ) / (  2.0 * CLOCK\_PERIOD\_SEC *
       cfg->clock\_hz );}
1275         error\_code = \hyperlink{idi_8c_ad86d10585f6c367cfc4490a5366f1d25}{SPI\_Calculate\_Clock}( cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz}, NULL, NULL, &(cfg->
      \hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval}) );
1276         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
1277     \}
1278     hci\_sec = \hyperlink{idi_8c_a8130129973acaff19c9b1cfd5955d12d}{SPI\_Calculate\_Half\_Clock\_Interval\_Sec}( cfg->
      \hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} );
1279 
1280     \textcolor{keywordflow}{if} ( cfg->\hyperlink{structspi__cfg_adc10d917ca7551b41164711a54684a51}{end\_delay\_ns} > 0 )
1281     \{
1282         scratch    = cfg->\hyperlink{structspi__cfg_adc10d917ca7551b41164711a54684a51}{end\_delay\_ns} * 1.0e-9;
1283         error\_code = \hyperlink{idi_8c_a50b862cbcc29146e70e7543208ca7e81}{SPI\_Calculate\_End\_Cycle\_Delay}( hci\_sec,               \textcolor{comment}{/*
       calculated half-clock interval     */}
1284                                                     scratch,                \textcolor{comment}{/* requested end-delay interval
             */}
1285                                                     NULL,                   \textcolor{comment}{/*  computed actual delay      
             */}
1286                                                     NULL,                   \textcolor{comment}{/* error between actual and
       desired   */}
1287                                                     &(cfg->\hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay}) \textcolor{comment}{/* computed
       count                     */}
1288                                                    );
1289         \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
1290     \}
1291 
1292     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_HCI\_LSB, (uint8\_t)( cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} & 0xFF ) );
1293     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_HCI\_MSB, (uint8\_t)( cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} >> 8   ) );
1294     \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_ECD, cfg->\hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay} );
1295 
1296     memcpy( &(\hyperlink{structidi__dataset}{idi\_dataset}.\hyperlink{structidi__dataset_a524ca5c3ea3d76688ccecb7f299f31f4}{spi\_cfg}), &cfg, \textcolor{keyword}{sizeof}( \textcolor{keyword}{struct} 
      \hyperlink{structspi__cfg}{spi\_cfg} ) );
1297 
1298     \textcolor{keywordflow}{return} SUCCESS;
1299 \}
\end{DoxyCode}
\hypertarget{idi_8c_a0dc0c4180557014ec4c687dcc8d326e7}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Data\+\_\+\+Read@{S\+P\+I\+\_\+\+Data\+\_\+\+Read}}
\index{S\+P\+I\+\_\+\+Data\+\_\+\+Read@{S\+P\+I\+\_\+\+Data\+\_\+\+Read}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Data\+\_\+\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Data\+\_\+\+Read (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{rx\+\_\+buffer, }
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{rx\+\_\+size, }
\item[{F\+I\+L\+E $\ast$}]{fd\+\_\+log}
\end{DoxyParamCaption}
)}}\label{idi_8c_a0dc0c4180557014ec4c687dcc8d326e7}


Special case of Write/\+Read that has a function signature same as fread() or fwrite(). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cfg} & pass in the configuration to be written to hardware. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a nonzero if successful, else return zero.

A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em size} & object size \\
\hline
{\em rx\+\_\+size} & object count \\
\hline
{\em fd\+\_\+log} & set to N\+U\+L\+L if no file logging \\
\hline
\end{DoxyParams}


Definition at line 2023 of file idi.\+c.



References S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().


\begin{DoxyCode}
2028 \{
2029     \textcolor{keywordtype}{int} error\_code;
2030     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}(    size,
2031                                         0,      \textcolor{comment}{/* nothing to transmit */}
2032                                         NULL,   \textcolor{comment}{/* nothing to transmit */}
2033                                         rx\_size,
2034                                         rx\_buffer
2035                                     );
2036     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2037 
2038     \textcolor{keywordflow}{if} ( NULL != fd\_log )
2039     \{
2040         error\_code = fwrite( rx\_buffer, size, rx\_size, fd\_log );
2041     \}
2042     \textcolor{keywordflow}{return} error\_code;
2043 \}
\end{DoxyCode}
\hypertarget{idi_8c_a7e1e8c7428f97d95c1048515aa248ab0}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Data\+\_\+\+Write@{S\+P\+I\+\_\+\+Data\+\_\+\+Write}}
\index{S\+P\+I\+\_\+\+Data\+\_\+\+Write@{S\+P\+I\+\_\+\+Data\+\_\+\+Write}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Data\+\_\+\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Data\+\_\+\+Write (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{tx\+\_\+buffer, }
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{tx\+\_\+count, }
\item[{F\+I\+L\+E $\ast$}]{fd\+\_\+log}
\end{DoxyParamCaption}
)}}\label{idi_8c_a7e1e8c7428f97d95c1048515aa248ab0}


Special case of Write/\+Read that has a function signature same as fread() or fwrite(). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cfg} & pass in the configuration to be written to hardware. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a nonzero if successful, else return zero.

A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em size} & object size \\
\hline
{\em tx\+\_\+count} & object count \\
\hline
{\em fd\+\_\+log} & set to N\+U\+L\+L if no file logging \\
\hline
\end{DoxyParams}


Definition at line 1987 of file idi.\+c.



References S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().


\begin{DoxyCode}
1992 \{
1993     \textcolor{keywordtype}{int} error\_code;
1994     error\_code = \hyperlink{idi_8c_aef976bb6ba5348e01e604c1165de7842}{SPI\_Data\_Write\_Read}(    size,
1995                                         tx\_count,
1996                                         tx\_buffer,
1997                                         0,          \textcolor{comment}{/* nothing to receive */}
1998                                         NULL        \textcolor{comment}{/* nothing to receive */}
1999                                     );
2000     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
2001 
2002     \textcolor{keywordflow}{if} ( NULL != fd\_log )
2003     \{
2004         error\_code = fwrite( tx\_buffer, size, tx\_count, fd\_log );
2005     \}
2006     \textcolor{keywordflow}{return} error\_code;
2007 \}
\end{DoxyCode}
\hypertarget{idi_8c_aef976bb6ba5348e01e604c1165de7842}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read@{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read}}
\index{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read@{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{tx\+\_\+count, }
\item[{const void $\ast$}]{tx\+\_\+buffer, }
\item[{size\+\_\+t}]{rx\+\_\+size, }
\item[{const void $\ast$}]{rx\+\_\+buffer}
\end{DoxyParamCaption}
)}}\label{idi_8c_aef976bb6ba5348e01e604c1165de7842}


This function will write/read virtually any kind of data with almost any kind of chips select wrapping surrounding the data. 

\begin{DoxyReturn}{Returns}
a zero if successful, else return an error code.

A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em size} & object size\+: 1=u8, 2=u16, 4=u16, 8=u64, 16=u128=S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E \\
\hline
{\em tx\+\_\+count} & object count \\
\hline
{\em rx\+\_\+size} & object count \\
\hline
\end{DoxyParams}


Definition at line 1856 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8, S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, and S\+P\+I\+\_\+\+Is\+Not\+Present().



Referenced by F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+I\+D(), F\+R\+A\+M\+\_\+\+\_\+\+Read\+\_\+\+Status\+\_\+\+Register(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Disable(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Enable\+\_\+\+Latch\+\_\+\+Set(), F\+R\+A\+M\+\_\+\+\_\+\+Write\+\_\+\+Status\+\_\+\+Register(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Data(), S\+P\+I\+\_\+\+Data\+\_\+\+Read(), and S\+P\+I\+\_\+\+Data\+\_\+\+Write().


\begin{DoxyCode}
1862 \{
1863     \textcolor{keywordtype}{int}                 error\_code;
1864     \textcolor{keywordtype}{int}                 index;
1865     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}                active\_tx;
1866     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}                active\_rx;
1867     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM}        csb\_copy;
1868     \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101d}{SPI\_CSB\_ENUM}        csb;
1869     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}                csb\_buffer\_mode\_override;
1870 
1871 \textcolor{comment}{/* TEST FOR VALIDITY OF PARAMETERS */}
1872     \textcolor{comment}{/* see if there is anything to do */}
1873     \textcolor{keywordflow}{if} ( ( NULL == tx\_buffer ) && ( NULL == rx\_buffer ) ) \textcolor{keywordflow}{return} SUCCESS;
1874 
1875     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1876 
1877     \textcolor{comment}{/* initialize parameters */}
1878     error\_code = \hyperlink{idi_8c_a7fcdc0355d1d9273d7ac18bd6e8a6763}{SPI\_Configuration\_Chip\_Select\_Behavior\_Get}( &csb
       );
1879     \textcolor{keywordflow}{if} ( error\_code ) \textcolor{keywordflow}{return} error\_code;
1880     \textcolor{comment}{//error\_code = SPI\_Status\_Write( &status\_tx );}
1881     \textcolor{comment}{//if ( error\_code ) return error\_code;}
1882     \textcolor{comment}{//error\_code = SPI\_Status\_Read( &status\_rx );}
1883     \textcolor{comment}{//if ( error\_code ) return error\_code;}
1884 
1885     active\_rx = \textcolor{keyword}{false}; \textcolor{comment}{/* assume that we toss any data to be read out */}
1886     active\_tx = \textcolor{keyword}{false}; \textcolor{comment}{/* assume that we have no valid data to write  */}
1887     \textcolor{keywordflow}{if} ( NULL != tx\_buffer ) active\_tx = \textcolor{keyword}{true};
1888     \textcolor{keywordflow}{else}                     tx\_count  = rx\_size;
1889     \textcolor{keywordflow}{if} ( NULL != rx\_buffer ) active\_rx = \textcolor{keyword}{true};
1890     \textcolor{keywordflow}{else}                     rx\_size   = tx\_count;
1891 
1892 
1893     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16} == csb )
1894     \{ \textcolor{comment}{/* test for even quantity of bytes to transceive */}
1895         \textcolor{keywordflow}{if} ( ( tx\_count & 0x01 ) || ( rx\_size & 0x01 ) )
1896         \{ \textcolor{comment}{/* odd number of bytes detected for buffers */}
1897             \textcolor{keywordflow}{return} -EC\_SPI\_BUFFER\_SIZE\_ODD;
1898         \}
1899     \}
1900 
1901     csb\_buffer\_mode\_override = \textcolor{keyword}{false};
1902     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER} == csb )
1903     \{ \textcolor{comment}{/* test for object size */}
1904         \textcolor{keywordflow}{if} ( size > \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} ) \textcolor{keywordflow}{return} -EC\_SPI\_OBJECT\_SIZE;
1905     \}
1906     \textcolor{keywordflow}{else}
1907     \{
1908         \textcolor{comment}{/* test object sizes */}
1909         index = \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};  \textcolor{comment}{/* assumed to be a 2^N number */}
1910         \textcolor{keywordflow}{while} ( index > \textcolor{keyword}{sizeof}( uint16\_t ) )
1911         \{
1912             \textcolor{keywordflow}{if} ( size == ( size & index ) )
1913             \{
1914                 csb\_buffer\_mode\_override = \textcolor{keyword}{true};
1915                 \textcolor{keywordflow}{break};
1916             \}
1917             index = index >> 1;
1918         \}
1919         \textcolor{keywordflow}{if} ( ( size > 2 ) && ( \textcolor{keyword}{false} == csb\_buffer\_mode\_override ) )
1920         \{
1921             \textcolor{keywordflow}{return} -EC\_SPI\_OBJECT\_SIZE; \textcolor{comment}{/* not a power of 2 */}
1922         \}
1923         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \textcolor{keyword}{true} == csb\_buffer\_mode\_override )
1924         \{ \textcolor{comment}{/* OK, go ahead and change to buffer mode */}
1925             csb\_copy   = csb;
1926             csb        = \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER};
1927             error\_code = \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}
      ( csb );
1928         \}
1929     \}
1930 
1931 \textcolor{comment}{/* PERFORM TRANSACTIONS */}
1932     \textcolor{keywordflow}{switch}( csb )
1933     \{
1934         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE}:
1935         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{IDI\_CSB\_UINT8}:
1936         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16}:
1937             error\_code = \hyperlink{idi_8c_a3bbc3691f100386d03819418bd7f7a59}{SPI\_Data\_Write\_Read\_Helper}( size,
1938                                                      tx\_count,
1939                                                      tx\_buffer,
1940                                                      rx\_size,
1941                                                      rx\_buffer,
1942                                                      active\_tx,
1943                                                      active\_rx,
1944                                                      csb
1945                                                    );
1946             \textcolor{keywordflow}{break};
1947         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER}:
1948             \textcolor{keywordflow}{for} ( index = 0; index < tx\_count; index++ )
1949             \{
1950                 error\_code = \hyperlink{idi_8c_a3bbc3691f100386d03819418bd7f7a59}{SPI\_Data\_Write\_Read\_Helper}( size,
1951                                                          1,
1952                                                          active\_tx ? &(((uint8\_t *) tx\_buffer)[index*size])
       : NULL,
1953                                                          1,
1954                                                          active\_rx ? &(((uint8\_t *) rx\_buffer)[index*size])
       : NULL,
1955                                                          active\_tx,
1956                                                          active\_rx,
1957                                                          csb
1958                                                        );
1959             \}
1960             \textcolor{keywordflow}{if} ( csb\_buffer\_mode\_override )
1961             \{ \textcolor{comment}{/* restore to original csb */}
1962                 error\_code = \hyperlink{idi_8c_a09d78e0d3846eef0f05a56ac361bbfeb}{SPI\_Configuration\_Chip\_Select\_Behavior\_Set}
      ( csb\_copy );
1963             \}
1964             \textcolor{keywordflow}{break};
1965         \textcolor{keywordflow}{default}:
1966             \textcolor{keywordflow}{return} -EC\_SPI\_CSB\_OUT\_OF\_RANGE;
1967             \textcolor{keywordflow}{break};
1968     \}
1969     \textcolor{keywordflow}{return} SUCCESS;
1970 \}
\end{DoxyCode}
\hypertarget{idi_8c_a3bbc3691f100386d03819418bd7f7a59}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper@{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper}}
\index{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper@{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper}]{\setlength{\rightskip}{0pt plus 5cm}static int S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{tx\+\_\+count, }
\item[{const void $\ast$}]{tx\+\_\+buffer, }
\item[{size\+\_\+t}]{rx\+\_\+size, }
\item[{const void $\ast$}]{rx\+\_\+buffer, }
\item[{{\bf B\+O\+O\+L}}]{active\+\_\+tx, }
\item[{{\bf B\+O\+O\+L}}]{active\+\_\+rx, }
\item[{{\bf S\+P\+I\+\_\+\+C\+S\+B\+\_\+\+E\+N\+U\+M}}]{csb}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a3bbc3691f100386d03819418bd7f7a59}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em size} & object size\+: u8 = 1, u16 = 2 \\
\hline
{\em tx\+\_\+count} & object count \\
\hline
{\em rx\+\_\+size} & object count \\
\hline
\end{DoxyParams}


Definition at line 1716 of file idi.\+c.



References I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, I\+O\+\_\+\+Read\+\_\+\+U8(), I\+O\+\_\+\+Write\+\_\+\+U8(), S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status().



Referenced by S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read().


\begin{DoxyCode}
1725 \{
1726     \textcolor{keywordtype}{size\_t}  rx\_bytes\_available;
1727     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    rx\_empty;
1728     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    tx\_full;
1729     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    tx\_empty;
1730     \textcolor{keywordtype}{size\_t}  tx\_bytes\_available;
1731     \textcolor{keywordtype}{size\_t}  tx\_index;
1732     \textcolor{keywordtype}{size\_t}  rx\_index;
1733     \textcolor{keywordtype}{size\_t}  index;
1734     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    commit\_valid;
1735     uint8\_t bit\_bucket; \textcolor{comment}{/* tossed */}
1736 
1737     \textcolor{comment}{/* verify size information */}
1738     \textcolor{keywordflow}{switch} ( size )
1739     \{
1740         \textcolor{keywordflow}{case} \textcolor{keyword}{sizeof}( uint8\_t  ):
1741         \textcolor{keywordflow}{case} \textcolor{keyword}{sizeof}( uint16\_t ):
1742             \textcolor{keywordflow}{break}; \textcolor{comment}{/* these sizes are OK */}
1743         \textcolor{keywordflow}{default}:
1744             \textcolor{keywordflow}{return} -EC\_SPI\_OBJECT\_SIZE;
1745             \textcolor{keywordflow}{break};
1746     \}
1747 
1748     \textcolor{comment}{/* initially need to make sure that both TX and RX are empty */}
1749     \textcolor{keywordflow}{do}
1750     \{ \textcolor{comment}{//TODO: need a time out of some sort here and then return an error code.}
1751         \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{SPI\_Status\_Write\_FIFO\_Status}( &tx\_full, &tx\_empty, &tx\_bytes\_available 
      );
1752         \textcolor{keywordflow}{if} ( \textcolor{keyword}{false} == tx\_empty ) \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0xFF );
1753     \} \textcolor{keywordflow}{while} ( \textcolor{keyword}{false} == tx\_empty );
1754 
1755     \textcolor{keywordflow}{do}
1756     \{ \textcolor{comment}{//TODO: need a time out of some sort here and then return an error code.}
1757         \hyperlink{idi_8c_a4f457883748297218a1a747a01671790}{SPI\_Status\_Read\_FIFO\_Status}( &rx\_empty, &rx\_bytes\_available );
1758         \textcolor{keywordflow}{if} ( \textcolor{keyword}{false} == rx\_empty ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &bit\_bucket  ); \textcolor{comment}{/* toss */}
1759     \} \textcolor{keywordflow}{while} ( \textcolor{keyword}{false} == rx\_empty );
1760 
1761     tx\_index     = 0;
1762     rx\_index     = 0;
1763     commit\_valid = \textcolor{keyword}{false};
1764     \textcolor{keywordflow}{while} ( tx\_index < tx\_count )
1765     \{
1766         \textcolor{comment}{/* get status simultaneously */}
1767         \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{SPI\_Status\_Write\_FIFO\_Status}( &tx\_full, &tx\_empty, &tx\_bytes\_available 
      );
1768         \textcolor{keywordflow}{if} ( (\textcolor{keyword}{true} == tx\_full) && (\textcolor{keyword}{false} == commit\_valid) )
1769         \{
1770             \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE} != csb ) \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0xFF ); \textcolor{comment}{/* does not matter
       what is written */}
1771             commit\_valid = \textcolor{keyword}{true};
1772         \}
1773         \textcolor{keywordflow}{if} ( (\textcolor{keyword}{true} == tx\_empty) && (\textcolor{keyword}{true} == commit\_valid) )
1774         \{
1775             commit\_valid = \textcolor{keyword}{false}; \textcolor{comment}{/* will need to restart the buffer transmission */}
1776         \}
1777         \textcolor{comment}{/* Write Data}
1778 \textcolor{comment}{         *}
1779 \textcolor{comment}{         */}
1780         \textcolor{keywordflow}{if} ( tx\_bytes\_available > size )
1781         \{   \textcolor{comment}{/* write data */}
1782             \textcolor{keywordflow}{if} ( active\_tx )
1783             \{
1784             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_DATA, ((uint8\_t *) 
      tx\_buffer)[tx\_index] );
1785             \}
1786             \textcolor{keywordflow}{else}
1787             \{
1788             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_DATA, 0x00 ); \textcolor{comment}{/* send
       anything */}
1789             \}
1790             tx\_index = tx\_index + size;
1791         \}
1792         \textcolor{comment}{/* Read Data}
1793 \textcolor{comment}{         *  This function will play catch up with respect to the transmit side.}
1794 \textcolor{comment}{         */}
1795         \textcolor{comment}{/* get status simultaneously */}
1796         \hyperlink{idi_8c_a4f457883748297218a1a747a01671790}{SPI\_Status\_Read\_FIFO\_Status}( &rx\_empty, &rx\_bytes\_available );
1797         \textcolor{keywordflow}{if} ( rx\_bytes\_available >= size )
1798         \{ \textcolor{comment}{/* read data */}
1799             \textcolor{keywordflow}{if} ( active\_rx )
1800             \{
1801             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &(((uint8\_t *) 
      rx\_buffer)[rx\_index]) );
1802             \}
1803             \textcolor{keywordflow}{else}
1804             \{
1805             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &bit\_bucket ); \textcolor{comment}{/* toss
       */}
1806             \}
1807             rx\_index = rx\_index + size;
1808         \}
1809     \}
1810 
1811     \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{SPI\_Status\_Write\_FIFO\_Status}( &tx\_full, &tx\_empty, &tx\_bytes\_available );
1812     \textcolor{keywordflow}{if} ( (\textcolor{keyword}{false} == commit\_valid) && (\textcolor{keyword}{false} == tx\_empty) )
1813     \{ \textcolor{comment}{/* data has not been transmitted yet */}
1814         \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE} != csb ) \hyperlink{idi_8c_afa3ba21357311aece5c1f86706a36338}{SPI\_Commit}( 0xFF ); \textcolor{comment}{/* does not matter
       what is written */}
1815         \textcolor{comment}{/* wait for the buffer to empty */}
1816         \textcolor{keywordflow}{do}
1817         \{ \textcolor{comment}{//TODO: need a timeout and return error code if timeout exceeded.}
1818             \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{SPI\_Status\_Write\_FIFO\_Status}( &tx\_full, &tx\_empty, &
      tx\_bytes\_available );
1819         \} \textcolor{keywordflow}{while} ( \textcolor{keyword}{false} == tx\_empty );
1820     \}
1821 
1822     \textcolor{comment}{/* retrieve the remaining read data and don't return until we are done */}
1823     \textcolor{keywordflow}{while} ( rx\_index != tx\_index )
1824     \{ \textcolor{comment}{//TODO: timeout mechanism????}
1825         \hyperlink{idi_8c_a4f457883748297218a1a747a01671790}{SPI\_Status\_Read\_FIFO\_Status}( &rx\_empty, &rx\_bytes\_available );
1826         \textcolor{keywordflow}{if} ( rx\_bytes\_available >= size )
1827         \{ \textcolor{comment}{/* read data */}
1828             \textcolor{keywordflow}{if} ( active\_rx )
1829             \{
1830             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &(((uint8\_t *) 
      rx\_buffer)[rx\_index]) );
1831             \}
1832             \textcolor{keywordflow}{else}
1833             \{
1834             \textcolor{keywordflow}{for} ( index = 0; index < size; index++ ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &bit\_bucket ); \textcolor{comment}{/* toss
       */}
1835             \}
1836             rx\_index = rx\_index + size;
1837         \}
1838     \}
1839     \textcolor{keywordflow}{return} SUCCESS;
1840 \}
\end{DoxyCode}
\hypertarget{idi_8c_acc51bf8337741aa0f73036c6707efc84}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read}}
\index{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{count, }
\item[{F\+I\+L\+E $\ast$}]{fd\+\_\+log}
\end{DoxyParamCaption}
)}}\label{idi_8c_acc51bf8337741aa0f73036c6707efc84}


Reads from the S\+P\+I receive/read data F\+I\+F\+O. It does not attempt to correlate the number of transmit bytes with receive bytes. Its purpose is more for low level hardware testing. Note that this function has a signature identical to the fread() function (i.\+e. make use of function pointers to guide sourcing of data). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buffer} & Buffer for the data destination. \\
\hline
\mbox{\tt in}  & {\em size} & Size of objects in bytes. \\
\hline
\mbox{\tt in}  & {\em count} & Number of objects to be read \\
\hline
\mbox{\tt out}  & {\em fd\+\_\+log} & Optional log file to write the buffer too. If N\+U\+L\+L, then no logging. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned indicating an error. In addition, a positive value is returned indicating the number of actual objects written. 
\end{DoxyReturn}


Definition at line 1677 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, S\+P\+I\+\_\+\+Is\+Not\+Present(), and S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
1678 \{
1679     \textcolor{keywordtype}{int}     error\_code;       \textcolor{comment}{/* used primarily for debug purposes */}
1680     \textcolor{keywordtype}{size\_t}  bytes\_available;
1681     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    \hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty};
1682     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    \hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full};
1683     \textcolor{keywordtype}{size\_t}  index;
1684     \textcolor{keywordtype}{size\_t}  qty\_objects;
1685     \textcolor{keywordtype}{size\_t}  qty\_bytes;
1686 
1687     error\_code = SUCCESS;
1688 
1689     \textcolor{keywordflow}{if} ( (size * count) > \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
1690 
1691     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1692 
1693     \hyperlink{idi_8c_a4f457883748297218a1a747a01671790}{SPI\_Status\_Read\_FIFO\_Status}( &empty, &bytes\_available );
1694 
1695     qty\_objects =  bytes\_available / size; \textcolor{comment}{/* max number of objects that can be processed */}
1696     \textcolor{keywordflow}{if} ( count > qty\_objects ) count = qty\_objects;
1697 
1698     qty\_bytes = count * size;
1699 
1700     \textcolor{keywordflow}{for} ( index = 0; index < qty\_bytes; index++ ) \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_DATA, &(((uint8\_t *) buffer)[
      index]) );
1701 
1702     \textcolor{keywordflow}{if} ( NULL != fd\_log )
1703     \{
1704         error\_code = fwrite( buffer, size, qty\_objects, fd\_log );
1705     \}
1706 
1707     \textcolor{keywordflow}{if} ( SUCCESS == error\_code ) error\_code = ( (int) qty\_objects );
1708     \textcolor{keywordflow}{return} error\_code;
1709 \}
\end{DoxyCode}
\hypertarget{idi_8c_a674bbccb1f788936c394607cd75c59f7}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write}}
\index{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write@{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{size, }
\item[{size\+\_\+t}]{count, }
\item[{F\+I\+L\+E $\ast$}]{fd\+\_\+log}
\end{DoxyParamCaption}
)}}\label{idi_8c_a674bbccb1f788936c394607cd75c59f7}


Writes specifically to the S\+P\+I transmit/write data F\+I\+F\+O. It does not attempt to correlate the number of transmit bytes with receive bytes. Its purpose is more for low level hardware testing. Note that this function has a signature identical to the fwrite() function (i.\+e. make use of function pointers to guide destination of data). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buffer} & Buffer containing the data to be written. \\
\hline
\mbox{\tt in}  & {\em size} & Size of objects in bytes. \\
\hline
\mbox{\tt in}  & {\em count} & Number of objects to be written \\
\hline
\mbox{\tt out}  & {\em fd\+\_\+log} & Optional log file to write the buffer too. If N\+U\+L\+L, then no logging. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned indicating an error. In addition, a positive value is returned indicating the number of actual objects written. 
\end{DoxyReturn}


Definition at line 1628 of file idi.\+c.



References I\+O\+\_\+\+Write\+\_\+\+U8(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, S\+P\+I\+\_\+\+Is\+Not\+Present(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
1629 \{
1630     \textcolor{keywordtype}{int}     error\_code;       \textcolor{comment}{/* used primarily for debug purposes */}
1631     \textcolor{keywordtype}{size\_t}  bytes\_in\_fifo;
1632     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    \hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty};
1633     \hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL}    \hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full};
1634     \textcolor{keywordtype}{size\_t}  index;
1635     \textcolor{keywordtype}{size\_t}  qty\_objects;
1636     \textcolor{keywordtype}{size\_t}  qty\_bytes;
1637 
1638     error\_code = SUCCESS;
1639 
1640     \textcolor{keywordflow}{if} ( (size * count) > \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} ) \textcolor{keywordflow}{return} -EC\_PARAMETER;
1641 
1642     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1643 
1644     \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{SPI\_Status\_Write\_FIFO\_Status}( &full, &empty, &bytes\_in\_fifo );
1645 
1646     qty\_objects =  (\hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} - bytes\_in\_fifo) / size; \textcolor{comment}{/* max number of objects that can
       be processed */}
1647     \textcolor{keywordflow}{if} ( count > qty\_objects ) count = qty\_objects;
1648 
1649     qty\_bytes = count * size;
1650 
1651     \textcolor{keywordflow}{for} ( index = 0; index < qty\_bytes; index++ ) \hyperlink{idi_8c_a335ac0f174d3cfe042d9bda97426616b}{IO\_Write\_U8}( SPI\_DATA, ((uint8\_t *) buffer)[
      index] );
1652 
1653     \textcolor{keywordflow}{if} ( NULL != fd\_log )
1654     \{
1655         error\_code = fwrite( buffer, size, qty\_objects, fd\_log );
1656     \}
1657 
1658     \textcolor{keywordflow}{if} ( SUCCESS == error\_code ) error\_code = ( (int) qty\_objects );
1659     \textcolor{keywordflow}{return} error\_code;
1660 \}
\end{DoxyCode}
\hypertarget{idi_8c_a880aef745d1398d7deb49b45e988ad84}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+I\+D\+\_\+\+Get@{S\+P\+I\+\_\+\+I\+D\+\_\+\+Get}}
\index{S\+P\+I\+\_\+\+I\+D\+\_\+\+Get@{S\+P\+I\+\_\+\+I\+D\+\_\+\+Get}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+I\+D\+\_\+\+Get}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+I\+D\+\_\+\+Get (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t $\ast$}]{id}
\end{DoxyParamCaption}
)}}\label{idi_8c_a880aef745d1398d7deb49b45e988ad84}


Retrieves the S\+P\+I I\+D register value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em id} & The S\+P\+I component I\+D value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1041 of file idi.\+c.



References I\+D\+\_\+\+S\+P\+I, and I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+I\+D(), and S\+P\+I\+\_\+\+Is\+Not\+Present().


\begin{DoxyCode}
1042 \{
1043     uint8\_t     lsb, msb;
1044 
1045     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_ID\_LSB, &lsb );
1046     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_ID\_MSB, &msb );
1047     *\textcolor{keywordtype}{id} = ( ((uint16\_t) msb) << 8 ) | ((uint16\_t) lsb);
1048 \textcolor{preprocessor}{#if defined( ID\_ALWAYS\_REPORT\_AS\_GOOD )}
1049     *\textcolor{keywordtype}{id} = \hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}{ID\_SPI};
1050 \textcolor{preprocessor}{#endif}
1051     \textcolor{keywordflow}{return} SUCCESS;
1052 \}
\end{DoxyCode}
\hypertarget{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Is\+Not\+Present@{S\+P\+I\+\_\+\+Is\+Not\+Present}}
\index{S\+P\+I\+\_\+\+Is\+Not\+Present@{S\+P\+I\+\_\+\+Is\+Not\+Present}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Is\+Not\+Present}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Is\+Not\+Present (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}


Reports if the S\+P\+I component is available within the register space by matching a known I\+D. The S\+P\+I register map is only enabled within the hardware if the hardware mode is not zero (i.\+e. M1 and M0 jumpers on the board provide a nonzero value). 

\begin{DoxyReturn}{Returns}
A zero is returned if the S\+P\+I component I\+D is not found within the register space. 
\end{DoxyReturn}


Definition at line 1062 of file idi.\+c.



References I\+D\+\_\+\+S\+P\+I, and S\+P\+I\+\_\+\+I\+D\+\_\+\+Get().



Referenced by S\+P\+I\+\_\+\+Commit(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Chip\+\_\+\+Select\+\_\+\+Behavior\+\_\+\+Set(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Get(), S\+P\+I\+\_\+\+Configuration\+\_\+\+Set(), S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write(), S\+P\+I\+\_\+\+Status\+\_\+\+Read(), and S\+P\+I\+\_\+\+Status\+\_\+\+Write().


\begin{DoxyCode}
1063 \{
1064     uint16\_t id;
1065     \hyperlink{idi_8c_a880aef745d1398d7deb49b45e988ad84}{SPI\_ID\_Get}( &\textcolor{keywordtype}{id} );
1066     \textcolor{keywordflow}{if} (\hyperlink{idi_8c_adf764cbdea00d65edcd07bb9953ad2b7ade57b137e54adb85a4eedad470a8a87d}{ID\_SPI} == \textcolor{keywordtype}{id} ) \textcolor{keywordflow}{return} 0;
1067     \textcolor{keywordflow}{return} 1;
1068 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9f519b04b7593c82d4037ead8f0e6623}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text@{S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text}}
\index{S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text@{S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Report\+\_\+\+Configuration\+\_\+\+Text (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+cfg} $\ast$}]{cfg, }
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_a9f519b04b7593c82d4037ead8f0e6623}


Creates a human readable report of the S\+P\+I configuration data structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cfg} & S\+P\+I configuration data structure pointer \mbox{[}out\mbox{]} out File destination descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1346 of file idi.\+c.



References spi\+\_\+cfg\+::chip\+\_\+select\+\_\+behavior, spi\+\_\+cfg\+::clock\+\_\+hz, spi\+\_\+cfg\+::end\+\_\+cycle\+\_\+delay, spi\+\_\+cfg\+::end\+\_\+delay\+\_\+ns, spi\+\_\+cfg\+::half\+\_\+clock\+\_\+interval, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+B\+U\+F\+F\+E\+R, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+S\+O\+F\+T\+W\+A\+R\+E, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T16, I\+D\+I\+\_\+\+C\+S\+B\+\_\+\+U\+I\+N\+T8, spi\+\_\+cfg\+::sclk\+\_\+phase, spi\+\_\+cfg\+::sclk\+\_\+polarity, and spi\+\_\+cfg\+::sdi\+\_\+polarity.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+Get().


\begin{DoxyCode}
1347 \{
1348     fprintf( out, \textcolor{stringliteral}{"################################### SPI Configuration:\(\backslash\)n"} );
1349     fprintf( out, \textcolor{stringliteral}{"sdio\_wrap             = %s\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity}   ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1350     fprintf( out, \textcolor{stringliteral}{"sdo\_polarity          = %s\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity}   ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1351     fprintf( out, \textcolor{stringliteral}{"sdi\_polarity          = %s\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a010045ad60dc510daa368259399de229}{sdi\_polarity}     ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1352     fprintf( out, \textcolor{stringliteral}{"sclk\_phase            = %s\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a2613a037b4632a6d74e89aeb62d12344}{sclk\_phase}         ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1353     fprintf( out, \textcolor{stringliteral}{"sclk\_polarity         = %s\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a08a45f7aec9d8b6e59e91a56dc889384}{sclk\_polarity}   ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1354     fprintf( out, \textcolor{stringliteral}{"chip\_select\_behavior  = "} );
1355 
1356     \textcolor{keywordflow}{switch}( cfg->\hyperlink{structspi__cfg_aede15f437dcd3a33a5605c71b3bf3801}{chip\_select\_behavior} )
1357     \{
1358         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da473588067cbc33d34ebe1f6815dcdd4f}{IDI\_CSB\_SOFTWARE}:      fprintf( out, \textcolor{stringliteral}{"IDI\_CSB\_SOFTWARE"} );         \textcolor{keywordflow}{break};
1359         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dab45e8afa970f342353f60ca217b37253}{IDI\_CSB\_BUFFER}:      fprintf( out, \textcolor{stringliteral}{"IDI\_CSB\_BUFFER"} );           \textcolor{keywordflow}{break};
1360         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101da72c215ca12871c8b04f9a1324f80cb2e}{IDI\_CSB\_UINT8}:            fprintf( out, \textcolor{stringliteral}{"IDI\_CSB\_UINT8"} );            \textcolor{keywordflow}{break};
1361         \textcolor{keywordflow}{case} \hyperlink{idi_8c_a4715fd103e903bf93238963a9623101dac825304c7d28288091e65b0e0bfeb440}{IDI\_CSB\_UINT16}:      fprintf( out, \textcolor{stringliteral}{"IDI\_CSB\_UINT16"} );           \textcolor{keywordflow}{break};
1362         \textcolor{keywordflow}{default}:                    fprintf( out, \textcolor{stringliteral}{"undefined"} );                \textcolor{keywordflow}{break};
1363     \}
1364     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
1365 
1366     fprintf( out, \textcolor{stringliteral}{"end\_cycle\_delay       = 0x%02X  (%d)\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay},     cfg->
      \hyperlink{structspi__cfg_a0b6f06a341aa4e9fbbbb33b417b5f722}{end\_cycle\_delay}     );
1367     fprintf( out, \textcolor{stringliteral}{"half\_clock\_interval   = 0x%04X  (%d)\(\backslash\)n"}, cfg->
      \hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval}, cfg->\hyperlink{structspi__cfg_ad8d6adceadaec7f4c92349ec8beb720d}{half\_clock\_interval} );
1368 
1369     fprintf( out, \textcolor{stringliteral}{"clock\_hz              = %f Hz\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_aaed71f77ad7200a8f4bf0f1cdd0fb328}{clock\_hz} );
1370     fprintf( out, \textcolor{stringliteral}{"end\_delay\_ns          = %f ns\(\backslash\)n"}, cfg->\hyperlink{structspi__cfg_adc10d917ca7551b41164711a54684a51}{end\_delay\_ns} );
1371     fprintf( out, \textcolor{stringliteral}{"\(\backslash\)n"} );
1372     \textcolor{keywordflow}{return} SUCCESS;
1373 \}
\end{DoxyCode}
\hypertarget{idi_8c_af783ed809568388ad1d1e0b990458811}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text@{S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text}}
\index{S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text@{S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Report\+\_\+\+Status\+\_\+\+Text (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+status} $\ast$}]{status, }
\item[{F\+I\+L\+E $\ast$}]{out}
\end{DoxyParamCaption}
)}}\label{idi_8c_af783ed809568388ad1d1e0b990458811}


Produces a human readable report of the S\+P\+I status data structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em status} & S\+P\+I status data structure pointer \mbox{[}out\mbox{]} out File destination descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1384 of file idi.\+c.



References spi\+\_\+status\+::empty, spi\+\_\+status\+::fifo\+\_\+count, spi\+\_\+status\+::fifo\+\_\+size, spi\+\_\+status\+::full, and spi\+\_\+status\+::tx\+\_\+status.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status().


\begin{DoxyCode}
1385 \{
1386     fprintf( out, \textcolor{stringliteral}{"################################### SPI "} );
1387     \textcolor{keywordflow}{if} ( status->\hyperlink{structspi__status_a234b821e581a221369b67154e3e7cfa8}{tx\_status} ) fprintf( out, \textcolor{stringliteral}{"TX"} );
1388     \textcolor{keywordflow}{else}                     fprintf( out, \textcolor{stringliteral}{"RX"} );
1389 
1390     fprintf( out, \textcolor{stringliteral}{" Status:\(\backslash\)n"} );
1391 
1392     fprintf( out, \textcolor{stringliteral}{"full       = %s\(\backslash\)n"}, status->\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full}  ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1393     fprintf( out, \textcolor{stringliteral}{"empty      = %s\(\backslash\)n"}, status->\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty} ? \textcolor{stringliteral}{"true"} : \textcolor{stringliteral}{"false"} );
1394     fprintf( out, \textcolor{stringliteral}{"fifo size  = %d\(\backslash\)n"}, status->\hyperlink{structspi__status_a771649fbbbbf3161bbddd4d49db51552}{fifo\_size}                );
1395     fprintf( out, \textcolor{stringliteral}{"fifo count = %d\(\backslash\)n"}, status->\hyperlink{structspi__status_a1515bdf17aa69c23285df7f9637ca30e}{fifo\_count}               );
1396 
1397     \textcolor{keywordflow}{return} SUCCESS;
1398 \}
\end{DoxyCode}
\hypertarget{idi_8c_a0d405a6006a6ef14c53c330e618bc1df}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Read@{S\+P\+I\+\_\+\+Status\+\_\+\+Read}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Read@{S\+P\+I\+\_\+\+Status\+\_\+\+Read}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Status\+\_\+\+Read (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+status} $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{idi_8c_a0d405a6006a6ef14c53c330e618bc1df}


Builds a detailed status data structure of the receive/read incoming S\+P\+I data F\+I\+F\+O. Reports the quantity of bytes currently in the receive F\+I\+F\+O, full flag, empty flag, the total size of the F\+I\+F\+O in bytes, and sets tx\+\_\+status to false indicating that this is status specific to the receive F\+I\+F\+O. 

The status register has the following format\+: status\mbox{[}7\mbox{]} full status\mbox{[}6\mbox{]} empty status\mbox{[}5\mbox{]} not used (future size expansion) status\mbox{[}4\+:0\mbox{]} number of bytes currently in the F\+I\+F\+O


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em status} & Pointer to status data structure to be updated. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1550 of file idi.\+c.



References spi\+\_\+status\+::empty, spi\+\_\+status\+::fifo\+\_\+count, spi\+\_\+status\+::fifo\+\_\+size, spi\+\_\+status\+::full, I\+O\+\_\+\+Read\+\_\+\+U8(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, S\+P\+I\+\_\+\+Is\+Not\+Present(), and spi\+\_\+status\+::tx\+\_\+status.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status().


\begin{DoxyCode}
1551 \{
1552     uint8\_t reg\_value;
1553 
1554     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1555 
1556     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_RX\_STATUS, &reg\_value );
1557     status->\hyperlink{structspi__status_a1515bdf17aa69c23285df7f9637ca30e}{fifo\_count} = (int)( reg\_value & 0x1F );
1558     status->\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full}       = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL})( reg\_value & 0x80 );
1559     status->\hyperlink{structspi__status_a771649fbbbbf3161bbddd4d49db51552}{fifo\_size}  = (int) \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
1560     status->\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty}      = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL})( reg\_value & 0x40 );
1561     status->\hyperlink{structspi__status_a234b821e581a221369b67154e3e7cfa8}{tx\_status}  = \textcolor{keyword}{false};
1562     \textcolor{keywordflow}{return} SUCCESS;
1563 \}
\end{DoxyCode}
\hypertarget{idi_8c_a9f8f3754c67705b230c1f04d390a5900}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty@{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty@{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a9f8f3754c67705b230c1f04d390a5900}


Returns the receive/read F\+I\+F\+O empty status flag. This function is typically used to determine if the F\+I\+F\+O is empty. 

\begin{DoxyReturn}{Returns}
Returns true if the receive/read F\+I\+F\+O is not empty. 
\end{DoxyReturn}


Definition at line 1587 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
1588 \{
1589     uint8\_t reg\_value;
1590 
1591     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_RX\_STATUS, &reg\_value );
1592     \textcolor{keywordflow}{if} ( reg\_value & 0x40 ) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1593     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1594 \}
\end{DoxyCode}
\hypertarget{idi_8c_a4f457883748297218a1a747a01671790}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status@{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status@{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status}]{\setlength{\rightskip}{0pt plus 5cm}void S\+P\+I\+\_\+\+Status\+\_\+\+Read\+\_\+\+F\+I\+F\+O\+\_\+\+Status (
\begin{DoxyParamCaption}
\item[{{\bf B\+O\+O\+L} $\ast$}]{empty, }
\item[{size\+\_\+t $\ast$}]{bytes\+\_\+available}
\end{DoxyParamCaption}
)}}\label{idi_8c_a4f457883748297218a1a747a01671790}


Returns the complete read/receive F\+I\+F\+O status. 

The status register has the following format\+: status\mbox{[}7\mbox{]} full status\mbox{[}6\mbox{]} empty status\mbox{[}5\mbox{]} not used (future size expansion) status\mbox{[}4\+:0\mbox{]} number of bytes currently in the F\+I\+F\+O


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em empty} & F\+I\+F\+O empty flag \\
\hline
\mbox{\tt out}  & {\em bytes\+\_\+available} & a count of the number of bytes in the F\+I\+F\+O \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing 
\end{DoxyReturn}


Definition at line 1524 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper(), and S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Read().


\begin{DoxyCode}
1525 \{
1526     uint8\_t reg\_value;
1527 
1528     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_RX\_STATUS, &reg\_value );
1529     *bytes\_available = (size\_t)( reg\_value & 0x1F );
1530     *\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty}           = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL})( reg\_value & 0x40 );
1531 \}
\end{DoxyCode}
\hypertarget{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Write@{S\+P\+I\+\_\+\+Status\+\_\+\+Write}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Write@{S\+P\+I\+\_\+\+Status\+\_\+\+Write}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int S\+P\+I\+\_\+\+Status\+\_\+\+Write (
\begin{DoxyParamCaption}
\item[{struct {\bf spi\+\_\+status} $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}


Builds a detailed status data structure of the transmit/write outgoing S\+P\+I data F\+I\+F\+O. Reports the quantity of bytes currently in the transmit F\+I\+F\+O, full flag, empty flag, the total size of the F\+I\+F\+O in bytes, and sets tx\+\_\+status to true indicating that this is status specific to the transmit F\+I\+F\+O. 

The status register has the following format\+: status\mbox{[}7\mbox{]} full status\mbox{[}6\mbox{]} empty status\mbox{[}5\mbox{]} not used (future size expansion) status\mbox{[}4\+:0\mbox{]} number of bytes currently in the F\+I\+F\+O


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em status} & Pointer to status data structure to be updated. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 1449 of file idi.\+c.



References spi\+\_\+status\+::empty, spi\+\_\+status\+::fifo\+\_\+count, spi\+\_\+status\+::fifo\+\_\+size, spi\+\_\+status\+::full, I\+O\+\_\+\+Read\+\_\+\+U8(), S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E, S\+P\+I\+\_\+\+Is\+Not\+Present(), and spi\+\_\+status\+::tx\+\_\+status.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Status().


\begin{DoxyCode}
1450 \{
1451     uint8\_t reg\_value;
1452 
1453     \textcolor{keywordflow}{if} ( \hyperlink{idi_8c_ac9892490c6b2d5ee1f3490323aa00965}{SPI\_IsNotPresent}() ) \textcolor{keywordflow}{return} -EC\_SPI\_NOT\_FOUND;
1454 
1455     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_TX\_STATUS, &reg\_value );
1456     status->\hyperlink{structspi__status_a1515bdf17aa69c23285df7f9637ca30e}{fifo\_count} = (int)( reg\_value & 0x1F );
1457     status->\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full}       = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL})( reg\_value & 0x80 );
1458     status->\hyperlink{structspi__status_a771649fbbbbf3161bbddd4d49db51552}{fifo\_size}  = (int) \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE};
1459     status->\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty}      = (\hyperlink{idi_8c_a050c65e107f0c828f856a231f4b4e788}{BOOL})( reg\_value & 0x40 );
1460     status->\hyperlink{structspi__status_a234b821e581a221369b67154e3e7cfa8}{tx\_status}  = \textcolor{keyword}{true};
1461     \textcolor{keywordflow}{return} SUCCESS;
1462 \}
\end{DoxyCode}
\hypertarget{idi_8c_aa1471598d3657b31cd7ef4f354011212}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Full (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_aa1471598d3657b31cd7ef4f354011212}


Returns the transmit/write F\+I\+F\+O full status flag. It is preferable to use the \hyperlink{idi_8c_a26d9db16a301c85b1fc35dbb1bba9997}{S\+P\+I\+\_\+\+Status\+\_\+\+Write()} or \hyperlink{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status()} because all status is retrieved at one time. 

\begin{DoxyReturn}{Returns}
Returns true if the transmit/write F\+I\+F\+O is full. 
\end{DoxyReturn}


Definition at line 1501 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().


\begin{DoxyCode}
1502 \{
1503     uint8\_t reg\_value;
1504     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_TX\_STATUS, &reg\_value );
1505     \textcolor{keywordflow}{if} ( reg\_value & 0x80 ) \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1506     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1507 \}
\end{DoxyCode}
\hypertarget{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Is\+\_\+\+Not\+\_\+\+Empty (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{idi_8c_a8ed95935ad595c4e5dde98ffa26a4689}


Returns the transmit/write F\+I\+F\+O empty status flag. This function is typically used to wait for the transmit/write F\+I\+F\+O to become empty. 

\begin{DoxyReturn}{Returns}
Returns true if the transmit/write F\+I\+F\+O is not empty. 
\end{DoxyReturn}


Definition at line 1572 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8().



Referenced by F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Read(), F\+R\+A\+M\+\_\+\+\_\+\+Memory\+\_\+\+Write(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
1573 \{
1574     uint8\_t reg\_value;
1575     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_TX\_STATUS, &reg\_value );
1576     \textcolor{keywordflow}{if} ( reg\_value & 0x40 ) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1577     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1578 \}
\end{DoxyCode}
\hypertarget{idi_8c_a547a51422c2fdfe3201983874dfa1a38}{\index{idi.\+c@{idi.\+c}!S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status}}
\index{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status@{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status}!idi.\+c@{idi.\+c}}
\subsubsection[{S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status}]{\setlength{\rightskip}{0pt plus 5cm}void S\+P\+I\+\_\+\+Status\+\_\+\+Write\+\_\+\+F\+I\+F\+O\+\_\+\+Status (
\begin{DoxyParamCaption}
\item[{{\bf B\+O\+O\+L} $\ast$}]{full, }
\item[{{\bf B\+O\+O\+L} $\ast$}]{empty, }
\item[{size\+\_\+t $\ast$}]{bytes\+\_\+in\+\_\+fifo}
\end{DoxyParamCaption}
)}}\label{idi_8c_a547a51422c2fdfe3201983874dfa1a38}


Returns the complete write/transmit F\+I\+F\+O status. 

The status register has the following format\+: status\mbox{[}7\mbox{]} full status\mbox{[}6\mbox{]} empty status\mbox{[}5\mbox{]} not used (future size expansion) status\mbox{[}4\+:0\mbox{]} number of bytes currently in the F\+I\+F\+O


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em full} & F\+I\+F\+O full flag \\
\hline
\mbox{\tt out}  & {\em empty} & F\+I\+F\+O empty flag \\
\hline
\mbox{\tt out}  & {\em bytes\+\_\+in\+\_\+fifo} & a count of the number of bytes in the F\+I\+F\+O \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing 
\end{DoxyReturn}


Definition at line 1480 of file idi.\+c.



References I\+O\+\_\+\+Read\+\_\+\+U8(), and S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+Z\+E.



Referenced by S\+P\+I\+\_\+\+Data\+\_\+\+Write\+\_\+\+Read\+\_\+\+Helper(), and S\+P\+I\+\_\+\+F\+I\+F\+O\+\_\+\+Write().


\begin{DoxyCode}
1481 \{
1482     uint8\_t reg\_value;
1483     \hyperlink{idi_8c_a554231d8a65ca3073edc2aaabf347d54}{IO\_Read\_U8}( SPI\_TX\_STATUS, &reg\_value );
1484     \textcolor{keywordflow}{switch}( reg\_value & 0xC0 )
1485     \{
1486         \textcolor{keywordflow}{case} 0x00: *\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full} = \textcolor{keyword}{false};   *\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty} = \textcolor{keyword}{false};        \textcolor{keywordflow}{break};
1487         \textcolor{keywordflow}{case} 0x40: *\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full} = \textcolor{keyword}{false};   *\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty} = \textcolor{keyword}{true};     \textcolor{keywordflow}{break};
1488         \textcolor{keywordflow}{case} 0x80: *\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full} = \textcolor{keyword}{true};    *\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty} = \textcolor{keyword}{false};        \textcolor{keywordflow}{break};
1489         \textcolor{keywordflow}{case} 0xC0: *\hyperlink{structspi__status_a3b60b3c5cbe0736af58dccbde4e3161d}{full} = \textcolor{keyword}{true};    *\hyperlink{structspi__status_a68f61f8d0fb7e552cf463bb4926b5f1d}{empty} = \textcolor{keyword}{true};     \textcolor{keywordflow}{break};
1490     \}
1491     *bytes\_in\_fifo = (size\_t) \hyperlink{idi_8c_a99fb83031ce9923c84392b4e92f956b5a15590147f3d0e4ac1621e33b95beeeaa}{SPI\_FIFO\_SIZE} - (\textcolor{keywordtype}{size\_t})( reg\_value & 0x1F );
1492 \}
\end{DoxyCode}
\hypertarget{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}{\index{idi.\+c@{idi.\+c}!String\+\_\+\+To\+\_\+\+Bool@{String\+\_\+\+To\+\_\+\+Bool}}
\index{String\+\_\+\+To\+\_\+\+Bool@{String\+\_\+\+To\+\_\+\+Bool}!idi.\+c@{idi.\+c}}
\subsubsection[{String\+\_\+\+To\+\_\+\+Bool}]{\setlength{\rightskip}{0pt plus 5cm}{\bf B\+O\+O\+L} String\+\_\+\+To\+\_\+\+Bool (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{idi_8c_a95fbfdb665e1aa54eb081d7d5c7af6a8}


General function used to convert a string into a boolean equivalent value. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & string input for conversion. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a B\+O\+O\+L is returned. The default value returned is false. 
\end{DoxyReturn}


Definition at line 541 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+Main\+\_\+\+I\+O\+\_\+\+Behavior(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Commit(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+\_\+\+Polarity(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+I\+O\+\_\+\+Wrap(), I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+Config\+\_\+\+S\+D\+O\+\_\+\+Polarity(), and I\+D\+I\+\_\+\+C\+M\+D\+\_\+\+\_\+\+S\+P\+I\+\_\+\+F\+I\+F\+O().


\begin{DoxyCode}
542 \{
543     \textcolor{keywordflow}{switch}( str[0] )
544     \{
545     \textcolor{keywordflow}{case} \textcolor{charliteral}{'0'}:
546     \textcolor{keywordflow}{case} \textcolor{charliteral}{'f'}:
547     \textcolor{keywordflow}{case} \textcolor{charliteral}{'F'}:
548         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
549     \textcolor{keywordflow}{case} \textcolor{charliteral}{'1'}:
550     \textcolor{keywordflow}{case} \textcolor{charliteral}{'t'}:
551     \textcolor{keywordflow}{case} \textcolor{charliteral}{'T'}:
552         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
553     \}
554     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
555 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}{\index{idi.\+c@{idi.\+c}!definitions@{definitions}}
\index{definitions@{definitions}!idi.\+c@{idi.\+c}}
\subsubsection[{definitions}]{\setlength{\rightskip}{0pt plus 5cm}const struct {\bf reg\+\_\+definition} definitions\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aeb7b3b3e3ebcfb239c044d8107497cf6}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{

\}
\end{DoxyCode}


Definition at line 433 of file idi.\+c.

\hypertarget{idi_8c_a1d16f5e8ad9dd6c76f321ac20a19f22b}{\index{idi.\+c@{idi.\+c}!ec\+\_\+human\+\_\+readable@{ec\+\_\+human\+\_\+readable}}
\index{ec\+\_\+human\+\_\+readable@{ec\+\_\+human\+\_\+readable}!idi.\+c@{idi.\+c}}
\subsubsection[{ec\+\_\+human\+\_\+readable}]{\setlength{\rightskip}{0pt plus 5cm}const struct {\bf ec\+\_\+human\+\_\+readable} {\bf ec\+\_\+human\+\_\+readable}\mbox{[}$\,$\mbox{]}}}\label{idi_8c_a1d16f5e8ad9dd6c76f321ac20a19f22b}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{

        \hyperlink{idi_8c_aca7b959740043bcdc341579d1de3b587}{EC\_HUMAN\_READABLE\_TERMINATE}
\}
\end{DoxyCode}


Definition at line 411 of file idi.\+c.

\hypertarget{idi_8c_a5321c7cef8321867817b5c9008c27a1a}{\index{idi.\+c@{idi.\+c}!ec\+\_\+unknown@{ec\+\_\+unknown}}
\index{ec\+\_\+unknown@{ec\+\_\+unknown}!idi.\+c@{idi.\+c}}
\subsubsection[{ec\+\_\+unknown}]{\setlength{\rightskip}{0pt plus 5cm}const char ec\+\_\+unknown\mbox{[}$\,$\mbox{]} = \char`\"{}unknown error code\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a5321c7cef8321867817b5c9008c27a1a}


Translates an error code into a human readable message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em error\+\_\+code} & The error code to be translated into a human readable message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a human readable string representing a very brief description of the error code. 
\end{DoxyReturn}


Definition at line 624 of file idi.\+c.



Referenced by E\+C\+\_\+\+Code\+\_\+\+To\+\_\+\+Human\+\_\+\+Readable().

\hypertarget{idi_8c_a68ed5a64a223c6c9c2ef8114ca1b8140}{\index{idi.\+c@{idi.\+c}!idi\+\_\+bank\+\_\+symbol\+\_\+names@{idi\+\_\+bank\+\_\+symbol\+\_\+names}}
\index{idi\+\_\+bank\+\_\+symbol\+\_\+names@{idi\+\_\+bank\+\_\+symbol\+\_\+names}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+bank\+\_\+symbol\+\_\+names}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ idi\+\_\+bank\+\_\+symbol\+\_\+names\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a68ed5a64a223c6c9c2ef8114ca1b8140}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \textcolor{stringliteral}{"IDI\_BANK\_0"},
    \textcolor{stringliteral}{"IDI\_BANK\_1"},
    \textcolor{stringliteral}{"IDI\_BANK\_2"},
    \textcolor{stringliteral}{"IDI\_BANK\_3"},
    \textcolor{stringliteral}{"IDI\_BANK\_4"},
    \textcolor{stringliteral}{"IDI\_BANK\_5"},
    \textcolor{stringliteral}{"IDI\_BANK\_6"},
    \textcolor{stringliteral}{"IDI\_BANK\_7"},
    \textcolor{stringliteral}{"IDI\_BANK\_NONE"},
    \textcolor{stringliteral}{"IDI\_BANK\_UNDEFINED"}
\}
\end{DoxyCode}


Definition at line 418 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+Symbol\+\_\+\+Name\+\_\+\+Bank().

\hypertarget{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}{\index{idi.\+c@{idi.\+c}!idi\+\_\+cmd\+\_\+din@{idi\+\_\+cmd\+\_\+din}}
\index{idi\+\_\+cmd\+\_\+din@{idi\+\_\+cmd\+\_\+din}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+cmd\+\_\+din}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf command\+\_\+line} idi\+\_\+cmd\+\_\+din\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a8c2b4e5773d4dd8e0ea0623c2f27e02d}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \{   \hyperlink{idi_8c_a606ff80c6af794676d2609d022254961}{IDI\_CMD\_\_DIN\_ID},     \textcolor{stringliteral}{"id"},       \textcolor{stringliteral}{"params: none.  Reports the DIN board/component ID.
      "}    \},
    \{   \hyperlink{idi_8c_ac7fce67a17e18f47f5e72ca1c8820647}{IDI\_CMD\_\_DIN\_Channel},   \textcolor{stringliteral}{"chan"},     \textcolor{stringliteral}{"params: <channel>"}                                     
      \},
    \{   \hyperlink{idi_8c_ac49acbd90fd55e5b6bfa1b9306c25efd}{IDI\_CMD\_\_DIN\_Group},       \textcolor{stringliteral}{"group"},    \textcolor{stringliteral}{"params: [<group\_channel | all>]"}                       
      \},
    \{   \hyperlink{idi_8c_ad59aa9edce531ded7d34e236216d0c3c}{IDI\_CMD\_\_DIN\_All},       \textcolor{stringliteral}{"all"},      \textcolor{stringliteral}{"reports all digital inputs in binary and hex"}          
      \},
    \{   NULL,                   NULL,       NULL                                                    \},
\}
\end{DoxyCode}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3411 of file idi.\+c.

\hypertarget{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}{\index{idi.\+c@{idi.\+c}!idi\+\_\+cmd\+\_\+fram@{idi\+\_\+cmd\+\_\+fram}}
\index{idi\+\_\+cmd\+\_\+fram@{idi\+\_\+cmd\+\_\+fram}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+cmd\+\_\+fram}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf command\+\_\+line} idi\+\_\+cmd\+\_\+fram\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a9a96a5eb6fa78887e8b52982f2e33cc2}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \{   \hyperlink{idi_8c_a1e853e6dd18470682ece747ece78f6cf}{IDI\_CMD\_\_FRAM\_Dump},   \textcolor{stringliteral}{"dump"},     \textcolor{stringliteral}{"params: <address> <length>"}                            
      \},
    \{   \hyperlink{idi_8c_a11970f9c47b6ab73a9b61c5fddc97ffc}{IDI\_CMD\_\_FRAM\_Save},       \textcolor{stringliteral}{"save"}      \textcolor{stringliteral}{"params: <address> <length> <binary
       destination file>"}  \},
    \{   \hyperlink{idi_8c_ad08156aad04f93c2cd826c90b9b91566}{IDI\_CMD\_\_FRAM\_Load},       \textcolor{stringliteral}{"load"}      \textcolor{stringliteral}{"params: <address> <binary source file name
      "}            \},
    \{   \hyperlink{idi_8c_a148e18c77ccddbcf64525e077490f25a}{IDI\_CMD\_\_FRAM\_Init},       \textcolor{stringliteral}{"init"}      \textcolor{stringliteral}{"params: [byte/character] [byte/character]
       ..."}         \},
    \{   \hyperlink{idi_8c_aa1120a9ab4e78d6c65dc4fd2a5445d2f}{IDI\_CMD\_\_FRAM\_WREN},       \textcolor{stringliteral}{"wren"}      \textcolor{stringliteral}{"WRite Enable Latch Set"}                                
      \},
    \{   \hyperlink{idi_8c_aa2f4bfa13ac3db30467e75cd0f287e26}{IDI\_CMD\_\_FRAM\_WRDI},       \textcolor{stringliteral}{"wrdi"}      \textcolor{stringliteral}{"WRite DIsable"}                                         
      \},
    \{   \hyperlink{idi_8c_a550c9fd5faeabbeb5e6b0ae9e6b2557a}{IDI\_CMD\_\_FRAM\_RDSR},       \textcolor{stringliteral}{"rdsr"}      \textcolor{stringliteral}{"ReaD Status Register"}                                  
      \},
    \{   \hyperlink{idi_8c_ad7a5bbb7485eb1a88ee66ff36d7c3d61}{IDI\_CMD\_\_FRAM\_WRSR},       \textcolor{stringliteral}{"wrsr"}      \textcolor{stringliteral}{"WRite Status Register.  Params: <status>"}              
      \},
    \{   \hyperlink{idi_8c_aa0454405958e720573dfa6a8641f074e}{IDI\_CMD\_\_FRAM\_RDID},       \textcolor{stringliteral}{"rdid"}      \textcolor{stringliteral}{"ReaD ID Register"}                                      
      \},
    \{   NULL,                   NULL,       NULL                                                    \},
\}
\end{DoxyCode}


Definition at line 3213 of file idi.\+c.

\hypertarget{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}{\index{idi.\+c@{idi.\+c}!idi\+\_\+cmd\+\_\+main@{idi\+\_\+cmd\+\_\+main}}
\index{idi\+\_\+cmd\+\_\+main@{idi\+\_\+cmd\+\_\+main}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+cmd\+\_\+main}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf command\+\_\+line} idi\+\_\+cmd\+\_\+main\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a9a67f3933310bd9859d7e25eca8020bb}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \{   \hyperlink{idi_8c_aed68a86ac0a1465fe0d35a3ab48079dd}{IDI\_CMD\_\_Main\_Base},               \textcolor{stringliteral}{"base"},     \textcolor{stringliteral}{"params: [<address>]"}                                   
      \},
    \{   \hyperlink{idi_8c_a4aff859f461c01bde31699b10f2d602d}{IDI\_CMD\_\_Main\_IO\_Behavior},     \textcolor{stringliteral}{"io"},       \textcolor{stringliteral}{"params: [<simulate>/<report>]"}                         
      \},
    \{   NULL,                           NULL,       NULL                                                    
      \},
\}
\end{DoxyCode}
\begin{DoxyReturn}{Returns}
A zero (S\+U\+C\+C\+E\+S\+S) is returned if successful, otherwise a negative error code is returned. 
\end{DoxyReturn}


Definition at line 3604 of file idi.\+c.

\hypertarget{idi_8c_a152add15a07a391106c4f37efe492073}{\index{idi.\+c@{idi.\+c}!idi\+\_\+cmd\+\_\+spi@{idi\+\_\+cmd\+\_\+spi}}
\index{idi\+\_\+cmd\+\_\+spi@{idi\+\_\+cmd\+\_\+spi}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+cmd\+\_\+spi}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf command\+\_\+line} idi\+\_\+cmd\+\_\+spi\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_a152add15a07a391106c4f37efe492073}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \{   \hyperlink{idi_8c_a668e4784c156d76f27de8e047391007e}{IDI\_CMD\_\_SPI\_ID},                             \textcolor{stringliteral}{"id"},       \textcolor{stringliteral}{"wishbone id: params: none"}                             
      \},
    \{   \hyperlink{idi_8c_af8816b167342609f62dea85684c8668b}{IDI\_CMD\_\_SPI\_Config\_Get},                     \textcolor{stringliteral}{"cfg"},      \textcolor{stringliteral}{"config dump:
       params: none"}                             \},
    \{   \hyperlink{idi_8c_a99f6186befa8e74608716454a91c44bd}{IDI\_CMD\_\_SPI\_Config\_Clock\_Hz},               \textcolor{stringliteral}{"clk"},      \textcolor{stringliteral}{"clk:        
       params: [<clock freq in hertz>]"}          \},
    \{   \hyperlink{idi_8c_a8e322fdc87a9fc7da0cebe8d074693e2}{IDI\_CMD\_\_SPI\_Config\_End\_Cycle\_Delay\_Sec}, \textcolor{stringliteral}{"ecd"},      \textcolor{stringliteral}{"end
       delay:   params: [<time in seconds>]"}              \},
    \{   \hyperlink{idi_8c_a356455eaafd272310dac8a96d94b179d}{IDI\_CMD\_\_SPI\_Config\_Mode},                   \textcolor{stringliteral}{"mode"},     \textcolor{stringliteral}{"mode:       
       params: [<0/1/2/3>]"}                      \},
    \{   \hyperlink{idi_8c_a0d601686f8bd8cf38104226abd0ae0e5}{IDI\_CMD\_\_SPI\_Config\_SDI\_Polarity},           \textcolor{stringliteral}{"sdi"},      \textcolor{stringliteral}{"sdi pol:  
         params: [<true/1/false/0>]"}               \},
    \{   \hyperlink{idi_8c_a50de516119a8ca534f4aada4f825d443}{IDI\_CMD\_\_SPI\_Config\_SDO\_Polarity},           \textcolor{stringliteral}{"sdo"},      \textcolor{stringliteral}{"sdo pol:  
         params: [<true/1/false/0>]"}               \},
    \{   \hyperlink{idi_8c_ac3529e3914f0c1f8e335a3843bed9744}{IDI\_CMD\_\_SPI\_Config\_SDIO\_Wrap},             \textcolor{stringliteral}{"wrap"},     \textcolor{stringliteral}{"sdo-->sdi:  
       params: [<true/1/false/0>]"}               \},
    \{   \hyperlink{idi_8c_ae8a4c4d867aba3d602dc4e74226b7587}{IDI\_CMD\_\_SPI\_Config\_Chip\_Select\_Behavior},   \textcolor{stringliteral}{"csb"},      \textcolor{stringliteral}{"
      chip select behavior: params: [0/1/2/3/software/buffer/uint8/uint16]"}  \},
    \{   \hyperlink{idi_8c_a87f0e514a60de8610820fd7a83703e1c}{IDI\_CMD\_\_SPI\_Status},                     \textcolor{stringliteral}{"status"},   \textcolor{stringliteral}{"status of both TX and RX
       buffers"}                      \},
    \{   \hyperlink{idi_8c_aeca81fe3de2af7764b438c3914b01b18}{IDI\_CMD\_\_SPI\_Data},                         \textcolor{stringliteral}{"data"},     \textcolor{stringliteral}{"read/write:  params: [one
       or more bytes/characters]"}   \},
    \{   \hyperlink{idi_8c_a5c3569de8003fff3301140897d842d79}{IDI\_CMD\_\_SPI\_FIFO},                         \textcolor{stringliteral}{"fifo"},     \textcolor{stringliteral}{"fifo r/w:    params: [one
       or more bytes/characters]"}   \},
    \{   \hyperlink{idi_8c_a4fa9a82ae726923baa736477d50d2589}{IDI\_CMD\_\_SPI\_Commit},                     \textcolor{stringliteral}{"commit"}    \textcolor{stringliteral}{"causes spi transactions to
       start"}                      \},
    \{   NULL,                                   NULL,       NULL                                                    
      \}
\}
\end{DoxyCode}


Definition at line 2994 of file idi.\+c.

\hypertarget{idi_8c_a6f70d49024561badc96c80f6dc08d02d}{\index{idi.\+c@{idi.\+c}!idi\+\_\+dataset@{idi\+\_\+dataset}}
\index{idi\+\_\+dataset@{idi\+\_\+dataset}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+dataset}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf idi\+\_\+dataset} {\bf idi\+\_\+dataset}}}\label{idi_8c_a6f70d49024561badc96c80f6dc08d02d}


Definition at line 441 of file idi.\+c.

\hypertarget{idi_8c_aff30ce3e78536dd65f538be3989eb9ea}{\index{idi.\+c@{idi.\+c}!idi\+\_\+svn\+\_\+revision\+\_\+string@{idi\+\_\+svn\+\_\+revision\+\_\+string}}
\index{idi\+\_\+svn\+\_\+revision\+\_\+string@{idi\+\_\+svn\+\_\+revision\+\_\+string}!idi.\+c@{idi.\+c}}
\subsubsection[{idi\+\_\+svn\+\_\+revision\+\_\+string}]{\setlength{\rightskip}{0pt plus 5cm}const char idi\+\_\+svn\+\_\+revision\+\_\+string\mbox{[}$\,$\mbox{]} = \{ {\bf I\+D\+I\+\_\+\+R\+E\+V} \}\hspace{0.3cm}{\ttfamily [static]}}}\label{idi_8c_aff30ce3e78536dd65f538be3989eb9ea}


Global variables. 



Definition at line 408 of file idi.\+c.



Referenced by I\+D\+I\+\_\+\+Initialization().

